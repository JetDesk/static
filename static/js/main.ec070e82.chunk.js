(this.webpackJsonpjetdesk=this.webpackJsonpjetdesk||[]).push([[0],{104:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),o=a.n(s),l=a(60),c=a(3),i=a(4),m=a(6),u=a(5),p=a(9),d=a(7),h=(a(67),r.a.createContext()),g=(a(21),n.Component,a(11)),v=a(15),k=a.n(v),f=a(18),E=function e(){var t=this;Object(c.a)(this,e),this._apiBase="https://api.jetdesk.app/api",this.xhr=new XMLHttpRequest,this.getResource=function(){var e=Object(f.a)(k.a.mark((function e(a){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(a)+", received ".concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.sendFormRequest=function(e,a){var n=t.xhr,r=t._apiBase+a;n.open("POST",r),n.setRequestHeader("Content-Type","application/json");var s=Object(g.a)({},e);return n.send(JSON.stringify(s)),new Promise((function(e,t){n.onreadystatechange=function(t){4===n.readyState&&(console.log(n.responseText),e(JSON.parse(n.responseText)))}}))},this.getUserData=function(e){var a=t.xhr,n=t._apiBase+"/auth/user";return a.open("POST",n),a.setRequestHeader("Authorization","Bearer "+e),a.send(),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&(console.log(a.responseText),e(JSON.parse(a.responseText)))}}))}},y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={AuthService:new E,userPass:"",showingButton:!1,message:null},e.onPasswordFill=function(t){e.setState({userPass:t.target.value})},e.onPasswordCheck=function(t){t.target.value===e.state.userPass&&e.setState({showingButton:!0})},e.onRegFormSubmit=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;e.state.AuthService.sendFormRequest(a,"/auth/register").then((function(t){e.setState({message:t.message})}))},e.onLoginFormSubmit=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;e.state.AuthService.sendFormRequest(a,"/auth/login").then((function(t){void 0!==t.response.message?e.setState({message:t.response.message}):(localStorage.setItem("token",t.response.token),e.state.AuthService.getUserData(t.response.token).then((function(t){localStorage.setItem("user",JSON.stringify(t)),e.props.logIn()})))}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=(e.showingButton,e.message),a={display:t?"flex":"none"};return r.a.createElement("div",{className:"auth"},r.a.createElement("div",{className:"header"},r.a.createElement("img",{className:"logo",src:"/assets/svg/logo.svg",alt:"JetDesk"}),r.a.createElement("a",{href:"https://jetdesk.app/"},r.a.createElement("span",null,"JetDesk"))),r.a.createElement("div",{style:a,className:"message"},t),r.a.createElement("div",{className:"page-content"},r.a.createElement("form",{id:"login",onSubmit:this.onLoginFormSubmit},r.a.createElement("h1",null,"Sign in"),r.a.createElement("div",{className:"input_block_section"},r.a.createElement("span",null,"Email"),r.a.createElement("input",{type:"email",name:"email",id:"emailL",placeholder:"Enter your email here",required:!0})),r.a.createElement("div",{className:"input_block_section"},r.a.createElement("span",null,"Password"),r.a.createElement("input",{type:"password",onChange:this.onPasswordFill,name:"password",id:"passL",placeholder:"Enter your password here",required:!0})),r.a.createElement("a",{href:"/restore",className:"link"},"Forgot your password?"),r.a.createElement("div",{className:"actions absolute-on-mobile"},r.a.createElement("button",{type:"submit"},"Sign in"),r.a.createElement("a",{href:"/signup"},"I don't have an account"))),r.a.createElement("img",{className:"illustration",src:"/assets/illustration/enter.svg",alt:"Door"})))}}]),a}(n.Component),N=a(59),w=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={AuthService:new E,userPass:"",showingButton:!1,message:null,captchaRes:""},e.onPasswordFill=function(t){e.setState({userPass:t.target.value})},e.onPasswordCheck=function(t){t.target.value===e.state.userPass&&e.setState({showingButton:!0})},e.onRegFormSubmit=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;e.state.AuthService.sendFormRequest(a,"/auth/register").then((function(t){console.log(t),void 0!==t.code?e.setState({message:t.message}):(localStorage.setItem("token",t.token),e.state.AuthService.getUserData(t.token).then((function(t){localStorage.setItem("user",JSON.stringify(t)),e.props.logIn()})))}))},e.onLoginFormSubmit=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;e.state.AuthService.sendFormRequest(a,"/auth/login").then((function(t){void 0!==t.response.message?e.setState({message:t.response.message}):(localStorage.setItem("token",t.response.token),e.state.AuthService.getUserData(t.response.token).then((function(t){localStorage.setItem("user",JSON.stringify(t)),e.props.logIn()})))}))},e.onCaptcha=function(t){console.log("Captcha value:",t),e.setState({captchaRes:t})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.showingButton,a=e.message,n=e.captchaRes,s={pointerEvents:t?"auto":"none",background:t?"linear-gradient(45deg, #4937E8 0%, #2A82E9 100%), #C4C4C4":"#A5A5A5"},o={display:a?"flex":"none"};return r.a.createElement("div",{className:"auth"},r.a.createElement("div",{className:"header"},r.a.createElement("img",{className:"logo",src:"/assets/svg/logo.svg",alt:"JetDesk"}),r.a.createElement("a",{href:"https://jetdesk.app/"},r.a.createElement("span",null,"JetDesk"))),r.a.createElement("div",{style:o,className:"message"},a),r.a.createElement("div",{className:"page-content"},r.a.createElement("form",{id:"registration",onSubmit:this.onRegFormSubmit},r.a.createElement("h1",null,"Sign up"),r.a.createElement("div",{className:"input_block_section"},r.a.createElement("span",null,"Email"),r.a.createElement("input",{type:"email",name:"email",id:"emailR",placeholder:"Your email",required:!0})),r.a.createElement("div",{className:"input_block_section"},r.a.createElement("span",null,"Name and surname"),r.a.createElement("input",{type:"text",name:"name",id:"nameR",placeholder:"Enter your name here",required:!0})),r.a.createElement("div",{className:"input_block_section"},r.a.createElement("span",null,"Pick a password"),r.a.createElement("input",{type:"password",onChange:this.onPasswordFill,name:"password",id:"passR",placeholder:"Enter your password here",required:!0})),r.a.createElement("div",{className:"input_block_section"},r.a.createElement("span",null,"Repeat password"),r.a.createElement("input",{type:"password",onChange:this.onPasswordCheck,name:"password2",id:"confirmpassR",placeholder:"Repeat your password here",required:!0})),r.a.createElement("div",{className:"confirm-info"},"By signin up, you agree to our ",r.a.createElement("a",{href:"#"},"Terms of service")," and ",r.a.createElement("a",{href:"#"},"Privacy policy")),r.a.createElement("input",{type:"hidden",name:"g-recaptcha-response",value:n}),r.a.createElement(N.a,{className:"recaptcha",sitekey:"6Le4cMEZAAAAAOYqtl88xeQVeKXpjeZpjqmgwdP5",onChange:this.onCaptcha}),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{type:"submit",className:"reg",id:"createAccount",style:s},"Sign up"),r.a.createElement("a",{href:"/signin"},"I already have an account"))),r.a.createElement("img",{className:"illustration",src:"/assets/illustration/enter.svg",alt:"Door"})))}}]),a}(n.Component),b=a(27),S=(a(72),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={currentMenuGroup:null},e}return Object(i.a)(a,[{key:"render",value:function(){var e=localStorage.getItem("user");e=JSON.parse(e);var t=this.props.serverUrl+e.response[0].picture,a=this.props,n=a.openHideMenu;a.currentGroupLink;return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"mobile-menu-icon",onClick:n},r.a.createElement("img",{src:"/assets/svg/mobile-menu.svg",alt:"Menu"})),r.a.createElement(d.Link,{to:"/"},r.a.createElement("img",{className:"logo",src:"/assets/svg/logo.svg",alt:"JetDesk"})),r.a.createElement(d.Link,{className:"mobile-logo",to:"/"},r.a.createElement("img",{className:"logo-mobile-icon",src:"/assets/svg/logo.svg",alt:"JetDesk"}),r.a.createElement("span",null,"JetDesk")),r.a.createElement("div",{className:"header-right-side"},r.a.createElement(d.Link,{to:"/profile/"},r.a.createElement("div",{className:"user-icon"},r.a.createElement("img",{src:t,alt:"User"})))))}}]),a}(n.Component)),_=(a(75),a(24)),C=a(25);a(49);function x(){var e=Object(_.a)(["\n  position: absolute;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n"]);return x=function(){return e},e}function O(){var e=Object(_.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  animation: "," 1s infinite;\n  border-radius: 50%;\n"]);return O=function(){return e},e}function T(){var e=Object(_.a)(["\n  0% {\n    background-color: #fff;\n  }\n  50% {\n    background-color: #ccc;\n  }\n  100% {\n    background-color: #fff;\n  }\n"]);return T=function(){return e},e}function U(){var e=Object(_.a)(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n"]);return U=function(){return e},e}C.a.div(U());var P=Object(C.b)(T()),G=(C.a.div(O(),P),C.a.img(x()),function e(){var t=this;Object(c.a)(this,e),this._apiBase="https://api.jetdesk.app/api",this.xhr=new XMLHttpRequest,this.getResource=function(){var e=Object(f.a)(k.a.mark((function e(a){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(a)+", received ".concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.newGroup=function(e){var a=t.xhr,n=t._apiBase+"/group/new";a.open("POST",n),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r=Object(g.a)({},e);return a.send(JSON.stringify(r)),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&(console.log(a.responseText),e(JSON.parse(a.responseText)))}}))},this.getGroupData=function(e){var a=t.xhr,n=t._apiBase+"/group/data";a.open("POST",n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r="link="+encodeURIComponent(e);return a.send(r),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&e(JSON.parse(a.responseText))}}))},this.getGroupMembersAdmin=function(e){var a=t.xhr,n=t._apiBase+"/group/members";a.open("POST",n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r="link="+encodeURIComponent(e);return a.send(r),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&e(JSON.parse(a.responseText))}}))},this.getGroupDataAdmin=function(e){var a=t.xhr,n=t._apiBase+"/group/data-admin";a.open("POST",n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r="link="+encodeURIComponent(e);return a.send(r),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&e(JSON.parse(a.responseText))}}))},this.joinGroup=function(e){var a=t.xhr,n=t._apiBase+"/group/join";a.open("POST",n),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r=Object(g.a)({},e);return a.send(JSON.stringify(r)),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&(console.log(a.responseText),e(JSON.parse(a.responseText)))}}))},this.leaveGroup=function(e){var a=t.xhr,n=t._apiBase+"/group/leave";a.open("POST",n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r="link="+encodeURIComponent(e);return a.send(r),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&e(JSON.parse(a.responseText))}}))},this.getFollowing=function(){var e=t.xhr,a=t._apiBase+"/group/my-following";return e.open("POST",a),e.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token")),e.send(),new Promise((function(t,a){e.onreadystatechange=function(a){4===e.readyState&&t(JSON.parse(e.responseText))}}))},this.getRole=function(e){var a=t.xhr,n=t._apiBase+"/group/my-role";a.open("POST",n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r="link="+encodeURIComponent(e);return a.send(r),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&e(JSON.parse(a.responseText))}}))},this.editGroup=function(e){var a=t.xhr,n=t._apiBase+"/group/edit";a.open("POST",n),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r=Object(g.a)({},e);return a.send(JSON.stringify(r)),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&(console.log(a.responseText),e(JSON.parse(a.responseText)))}}))},this.uploadFile=function(e,a,n){var r=t.xhr,s=t._apiBase+"/group/logo-upload";r.open("POST",s),r.setRequestHeader("Authorization","Bearer "+e);var o=new FormData(n);r.send(o,a),r.onreadystatechange=function(e){4===r.readyState&&(console.log(r.responseText),window.location.reload())},r.onerror=function(e){alert("Error - unsupported picture or format")}},this.getGroupRating=function(e){var a=t.xhr,n=t._apiBase+"/group/get-rating";a.open("POST",n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r="link="+encodeURIComponent(e);return a.send(r),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&e(JSON.parse(a.responseText))}}))},this.hideGroupRating=function(e){var a=t.xhr,n=t._apiBase+"/group/hide-rating";a.open("POST",n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r="link="+encodeURIComponent(e);return a.send(r),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&e(JSON.parse(a.responseText))}}))},this.showGroupRating=function(e){var a=t.xhr,n=t._apiBase+"/group/show-rating";a.open("POST",n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r="link="+encodeURIComponent(e);return a.send(r),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&e(JSON.parse(a.responseText))}}))},this.newFile=function(e){var a=t.xhr,n=t._apiBase+"/group/new-file";a.open("POST",n),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r=Object(g.a)({},e);return a.send(JSON.stringify(r)),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&(console.log(a.responseText),e(JSON.parse(a.responseText)))}}))},this.getGroupFiles=function(e){var a=t.xhr,n=t._apiBase+"/group/group-files";a.open("POST",n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r="link="+encodeURIComponent(e);return a.send(r),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&e(JSON.parse(a.responseText))}}))},this.newLesson=function(e){var a=t.xhr,n=t._apiBase+"/group/new-lesson";a.open("POST",n),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r=Object(g.a)({},e);return a.send(JSON.stringify(r)),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&(console.log(a.responseText),e(JSON.parse(a.responseText)))}}))},this.getLessons=function(e){var a=t.xhr,n=t._apiBase+"/group/lessons";a.open("POST",n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r="link="+encodeURIComponent(e);return a.send(r),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&e(JSON.parse(a.responseText))}}))},this.deleteLesson=function(e,a){var n=t.xhr,r=t._apiBase+"/group/delete-lesson";n.open("POST",r),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var s="link="+encodeURIComponent(e)+"&lessonId="+encodeURIComponent(a);return n.send(s),new Promise((function(e,t){n.onreadystatechange=function(t){4===n.readyState&&e(JSON.parse(n.responseText))}}))},this.setTeacher=function(e,a){var n=t.xhr,r=t._apiBase+"/group/set-teacher";n.open("POST",r),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var s="link="+encodeURIComponent(e)+"&userId="+encodeURIComponent(a);return n.send(s),new Promise((function(e,t){n.onreadystatechange=function(t){4===n.readyState&&e(JSON.parse(n.responseText))}}))},this.setTeacherToStudent=function(e,a){var n=t.xhr,r=t._apiBase+"/group/set-teacher-to-student";n.open("POST",r),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var s="link="+encodeURIComponent(e)+"&userId="+encodeURIComponent(a);return n.send(s),new Promise((function(e,t){n.onreadystatechange=function(t){4===n.readyState&&e(JSON.parse(n.responseText))}}))},this.deleteGroupMember=function(e,a){var n=t.xhr,r=t._apiBase+"/group/remove-member";n.open("POST",r),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var s="link="+encodeURIComponent(e)+"&userId="+encodeURIComponent(a);return n.send(s),new Promise((function(e,t){n.onreadystatechange=function(t){4===n.readyState&&e(JSON.parse(n.responseText))}}))},this.getMemberInfo=function(e,a){var n=t.xhr,r=t._apiBase+"/group/member-info";n.open("POST",r),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var s="link="+encodeURIComponent(e)+"&userId="+encodeURIComponent(a);return n.send(s),new Promise((function(e,t){n.onreadystatechange=function(t){4===n.readyState&&e(JSON.parse(n.responseText))}}))},this.getGroupChat=function(e,a){var n=t.xhr,r=t._apiBase+"/group/chat";n.open("POST",r),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var s="link="+encodeURIComponent(e)+"&page="+encodeURIComponent(a);return n.send(s),new Promise((function(e,t){n.onreadystatechange=function(t){4===n.readyState&&e(JSON.parse(n.responseText))}}))},this.newMessage=function(e){var a=t.xhr,n=t._apiBase+"/group/new-message";a.open("POST",n),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r=Object(g.a)({},e);return a.send(JSON.stringify(r)),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&(console.log(a.responseText),e(JSON.parse(a.responseText)))}}))}}),L=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupService:new G,UserGroups:null},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.GroupService.getFollowing().then((function(t){console.log(t),e.setState({UserGroups:t.response})}))}},{key:"render",value:function(){var e=this.props,t=e.handlePopUpContent,a=e.menuOpened,n=e.openHideMenu,s=e.onlyHideMenu,o=e.serverUrl,l=this.state.UserGroups,c=function(){return l.map((function(e){return r.a.createElement(d.NavLink,{activeclassname:"active",to:"/class/"+e.link,onClick:s,className:"leftmenu_link",key:e.link},r.a.createElement("div",{className:"menu_circle"},"data/uploads/images/default/group.png"!==e.picture?r.a.createElement("img",{src:o+e.picture,title:e.name,alt:e.name}):function(e){var t;e.split(" ").length>=2?t=e.split(" ").slice(0,2).join(" ").match(/\b(\w)/g).join("").substring(0,2):t=e.substring(0,2);return t}(e.name)),r.a.createElement("div",{className:"full_class_info"},r.a.createElement("p",null,e.name),r.a.createElement("span",null,e.school_name)))}))};return r.a.createElement("div",{className:a?"leftmenu opened":"leftmenu"},r.a.createElement("img",{className:"menu",onClick:n,src:"/assets/svg/pc-menu.svg",alt:"Menu"}),r.a.createElement("div",{className:"leftmenu_top_line"},r.a.createElement("div",{className:"menu_logo_block"},r.a.createElement(d.Link,{to:"/"},r.a.createElement("img",{className:"menu_logo",src:"/assets/svg/logo-white.svg",alt:"Logo"})),r.a.createElement("div",{className:"menu_logo_text"},"JetDesk")),r.a.createElement("img",{className:"menu_close",onClick:n,src:"/assets/svg/menu-close-new.svg",alt:"Close Menu"})),r.a.createElement("div",{className:"groups"},l?r.a.createElement(c,null):null),r.a.createElement("div",{className:"leftmenu_bottom",onClick:function(){return t("addJoin")}},r.a.createElement("img",{className:"plus",src:"/assets/svg/plus.svg",alt:"Plus"})),r.a.createElement("div",{className:"leftmenu_bottom_opened"},r.a.createElement("div",{className:"leftmenu_bottom_opened_text"},r.a.createElement("p",null,"Join or create a Class")),r.a.createElement("div",{className:"leftmenu_plus_square",onClick:function(){return t("addJoin",{smallPopUp:!0})}},r.a.createElement("img",{className:"plus",src:"/assets/svg/plus.svg",alt:"Plus"}))))}}]),a}(n.Component),j=(a(80),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"side pc-only"},r.a.createElement("img",{className:"popup-illustration",src:"/assets/illustration/create.svg",alt:"Create"}),r.a.createElement("h2",null,"Create a Group"),r.a.createElement("p",null,"Create your own group, teach and take students to the next level"),r.a.createElement("button",{className:"main",onClick:function(){return e.props.handlePopUpContent("addGroupPopupContent")}},"Create a group")),r.a.createElement("div",{className:"side pc-only"},r.a.createElement("img",{className:"popup-illustration",src:"/assets/illustration/join.svg",alt:"Join"}),r.a.createElement("h2",null,"Join a Group"),r.a.createElement("p",null,"Become a member of the group and start learning effectively and achieve results quickly"),r.a.createElement("button",{className:"main",onClick:function(){return e.props.handlePopUpContent("joinGroupPopupContent")}},"Join a group")),r.a.createElement("div",{className:"mobile-block create-join-class-popup"},r.a.createElement("div",{className:"popup_form"},r.a.createElement("h4",null,"Create or join",r.a.createElement("br",null)," new group"),r.a.createElement("div",{className:"form_action small-margin"},r.a.createElement("div",{className:"cancel",onClick:this.props.changePopUpState},"Cancel"),r.a.createElement("br",null),r.a.createElement("button",{className:"main",onClick:function(){return e.props.handlePopUpContent("addGroupPopupContent")}},"Create a group"),r.a.createElement("button",{className:"main space",onClick:function(){return e.props.handlePopUpContent("joinGroupPopupContent")}},"Join a group")))))}}]),a}(n.Component)),R=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupService:new G,showingSubmit:!0},e.onGroupCreate=function(t){t.preventDefault(),e.setState({showingSubmit:!1});for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;e.state.GroupService.newGroup(a).then((function(t){console.log(t),"100"===t.response.code?window.location="/class/"+t.response.link:alert(t.response.message),e.setState({showingSubmit:!0})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.firstInput.focus()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"popup_form"},r.a.createElement("h4",null,"Create a class"),r.a.createElement("form",{onSubmit:this.onGroupCreate},r.a.createElement("div",{className:"form_elements"},r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"text",ref:function(t){e.firstInput=t},name:"name",placeholder:"Group name (ex.: Math class)",autoComplete:"off",required:!0}),r.a.createElement("span",{className:"label"},"Group name")),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"text",name:"schoolName",placeholder:"(Could be your or a personal brand)",required:!0}),r.a.createElement("span",{className:"label"},"School name")),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"text",name:"code",placeholder:"Ex.: MySecretPass123",autoComplete:"off"}),r.a.createElement("span",{className:"label"},"(Leave empty if you'd like your group to be open to anyone)."),r.a.createElement("span",{className:"label"},"Group invitation pass"))),r.a.createElement("div",{className:"form_action"},r.a.createElement("div",{className:"cancel",onClick:this.props.changePopUpState},"Cancel"),this.state.showingSubmit?r.a.createElement("button",{className:"main",type:"submit"},"Create"):null)))}}]),a}(n.Component),I=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupService:new G},e.onGroupJoin=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;e.state.GroupService.joinGroup(a).then((function(t){console.log(t),void 0!==t.response?"100"===t.response.code?window.location="/class/"+t.response.link:(e.props.updateErrorMessage(t.response.message),e.props.handlePopUpContent("error")):(e.props.updateErrorMessage(t.message),e.props.handlePopUpContent("error"))}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"popup_form"},r.a.createElement("h4",null,"Join a class"),r.a.createElement("form",{onSubmit:this.onGroupJoin},r.a.createElement("div",{className:"form_elements"},r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"text",name:"link",placeholder:"Enter group ID",autoComplete:"off",required:!0}),r.a.createElement("span",{className:"label"},"Group ID")),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"text",name:"code",placeholder:"Enter invitation pass",autoComplete:"off"}),r.a.createElement("span",{className:"label"},"Invitation pass (if required)"))),r.a.createElement("div",{className:"form_action"},r.a.createElement("div",{className:"cancel",onClick:this.props.changePopUpState},"Cancel"),r.a.createElement("button",{className:"main",type:"submit"},"Join"))))}}]),a}(n.Component),M=(a(81),function e(){var t=this;Object(c.a)(this,e),this._apiBase="https://api.jetdesk.app/api",this.xhr=new XMLHttpRequest,this.getResource=function(){var e=Object(f.a)(k.a.mark((function e(a){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(a)+", received ".concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.uploadFile=function(e,a){console.log("I am called");var n=t.xhr,r=t._apiBase+"/user/upload";n.open("POST",r),n.setRequestHeader("Authorization","Bearer "+e);var s=new FormData(a);n.send(s),n.onreadystatechange=function(e){4===n.readyState&&(console.log(n.responseText),t.getUserData(localStorage.getItem("token")).then((function(e){console.log(e),localStorage.setItem("user",JSON.stringify(e)),window.location.reload()})))},n.onerror=function(e){alert("Error - unsupported picture or format")}},this.getUserData=function(e){var a=t.xhr,n=t._apiBase+"/user/data";return a.open("POST",n),a.setRequestHeader("Authorization","Bearer "+e),a.send(),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&(console.log(a.responseText),e(JSON.parse(a.responseText)))}}))},this.getUserLimit=function(e){var a=t.xhr,n=t._apiBase+"/user/limit";return a.open("POST",n),a.setRequestHeader("Authorization","Bearer "+e),a.send(),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&(console.log(a.responseText),e(JSON.parse(a.responseText)))}}))},this.editUserProfile=function(e){var a=t.xhr,n=t._apiBase+"/user/edit";a.open("POST",n),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r=Object(g.a)({},e);return a.send(JSON.stringify(r)),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&(console.log(a.responseText),e(JSON.parse(a.responseText)))}}))},this.changeUserPassword=function(e){var a=t.xhr,n=t._apiBase+"/user/password";a.open("POST",n),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r=Object(g.a)({},e);return a.send(JSON.stringify(r)),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&(console.log(a.responseText),e(JSON.parse(a.responseText)))}}))}}),A=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={UserService:new M},e.onPictureUpload=function(t){t.preventDefault(),e.state.UserService.uploadFile(localStorage.getItem("token"),document.getElementById("profile-picture-form")).then((function(e){console.log(e)}))},e.onUserImageUploaded=function(){e.state.UserService.getUserData(localStorage.getItem("token")).then((function(e){console.log(e),localStorage.setItem("user",JSON.stringify(e)),window.location.reload()}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{id:"profile-picture-form",enctype:"multipart/form-data",method:"POST",onSubmit:this.onPictureUpload},r.a.createElement("div",{className:"form_content upload"},r.a.createElement("div",{className:"form_elements upload"},r.a.createElement("img",{src:"/assets/illustration/selfie.svg",className:"popup-illustration",alt:"selfie"}),r.a.createElement("input",{type:"file",id:"profile-picture-id",accept:"image/*",name:"profilepic"})),r.a.createElement("button",{className:"main",type:"submit"}," Upload "),r.a.createElement("div",{className:"form_action upload"},r.a.createElement("div",{className:"cancel mobile-only",onClick:this.props.changePopUpState},"Cancel"))))}}]),a}(n.Component),D=function e(){var t=this;Object(c.a)(this,e),this._apiBase="https://api.jetdesk.app/api",this.xhr=new XMLHttpRequest,this.getResource=function(){var e=Object(f.a)(k.a.mark((function e(a){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t._apiBase).concat(a));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(a)+", received ".concat(n.status));case 5:return e.next=7,n.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.newTask=function(e){var a=t.xhr,n=t._apiBase+"/task/new";a.open("POST",n),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r=Object(g.a)({},e);return a.send(JSON.stringify(r)),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&(console.log(a.responseText),e(JSON.parse(a.responseText)))}}))},this.editTask=function(e){var a=t.xhr,n=t._apiBase+"/task/edit";a.open("POST",n),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r=Object(g.a)({},e);return a.send(JSON.stringify(r)),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&(console.log(a.responseText),e(JSON.parse(a.responseText)))}}))},this.getTasks=function(e){var a=t.xhr,n=t._apiBase+"/task/tasks";a.open("POST",n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r="link="+encodeURIComponent(e);return a.send(r),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&e(JSON.parse(a.responseText))}}))},this.getTasksWithMyHomework=function(e){var a=t.xhr,n=t._apiBase+"/task/tasks-with-my-homework";a.open("POST",n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r="link="+encodeURIComponent(e);return a.send(r),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&e(JSON.parse(a.responseText))}}))},this.getSingleTask=function(e){var a=t.xhr,n=t._apiBase+"/task/single-task";a.open("POST",n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r="taskLink="+encodeURIComponent(e);return a.send(r),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&e(JSON.parse(a.responseText))}}))},this.getTaskAdminRole=function(e){var a=t.xhr,n=t._apiBase+"/task/task-admin";a.open("POST",n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r="taskLink="+encodeURIComponent(e);return a.send(r),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&e(JSON.parse(a.responseText))}}))},this.getAdminRole=function(e){var a=t.xhr,n=t._apiBase+"/task/group-admin";a.open("POST",n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r="groupLink="+encodeURIComponent(e);return a.send(r),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&e(JSON.parse(a.responseText))}}))},this.newHomework=function(e){var a=t.xhr,n=t._apiBase+"/task/homework-new";a.open("POST",n),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r=Object(g.a)({},e);return a.send(JSON.stringify(r)),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&(console.log(a.responseText),e(JSON.parse(a.responseText)))}}))},this.getSingleHomework=function(e){var a=t.xhr,n=t._apiBase+"/task/homework-load-single";a.open("POST",n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r="taskLink="+encodeURIComponent(e);return a.send(r),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&e(JSON.parse(a.responseText))}}))},this.getAllHomework=function(e,a){var n=t.xhr,r=t._apiBase+"/task/homework-load-all";n.open("POST",r),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var s="taskLink="+encodeURIComponent(e)+"&link="+encodeURIComponent(a);return n.send(s),new Promise((function(e,t){n.onreadystatechange=function(t){4===n.readyState&&e(JSON.parse(n.responseText))}}))},this.getSingleHomeworkAdmin=function(e){var a=t.xhr,n=t._apiBase+"/task/homework-load-single-admin";a.open("POST",n),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r="homeworkLink="+encodeURIComponent(e);return a.send(r),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&e(JSON.parse(a.responseText))}}))},this.rateHomeworkAdmin=function(e){var a=t.xhr,n=t._apiBase+"/task/homework-check-admin";a.open("POST",n),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r=Object(g.a)({},e);return a.send(JSON.stringify(r)),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&(console.log(a.responseText),e(JSON.parse(a.responseText)))}}))},this.commentHomeworkAdmin=function(e,a){var n=t.xhr,r=t._apiBase+"/task/homework-comment-admin";n.open("POST",r),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var s="homeworkLink="+encodeURIComponent(e)+"&teacherComment="+encodeURIComponent(a);return n.send(s),new Promise((function(e,t){n.onreadystatechange=function(t){4===n.readyState&&(console.log(n.responseText),e(JSON.parse(n.responseText)))}}))},this.deleteTaskAction=function(e,a){var n=t.xhr,r=t._apiBase+"/task/delete-task";n.open("POST",r),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var s="link="+encodeURIComponent(e)+"&taskLink="+encodeURIComponent(a);return n.send(s),new Promise((function(e,t){n.onreadystatechange=function(t){4===n.readyState&&e(JSON.parse(n.responseText))}}))},this.newFile=function(e){var a=t.xhr,n=t._apiBase+"/task/new-file";a.open("POST",n),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r=Object(g.a)({},e);return a.send(JSON.stringify(r)),new Promise((function(e,t){a.onreadystatechange=function(t){4===a.readyState&&(console.log(a.responseText),e(JSON.parse(a.responseText)))}}))},this.getTaskFiles=function(e,a){var n=t.xhr,r=t._apiBase+"/task/task-files";n.open("POST",r),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var s="link="+encodeURIComponent(e)+"&taskLink="+encodeURIComponent(a);return n.send(s),new Promise((function(e,t){n.onreadystatechange=function(t){4===n.readyState&&e(JSON.parse(n.responseText))}}))},this.deleteTaskFileAdmin=function(e,a){var n=t.xhr,r=t._apiBase+"/task/delete-task-file";n.open("POST",r),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var s="link="+encodeURIComponent(a)+"&fileId="+encodeURIComponent(e);return n.send(s),new Promise((function(e,t){n.onreadystatechange=function(t){4===n.readyState&&(console.log(n.responseText),e(JSON.parse(n.responseText)))}}))},this.getMyFiles=function(e,a){var n=t.xhr,r=t._apiBase+"/task/my-task-files";n.open("POST",r),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var s="link="+encodeURIComponent(e)+"&taskLink="+encodeURIComponent(a);return n.send(s),new Promise((function(e,t){n.onreadystatechange=function(t){4===n.readyState&&e(JSON.parse(n.responseText))}}))},this.deleteMyTaskFile=function(e,a){var n=t.xhr,r=t._apiBase+"/task/delete-my-file";n.open("POST",r),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var s="link="+encodeURIComponent(a)+"&fileId="+encodeURIComponent(e);return n.send(s),new Promise((function(e,t){n.onreadystatechange=function(t){4===n.readyState&&(console.log(n.responseText),e(JSON.parse(n.responseText)))}}))},this.getStudentTaskFiles=function(e,a){var n=t.xhr,r=t._apiBase+"/task/student-task-files";n.open("POST",r),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var s="link="+encodeURIComponent(e)+"&homeworkLink="+encodeURIComponent(a);return n.send(s),new Promise((function(e,t){n.onreadystatechange=function(t){4===n.readyState&&e(JSON.parse(n.responseText))}}))}},H=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={TaskService:new D,taskColor:"blue"},e.updateNewTaskColor=function(t){e.setState({taskColor:t})},e.onTaskCreate=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;console.log(a),e.state.TaskService.newTask(a).then((function(e){console.log(e),"100"===e.response.code?window.location="/task/"+e.response.link:alert(e.response.message)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.firstInput.focus()}},{key:"render",value:function(){var e=this,t=new Date;return t=t.toISOString().substring(0,10),r.a.createElement("div",{className:"popup_form"},r.a.createElement("h4",null,"Create a task"),r.a.createElement("form",{onSubmit:this.onTaskCreate},r.a.createElement("div",{className:"form_elements"},r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"text",ref:function(t){e.firstInput=t},name:"name",placeholder:"Task name (ex: Write a Poem)",required:!0}),r.a.createElement("span",{className:"label"},"Task name")),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"text",name:"topic",placeholder:"(Could be any subject)",required:!0}),r.a.createElement("span",{className:"label"},"Task subject")),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"date",id:"start",min:t,name:"deadline",placeholder:"Select the deadline date",required:!0}),r.a.createElement("span",{className:"label"},"Task deadline")),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"number",name:"maxMark",placeholder:"Ex.: 100",required:!0}),r.a.createElement("span",{className:"label"},"Max Mark")),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"text",name:"comment",placeholder:"(Task description)",required:!0}),r.a.createElement("span",{className:"label"},"Comment")),r.a.createElement("div",{className:"form_radio_color_section"},r.a.createElement("span",null,"Select a color tag for the task"),r.a.createElement("input",{type:"radio",name:"color_picker",id:"color_1",value:"blue"}),r.a.createElement("label",{htmlFor:"color_1",onClick:function(){return e.updateNewTaskColor("blue")},className:"small_circle blue"}),r.a.createElement("input",{type:"radio",name:"color_picker",id:"color_2",value:"green"}),r.a.createElement("label",{htmlFor:"color_2",onClick:function(){return e.updateNewTaskColor("green")},className:"small_circle green"}),r.a.createElement("input",{type:"radio",name:"color_picker",id:"color_3",value:"red"}),r.a.createElement("label",{htmlFor:"color_3",onClick:function(){return e.updateNewTaskColor("red")},className:"small_circle red"}),r.a.createElement("input",{type:"radio",name:"color_picker",id:"color_4",value:"pink"}),r.a.createElement("label",{htmlFor:"color_4",onClick:function(){return e.updateNewTaskColor("pink")},className:"small_circle pink"}),r.a.createElement("input",{type:"radio",name:"color_picker",id:"color_5",value:"yellow"}),r.a.createElement("label",{htmlFor:"color_5",onClick:function(){return e.updateNewTaskColor("yellow")},className:"small_circle yellow"})),r.a.createElement("input",{type:"hidden",name:"color",value:this.state.taskColor}),r.a.createElement("input",{type:"hidden",name:"link",value:this.props.currentGroupLink}),r.a.createElement("div",{className:"bottom-gradient"})),r.a.createElement("div",{className:"form_action"},r.a.createElement("div",{className:"cancel",onClick:this.props.changePopUpState},"Cancel"),r.a.createElement("button",{className:"main",type:"submit"},"Create"))))}}]),a}(n.Component),B=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"error_block"},r.a.createElement("img",{className:"popup-illustration",src:"/assets/illustration/error.svg",alt:"Error"}),r.a.createElement("p",{className:"error_text"},this.props.errorMessage),r.a.createElement("div",{className:"cancel",onClick:this.props.changePopUpState},"Cancel"))}}]),a}(n.Component),q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={TaskService:new D,TaskInfo:null,taskColor:null},e.updateNewTaskColor=function(t){e.setState({taskColor:t})},e.onTaskEdit=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;console.log(a),e.state.TaskService.editTask(a).then((function(e){console.log(e),"100"===e.response.code?window.location="/task/"+e.response.link:alert("Error! Check console")}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.currentGroupLink;console.log(t),this.state.TaskService.getSingleTask(t).then((function(t){console.log(t),void 0===t.code?(e.setState({TaskInfo:t.response[0],taskColor:t.response[0].color}),e.firstInput.focus()):window.location="/"}))}},{key:"render",value:function(){var e=this,t=this.state.TaskInfo,a=new Date;return a=a.toISOString().substring(0,10),null!==t?r.a.createElement("div",{className:"popup_form"},r.a.createElement("h4",null,"Edit task"),r.a.createElement("form",{onSubmit:this.onTaskEdit},r.a.createElement("div",{className:"form_elements"},r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"text",ref:function(t){e.firstInput=t},name:"name",placeholder:"Task name (ex: Write a Poem)",defaultValue:t.name,required:!0}),r.a.createElement("span",{className:"label"},"Task name")),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"text",name:"topic",placeholder:"(Could be any subject)",defaultValue:t.topic,required:!0}),r.a.createElement("span",{className:"label"},"Task subject")),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"date",id:"start",min:a,name:"deadline",placeholder:"Select the deadline date",defaultValue:t.deadline.substring(0,10),required:!0}),r.a.createElement("span",{className:"label"},"Task deadline")),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"number",name:"maxMark",placeholder:"Ex.: 100",defaultValue:t.max_mark,required:!0}),r.a.createElement("span",{className:"label"},"Max Mark")),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"text",name:"comment",placeholder:"(Task description)",defaultValue:t.comment,required:!0}),r.a.createElement("span",{className:"label"},"Comment")),r.a.createElement("div",{className:"form_radio_color_section"},r.a.createElement("span",null,"Select a color tag for the task"),r.a.createElement("span",null,"(Current color is ",this.state.taskColor,")"),r.a.createElement("input",{type:"radio",name:"color_picker",id:"color_1",value:"blue"}),r.a.createElement("label",{htmlFor:"color_1",onClick:function(){return e.updateNewTaskColor("blue")},className:"small_circle blue"}),r.a.createElement("input",{type:"radio",name:"color_picker",id:"color_2",value:"green"}),r.a.createElement("label",{htmlFor:"color_2",onClick:function(){return e.updateNewTaskColor("green")},className:"small_circle green"}),r.a.createElement("input",{type:"radio",name:"color_picker",id:"color_3",value:"red"}),r.a.createElement("label",{htmlFor:"color_3",onClick:function(){return e.updateNewTaskColor("red")},className:"small_circle red"}),r.a.createElement("input",{type:"radio",name:"color_picker",id:"color_4",value:"pink"}),r.a.createElement("label",{htmlFor:"color_4",onClick:function(){return e.updateNewTaskColor("pink")},className:"small_circle pink"}),r.a.createElement("input",{type:"radio",name:"color_picker",id:"color_5",value:"yellow"}),r.a.createElement("label",{htmlFor:"color_5",onClick:function(){return e.updateNewTaskColor("yellow")},className:"small_circle yellow"})),r.a.createElement("input",{type:"hidden",name:"link",value:t.group_link}),r.a.createElement("input",{type:"hidden",name:"taskLink",value:t.task_link}),r.a.createElement("input",{type:"hidden",name:"color",value:this.state.taskColor}),r.a.createElement("div",{className:"bottom-gradient"})),r.a.createElement("div",{className:"form_action"},r.a.createElement("div",{className:"cancel",onClick:this.props.changePopUpState},"Cancel"),r.a.createElement("button",{className:"main",type:"submit"},"Edit")))):r.a.createElement("p",null,"Task can't be loaded...")}}]),a}(n.Component),F=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={TaskService:new D},e.onHomeworkRate=function(t){console.log("onHomeworkRate called"),t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;console.log(a),e.state.TaskService.rateHomeworkAdmin(a).then((function(t){console.log(t),"100"===t.response.code?window.location="/task/"+e.props.currentGroupLink.task_link:alert("Error! Check console")}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.currentGroupLink;return console.log(e),r.a.createElement("div",{className:"popup_form"},r.a.createElement("h4",null,"Rate the work"),r.a.createElement("form",{onSubmit:this.onHomeworkRate},r.a.createElement("div",{className:"form_elements"},r.a.createElement("div",{className:"form_input_section"},r.a.createElement("textarea",{name:"teacherComment",placeholder:"Comment...",required:!0}),r.a.createElement("span",{className:"label"},"Your comment")),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"number",min:"1",max:e.max_mark,name:"teacherMark",placeholder:"Enter the mark",required:!0}),r.a.createElement("span",{className:"label"},"Mark (1/",e.max_mark,")")),r.a.createElement("input",{type:"hidden",name:"homeworkLink",value:e.homework_link})),r.a.createElement("div",{className:"form_action"},r.a.createElement("div",{className:"cancel",onClick:this.props.changePopUpState},"Cancel"),r.a.createElement("button",{className:"main",type:"submit"},"Send"))))}}]),a}(n.Component),J=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupService:new G},e.onNewFile=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;console.log(a),e.state.GroupService.newFile(a).then((function(t){console.log(t),"100"===t.response.code?window.location="/class/"+e.props.currentGroupLink:alert(t.response.message)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.currentGroupLink;return r.a.createElement("div",{className:"popup_form"},r.a.createElement("h4",null,"New Attachment"),r.a.createElement("form",{onSubmit:this.onNewFile},r.a.createElement("div",{className:"form_elements"},r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"url",name:"fileLink",placeholder:"Enter a link",required:!0}),r.a.createElement("span",{className:"label"},"Link a file from Dropbox, Google Drive, or One Drive")),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"text",name:"fileName",placeholder:"Name your attachment",required:!0}),r.a.createElement("span",{className:"label"},"Ex: Quantum chromodynamics")),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("textarea",{name:"fileComment",placeholder:"Short comment...",required:!0}),r.a.createElement("span",{className:"label"},"Your short comment (file description)")),r.a.createElement("input",{type:"hidden",name:"link",value:e})),r.a.createElement("div",{className:"form_action"},r.a.createElement("div",{className:"cancel",onClick:this.props.changePopUpState},"Cancel"),r.a.createElement("button",{className:"main",type:"submit"},"Attach"))))}}]),a}(n.Component),z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={TaskService:new D},e.onNewFile=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;console.log(a);var r=e.props.currentGroupLink;e.state.TaskService.newFile(a).then((function(e){console.log(e),"100"===e.response.code?window.location="/task/"+r.taskLink:alert(e.response.message)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.currentGroupLink;return r.a.createElement("div",{className:"popup_form"},r.a.createElement("h4",null,"New Attachment"),r.a.createElement("form",{onSubmit:this.onNewFile},r.a.createElement("div",{className:"form_elements"},r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"url",name:"fileLink",placeholder:"Enter a link",required:!0}),r.a.createElement("span",{className:"label"},"Link a file from Dropbox, Google Drive, Google Docs or One Drive")),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"text",name:"fileName",placeholder:"Name your attachment",required:!0}),r.a.createElement("span",{className:"label"},"Ex: Quantum chromodynamics")),r.a.createElement("input",{type:"hidden",name:"link",value:e.currentGroupLink}),r.a.createElement("input",{type:"hidden",name:"taskLink",value:e.taskLink})),r.a.createElement("div",{className:"form_action"},r.a.createElement("div",{className:"cancel",onClick:this.props.changePopUpState},"Cancel"),r.a.createElement("button",{className:"main",type:"submit"},"Attach"))))}}]),a}(n.Component),W=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupService:new G},e.leaveGroupAction=function(){e.state.GroupService.leaveGroup(e.props.currentGroupLink.GroupLink).then((function(e){console.log(e),window.location="/"}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"confirm"},r.a.createElement("div",{className:"info"},"Are you sure you want to leave the group?"),r.a.createElement("div",{className:"confirm-action"},r.a.createElement("div",{className:"yes",onClick:this.leaveGroupAction},"Yes"),r.a.createElement("div",{className:"no",onClick:this.props.changePopUpState},"No")))}}]),a}(n.Component),V=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupService:new G,checkboxIsChecked:!1},e.handleCheckboxChange=function(t){var a=t.target.checked;console.log(a),e.setState({checkboxIsChecked:a})},e.onEventCreate=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;console.log(a),e.state.GroupService.newLesson(a).then((function(e){console.log(e),"100"===e.response.code?window.location="/admin/manage-lessons/"+e.response.link:alert(e.response.message)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.firstInput.focus()}},{key:"render",value:function(){var e=this,t=new Date;return t=t.toISOString().substring(0,10),r.a.createElement("div",{className:"popup_form"},r.a.createElement("h4",null,"Add a Lesson (Event)"),r.a.createElement("form",{onSubmit:this.onEventCreate},r.a.createElement("div",{className:"form_elements"},r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"text",ref:function(t){e.firstInput=t},name:"title",placeholder:"Event name (ex: Math Class)",required:!0}),r.a.createElement("span",{className:"label"},"Lesson name")),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"text",name:"description",placeholder:"(Event description)",required:!0}),r.a.createElement("span",{className:"label"},"Description")),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"date",min:t,name:"eventDate",placeholder:"Select the event date",required:!0}),r.a.createElement("span",{className:"label"},"Date")),r.a.createElement("div",{className:"checkbox-line"},r.a.createElement("input",{type:"checkbox",onChange:this.handleCheckboxChange,value:"true"})," ",r.a.createElement("span",{className:"checkbox-info"},"Repeat every week")),r.a.createElement("br",null),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"time",placeholder:"Select the event time",name:"startTime",min:"00:00",max:"24:00",required:!0}),r.a.createElement("span",{className:"label"},"Time")),r.a.createElement("div",{className:"form_input_section"},r.a.createElement("input",{type:"text",name:"lessonUrl",placeholder:"(Google Meet, Zoom...)"}),r.a.createElement("span",{className:"label"},"Lesson URL (Link)")),r.a.createElement("input",{type:"hidden",name:"link",value:this.props.currentGroupLink}),r.a.createElement("input",{type:"hidden",name:"recurring",value:this.state.checkboxIsChecked}),r.a.createElement("div",{className:"bottom-gradient"})),r.a.createElement("div",{className:"form_action"},r.a.createElement("div",{className:"cancel",onClick:this.props.changePopUpState},"Cancel"),r.a.createElement("button",{className:"main",type:"submit"},"Create"))))}}]),a}(n.Component),Y=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupService:new G},e.deleteLessonAction=function(t){e.state.GroupService.deleteLesson(e.props.currentGroupLink.link,t).then((function(e){console.log(e),window.location.reload()}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.currentGroupLink.eventId;return r.a.createElement("div",{className:"confirm"},r.a.createElement("div",{className:"info"},"Are you sure you want to delete this lesson?"),r.a.createElement("div",{className:"confirm-action"},r.a.createElement("div",{className:"yes",onClick:function(){return e.deleteLessonAction(t)}},"Yes"),r.a.createElement("div",{className:"no",onClick:this.props.changePopUpState},"No")))}}]),a}(n.Component),X=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupService:new G},e.onPictureUpload=function(t){t.preventDefault(),console.log(e.props.currentGroupLink),e.state.GroupService.uploadFile(localStorage.getItem("token"),e.props.currentGroupLink,document.getElementById("group-picture-form")).then((function(e){console.log(e),window.location.reload()}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{id:"group-picture-form",method:"POST",enctype:"multipart/form-data",onSubmit:this.onPictureUpload},r.a.createElement("div",{className:"form_content upload"},r.a.createElement("div",{className:"form_elements upload"},r.a.createElement("img",{src:"/assets/illustration/selfie.svg",className:"popup-illustration",alt:"selfie"}),r.a.createElement("input",{type:"file",id:"profile-picture",accept:"image/*",name:"grouppic"}),r.a.createElement("input",{type:"hidden",name:"link",value:this.props.currentGroupLink})),r.a.createElement("button",{className:"main",type:"submit"}," Upload "),r.a.createElement("div",{className:"form_action upload"},r.a.createElement("div",{className:"cancel mobile-only",onClick:this.props.changePopUpState},"Cancel"))))}}]),a}(n.Component),Q=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupService:new G},e.deleteMemberAction=function(){e.state.GroupService.deleteGroupMember(e.props.currentGroupLink.GroupLink,e.props.currentGroupLink.UserId).then((function(e){console.log(e),window.location.reload()}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"confirm"},r.a.createElement("div",{className:"info"},"Are you sure you want to remove this group member?"),r.a.createElement("div",{className:"confirm-action"},r.a.createElement("div",{className:"yes",onClick:this.deleteMemberAction},"Yes"),r.a.createElement("div",{className:"no",onClick:this.props.changePopUpState},"No")))}}]),a}(n.Component),Z=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupService:new G,MemberInfo:null},e.showRoleMenu=function(e){document.getElementById("roleMenuInfo"+e).style.display="block",document.addEventListener("click",(function t(a){document.getElementById("roleMenuInfo"+e).contains(a.target)||(document.getElementById("roleMenuInfo"+e).style.display="none",document.removeEventListener("click",t,!1))}))},e.setTeacher=function(t){e.state.GroupService.setTeacher(e.props.currentGroupLink.GroupLink,t).then((function(e){"100"!==e.response.code?alert("To many teachers for this group..."):window.location.reload()}))},e.setTeacherToStudent=function(t){e.state.GroupService.setTeacherToStudent(e.props.currentGroupLink.GroupLink,t).then((function(e){console.log(e),window.location.reload()}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.currentGroupLink.UserId,a=this.props.currentGroupLink.GroupLink;this.state.GroupService.getMemberInfo(a,t).then((function(t){console.log(t),void 0===t.code?e.setState({MemberInfo:t.response}):window.location="/"}))}},{key:"render",value:function(){var e=this,t=this.state.MemberInfo,a=this.props.handlePopUpContent;return null!==t?r.a.createElement("div",{className:"popup_form"},r.a.createElement("h4",null,"Information"),r.a.createElement("form",null,r.a.createElement("div",{className:"form_elements"},r.a.createElement("div",{className:"info_block"},r.a.createElement("span",{className:"label"},"Full Name"),r.a.createElement("span",{className:"info"},t.userData.name)),r.a.createElement("div",{className:"info_block"},r.a.createElement("span",{className:"label"},"Role"),r.a.createElement("span",{className:"info"}," ",t.userRole," ","admin"!==t.userRole?r.a.createElement("img",{onClick:function(){return e.showRoleMenu(t.id)},className:"down-icon",src:"/assets/svg/down.svg",alt:"Select"}):null," "),r.a.createElement("div",{className:"role-menu",id:"roleMenuInfo"+t.id},"teacher"===t.userRole?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"line blue"},r.a.createElement("img",{src:"/assets/svg/check.svg",alt:"Check"})," Teacher"),r.a.createElement("div",{className:"line",onClick:function(){return e.setTeacherToStudent(t.id)}},"Student")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"line blue"},r.a.createElement("img",{src:"/assets/svg/check.svg",alt:"Check"})," Student"),r.a.createElement("div",{className:"line",onClick:function(){return e.setTeacher(t.id)}},"Teacher")))),r.a.createElement("div",{className:"info_block"},r.a.createElement("span",{className:"label"},"Mark"),r.a.createElement("span",{className:"info"},t.totalUserMark)),"admin"!==t.userRole?r.a.createElement("div",{className:"delete-action",onClick:function(){return a("deleteMember",{smallPopUp:!0,GroupLink:e.props.currentGroupLink.GroupLink,UserId:t.id})}},"Remove member"):null),r.a.createElement("div",{className:"form_action"},r.a.createElement("div",{className:"cancel",onClick:this.props.changePopUpState},"Cancel")))):r.a.createElement("p",null,"Member can't be loaded...")}}]),a}(n.Component),K=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={TaskService:new D},e.deleteTaskAction=function(){var t=e.props.currentGroupLink.link,a=e.props.currentGroupLink.taskLink;e.state.TaskService.deleteTaskAction(t,a).then((function(e){console.log(e),window.location.reload()}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"confirm"},r.a.createElement("div",{className:"info"},"Are you sure you want to delete this task?"),r.a.createElement("div",{className:"confirm-action"},r.a.createElement("div",{className:"yes",onClick:function(){return e.deleteTaskAction()}},"Yes"),r.a.createElement("div",{className:"no",onClick:this.props.changePopUpState},"No")))}}]),a}(n.Component),$=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t={addJoin:r.a.createElement(j,{handlePopUpContent:this.context.handlePopUpContent,changePopUpState:this.context.changePopUpState}),addGroupPopupContent:r.a.createElement(R,{changePopUpState:this.context.changePopUpState}),joinGroupPopupContent:r.a.createElement(I,{changePopUpState:this.context.changePopUpState,updateErrorMessage:this.context.updateErrorMessage,handlePopUpContent:this.context.handlePopUpContent}),userPicture:r.a.createElement(A,{changePopUpState:this.context.changePopUpState}),newTask:r.a.createElement(H,{currentGroupLink:this.context.currentGroupLink,changePopUpState:this.context.changePopUpState}),editTask:r.a.createElement(q,{currentGroupLink:this.context.currentGroupLink,changePopUpState:this.context.changePopUpState}),deleteTask:r.a.createElement(K,{currentGroupLink:this.context.currentGroupLink,changePopUpState:this.context.changePopUpState}),rateHomework:r.a.createElement(F,{currentGroupLink:this.context.currentGroupLink,changePopUpState:this.context.changePopUpState}),newFile:r.a.createElement(J,{currentGroupLink:this.context.currentGroupLink,changePopUpState:this.context.changePopUpState}),leaveGroup:r.a.createElement(W,{currentGroupLink:this.context.currentGroupLink,changePopUpState:this.context.changePopUpState}),newTaskFile:r.a.createElement(z,{currentGroupLink:this.context.currentGroupLink,changePopUpState:this.context.changePopUpState}),newLesson:r.a.createElement(V,{currentGroupLink:this.context.currentGroupLink,changePopUpState:this.context.changePopUpState}),deleteLesson:r.a.createElement(Y,{currentGroupLink:this.context.currentGroupLink,changePopUpState:this.context.changePopUpState}),groupPicture:r.a.createElement(X,{currentGroupLink:this.context.currentGroupLink,changePopUpState:this.context.changePopUpState}),deleteMember:r.a.createElement(Q,{currentGroupLink:this.context.currentGroupLink,changePopUpState:this.context.changePopUpState}),memberInfo:r.a.createElement(Z,{handlePopUpContent:this.context.handlePopUpContent,currentGroupLink:this.context.currentGroupLink,changePopUpState:this.context.changePopUpState}),error:r.a.createElement(B,{errorMessage:this.context.errorMessage,changePopUpState:this.context.changePopUpState})};return r.a.createElement(h.Consumer,null,(function(a){var n,s=a.changePopUpState,o=a.popUpContent;return n=null!==e.context.currentGroupLink&&e.context.currentGroupLink.smallPopUp,r.a.createElement("div",{className:n?"popup small":"popup"},r.a.createElement("img",{className:"close",onClick:s,src:"/assets/svg/close.svg",alt:"Close"}),o?t[o]:null)}))}}]),a}(n.Component);$.contextType=h;var ee=$,te=(a(98),n.Component,function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={menuOpened:!1},e.handleThePageClick=e.handleThePageClick.bind(Object(b.a)(e)),e.openHideMenu=function(){console.log(e.state.menuOpened),e.state.menuOpened?(console.log("unset"),document.getElementById("page").removeEventListener("touchmove",e.handleTouchMove),document.getElementById("page").removeEventListener("click",e.handleThePageClick)):(console.log("hidden"),document.getElementById("page").addEventListener("touchmove",e.handleTouchMove,!1),document.getElementById("page").addEventListener("click",e.handleThePageClick,!1)),e.setState({menuOpened:!e.state.menuOpened})},e.onlyHideMenu=function(){e.setState({menuOpened:!1}),document.getElementById("page").removeEventListener("touchmove",e.handleTouchMove),document.getElementById("page").removeEventListener("click",e.handleThePageClick)},e}return Object(i.a)(a,[{key:"handleTouchMove",value:function(e){e.preventDefault()}},{key:"handleThePageClick",value:function(e){this.onlyHideMenu()}},{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"layout"},r.a.createElement(r.a.Fragment,null,r.a.createElement(L,{menuOpened:this.state.menuOpened,openHideMenu:this.openHideMenu,onlyHideMenu:this.onlyHideMenu,handlePopUpContent:this.context.handlePopUpContent,serverUrl:this.context.serverUrl}),r.a.createElement("div",{className:"page",id:"page"},r.a.createElement(S,{menuOpened:this.state.menuOpened,openHideMenu:this.openHideMenu,serverUrl:this.context.serverUrl,currentGroupLink:this.context.currentGroupLink}),r.a.createElement("div",{className:"page_content"},r.a.Children.map(this.props.children,(function(e,t){return e})))),this.context.showingPopUp?r.a.createElement("div",{onClick:this.context.changePopUpState,className:"popup-overlay",id:"popupOverlay"}):null,this.context.showingPopUp?r.a.createElement(ee,null):null)))}}]),a}(n.Component));te.contextType=h;var ae=te,ne=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.context.handlePopUpContent,t=localStorage.getItem("user"),a=(t=JSON.parse(t)).response[0].name.replace(/ .*/,"");return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"illustration-area"},r.a.createElement("div",{onClick:function(){return e("addJoin")},className:"magic-plus pc"}),r.a.createElement("div",{onClick:function(){return e("addJoin",{smallPopUp:!0})},className:"magic-plus mobile"}),r.a.createElement("img",{className:"illustration",src:"/assets/illustration/new.svg",alt:"Quick Start"})),r.a.createElement("p",null,"Hi, ",a,"! Join or create a class ",r.a.createElement("br",null),'by clicking on the "+"'))}}]),a}(n.Component);ne.contextType=h;var re=ne,se=(a(99),a(53)),oe=a.n(se),le=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={UserService:new M,currentUserUsage:null,currentUserPlan:null},e.onProfileEdit=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;e.state.UserService.editUserProfile(a).then((function(t){console.log(t),e.state.UserService.getUserData(localStorage.getItem("token")).then((function(e){console.log(e),localStorage.setItem("user",JSON.stringify(e)),window.location.reload()}))}))},e.onPasswordChange=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;e.state.UserService.changeUserPassword(a).then((function(t){if(console.log(t),void 0!==t.response)alert("Password has been updated successfully, please login."),localStorage.clear(),window.location.reload();else{var a=e.context;a.updateErrorMessage(t.message),a.handlePopUpContent("error")}}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.state.UserService.getUserLimit(localStorage.getItem("token")).then((function(t){console.log(t),e.setState({currentUserUsage:t.response.totalFollowers,currentUserPlan:t.response.userPlan})}))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.context,t=e.serverUrl,a=e.logOut,n=e.handlePopUpContent,s=this.state.currentUserPlan,o=localStorage.getItem("user"),l=t+(o=JSON.parse(o)).response[0].picture,c=o.response[0].name,i=o.response[0].email,m={email:o.response[0].email,name:o.response[0].name,avatar:{type:"avatar",image_url:this.context.serverUrl+o.response[0].picture}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"goback_button",onClick:function(){return window.history.back()}},r.a.createElement("img",{className:"back_icon",src:"/assets/svg/back.svg",alt:"Back"}),"Go back"),r.a.createElement("div",{className:"userpage"},r.a.createElement("div",{className:"left-side"},r.a.createElement("div",{className:"page_heading space"},"Settings "),r.a.createElement("div",{className:"profile-settings"},r.a.createElement("h3",null,"Profile"),r.a.createElement("div",{className:"profile_picture"},r.a.createElement("span",null,"Porfile picture"),r.a.createElement("div",{className:"profile_picture_line"},r.a.createElement("img",{src:l,alt:"User"}),r.a.createElement("span",{className:"upload",onClick:function(){return n("userPicture")}},"Upload profile picture"))),r.a.createElement("form",{onSubmit:this.onProfileEdit},r.a.createElement("div",{className:"profile_settings_input_block"},r.a.createElement("span",null,"Full name"),r.a.createElement("input",{type:"text",name:"name",defaultValue:c})),r.a.createElement("div",{className:"profile_settings_input_block"},r.a.createElement("span",null,"Email"),r.a.createElement("input",{type:"email",name:"email",defaultValue:i})),r.a.createElement("button",{className:"main",type:"submit"},"Save")),r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("h3",null,"Security"),r.a.createElement("form",{onSubmit:this.onPasswordChange},r.a.createElement("div",{className:"profile_settings_input_block"},r.a.createElement("span",null,"Old Password"),r.a.createElement("input",{type:"password",name:"password",placeholder:"*************"})),r.a.createElement("div",{className:"profile_settings_input_block"},r.a.createElement("span",null,"New Password"),r.a.createElement("input",{type:"password",name:"newPassword",placeholder:"*************"})),r.a.createElement("button",{className:"main",type:"submit"},"Update"))),r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("div",{className:"logout pc",onClick:a},"Log Out")),r.a.createElement("div",{className:"right-side"},r.a.createElement("h3",null,"Your plan"),r.a.createElement("div",{className:"plan"},r.a.createElement("div",{className:"plan-header"},r.a.createElement("div",{className:"top-line"},r.a.createElement("h4",null,"Personal ",r.a.createElement("br",null),"Plan"),r.a.createElement("span",null,"Forever")),r.a.createElement("p",null,"Your total limit of members in groups: ",this.state.currentUserUsage,"/","free"===s?10:null,"enterprise"===s?250:null,"  ",r.a.createElement("img",{src:"/assets/svg/info.svg",alt:"info"}))),r.a.createElement("div",{className:"plan-info"},r.a.createElement("p",null,"For everyone who wants to learn and teach productivly!"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("img",{src:"/assets/svg/blue-check.svg",alt:"check"}),"Ulimited tasks"),r.a.createElement("li",null,r.a.createElement("img",{src:"/assets/svg/blue-check.svg",alt:"check"}),"Ulimited lessons"),r.a.createElement("li",null,r.a.createElement("img",{src:"/assets/svg/blue-check.svg",alt:"check"}),"Ulimited attachments"),r.a.createElement("li",null,r.a.createElement("img",{src:"/assets/svg/blue-check.svg",alt:"check"}),"Visible/Invisible rating"),r.a.createElement("li",null,r.a.createElement("img",{src:"/assets/svg/blue-check.svg",alt:"check"}),"Group chat")))),r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("div",{className:"logout mobile",onClick:a},"Log Out"))),r.a.createElement(oe.a,Object.assign({appID:"h6o7ooze"},m)))}}]),a}(n.Component);le.contextType=h;var ce=le,ie=(a(104),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={Clock:null},e.updateClock=function(){var t=new Date,a=t.getHours()+":"+((t.getMinutes()<10?"0":"")+t.getMinutes());e.setState({Clock:a})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.updateClock(),this.intervalClock=setInterval((function(){return e.updateClock()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalClock)}},{key:"render",value:function(){var e=this.state.Clock;return r.a.createElement("div",{className:"clock"},e)}}]),a}(n.Component)),me=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={TaskService:new D,TasksList:null,GroupLink:null},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.link;t!==this.state.GroupLink&&(this.setState({GroupLink:t}),this.state.TaskService.getTasks(this.props.link).then((function(t){console.log(t.response),e.setState({TasksList:t.response})})))}},{key:"render",value:function(){var e=this.state.TasksList,t=this.context.reformatDate;if(null!==e){var a=function(){return e.map((function(e){return r.a.createElement("div",{className:"task_slide",key:e.task_link},r.a.createElement("div",{className:"task_heading"},r.a.createElement("div",{className:"task_circle small_circle "+e.color}),e.name.length<25?e.name:e.name.substr(0,25)+"..."),r.a.createElement("div",{className:"task_deadline"},"Untill ",t(e.deadline.substr(0,10))),r.a.createElement("div",{className:"task_short_description"},e.comment.length<90?e.comment:e.comment.substr(0,90)+"..."),r.a.createElement(d.Link,{to:"/task/"+e.task_link},r.a.createElement("button",{className:"main task_more"},"Open the task")),r.a.createElement(d.Link,{to:"/task/"+e.task_link},r.a.createElement("button",{className:"main task_more mobile"},"More")))}))};return!1!==e?r.a.createElement("div",{className:"tasks_slider"},r.a.createElement(a,null)):r.a.createElement("div",{className:"widget_info"},r.a.createElement("div",{className:"info-message"},r.a.createElement("img",{className:"info-illustration",src:"/assets/illustration/desk-gray.svg",alt:"Desk"}),r.a.createElement("span",null,"The teacher hasn't posted any tasks yet. You can rest! ")))}return r.a.createElement("p",null,"Loading...")}}]),a}(n.Component);me.contextType=h;var ue=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupService:new G,RatingList:null,GroupLink:null,showingRatingReloadInfo:null},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.showingRating,a=this.props.link;a===this.state.GroupLink&&t===this.state.showingRatingReloadInfo||(this.setState({GroupLink:a,showingRatingReloadInfo:this.props.showingRating}),this.state.GroupService.getGroupRating(this.props.link).then((function(t){console.log(t),void 0!==t.response.code&&777!==t.response.code?e.setState({RatingList:"off"}):e.setState({RatingList:t.response})})))}},{key:"render",value:function(){var e=this.state.RatingList,t=this.context.serverUrl;if(null!==e){var a=function(){return e.map((function(e,a){return r.a.createElement("div",{className:"rating-line",key:e.userData.name},r.a.createElement("span",{className:"place"},a+1),r.a.createElement("img",{src:t+e.userData.picture,alt:"User Pic"}),r.a.createElement("span",{className:"name"},e.userData.name))}))};return!1!==e?"off"!==e?r.a.createElement("div",{className:"rating-list"},r.a.createElement(a,null)):r.a.createElement("div",{className:"widget_info"},r.a.createElement("div",{className:"info-message"},r.a.createElement("img",{className:"info-illustration",src:"/assets/illustration/champ-gray.svg",alt:"Rating"}),r.a.createElement("span",null,"Oops, the teacher has hidden",r.a.createElement("br",null)," group rating"))):r.a.createElement("div",{className:"widget_info"},r.a.createElement("img",{src:"/assets/svg/circle.svg",alt:"Circle"}),r.a.createElement("span",null,"No data to rate from... "))}return r.a.createElement("p",null,"Loading...")}}]),a}(n.Component);ue.contextType=h;var pe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupService:new G,FilesList:null,GroupLink:null},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.link;t!==this.state.GroupLink&&(this.setState({GroupLink:t}),this.state.GroupService.getGroupFiles(this.props.link).then((function(t){e.setState({FilesList:t.response})})))}},{key:"render",value:function(){var e=this.state.FilesList;if(null!==e){if(!1!==e){var t=function(){return e.map((function(e,t){return r.a.createElement("div",{className:"file-line",key:e.file_name+t},r.a.createElement("div",{className:"top-line"},r.a.createElement("span",{className:"name"},e.file_name),r.a.createElement("span",{className:"type"},e.type),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.file_link},r.a.createElement("img",{src:"/assets/svg/download.svg",alt:"Open"}))),r.a.createElement("span",{className:"comment"},e.file_comment.substr(0,40)))}))};return r.a.createElement("div",{className:"files-list"},r.a.createElement(t,null))}return r.a.createElement("div",{className:"widget_info"},r.a.createElement("div",{className:"info-message"},r.a.createElement("img",{className:"info-illustration",src:"/assets/illustration/files-gray.svg",alt:"Files"}),r.a.createElement("span",null,"Oops, a teacher hasn't attached any",r.a.createElement("br",null)," files yet")))}return r.a.createElement("p",null,"Loading...")}}]),a}(n.Component);pe.contextType=h;var de=a(61),he=a(54),ge=a(55),ve=a(56),ke=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupService:new G,LessonsList:null,GroupLink:null,showingEventBlock:!1,selectedEvent:null},e.hideEventInfo=function(){e.setState({showingEventBlock:!1})},e.handleDateClick=function(e){console.log(e)},e.handleEventClick=function(t){console.log(t),e.setState({selectedEvent:t.event,showingEventBlock:!0})},e.setClipboard=function(e){var t=document.createElement("input");t.style="position: absolute; left: -1000px; top: -1000px",t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),alert("Copied!")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.link;t!==this.state.GroupLink&&(this.setState({GroupLink:t}),this.state.GroupService.getLessons(this.props.link).then((function(t){console.log(t),e.setState({LessonsList:t.response})})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.showingEventBlock,n=t.selectedEvent,s=t.LessonsList;t.GroupLink;if(null!==s){console.log(s);for(var o=[],l=0;l<s.length;l++)0==s[l].recurring?o.push({date:s[l].eventDate.substring(0,10)+" "+s[l].start_time,title:s[l].title,description:s[l].description,extendedProps:{lesson_url:s[l].lesson_url}}):o.push({daysOfWeek:[s[l].days_of_week],startTime:s[l].start_time,title:s[l].title,description:s[l].description,extendedProps:{lesson_url:s[l].lesson_url}});console.log(o);var c=function(t){if(console.log(t),a){var n=t.eventInfo._def,s=t.eventInfo._instance.range.start,o=new Date(s),l=o.getTimezoneOffset();l=l.toString().substring(1),o.setMinutes(o.getMinutes()-l);var c=o.getDay(),i=["January","February","March","April","May","June","July","August","September","October","November","December"][o.getMonth()],m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][o.getDay()],u=o.getHours(),p=o.getMinutes();console.log(p.length),1===p.toString().length&&(p="0"+p);var d={display:null!==n.extendedProps.lesson_url?"flex":"none"};return r.a.createElement("div",{className:"event-info"},r.a.createElement("div",{className:"top-line"},r.a.createElement("div",{className:"name"},r.a.createElement("div",{className:"circle"})," ",n.title),r.a.createElement("img",{onClick:e.hideEventInfo,className:"event-info-close",src:"/assets/svg/blue-x.svg"})),r.a.createElement("div",{className:"date"},r.a.createElement("div",{className:"blue"},i," ",c,", ",u,":",p," "),m),r.a.createElement("div",{className:"event-description"},r.a.createElement("p",null,n.extendedProps.description),r.a.createElement("div",{className:"bottom-gradient"})),r.a.createElement("div",{className:"actions",style:d},r.a.createElement("a",{rel:"noopener noreferrer",href:"".concat(n.extendedProps.lesson_url),target:"_blank"},r.a.createElement("button",{className:"main"},"Join meeting")),r.a.createElement("div",{className:"copy-link",onClick:function(){return e.setClipboard(n.extendedProps.lesson_url)}},r.a.createElement("img",{src:"/assets/svg/copy.svg"}),"Copy link")))}return null};return r.a.createElement("div",{className:"calendar-wrapper"},r.a.createElement(de.a,{plugins:[he.a,ge.a,ve.a],dateClick:this.handleDateClick,eventClick:this.handleEventClick,timezone:"local",ignoreTimezone:!1,initialView:"listMonth",weekends:!0,events:o}),r.a.createElement(c,{eventInfo:n}))}return r.a.createElement("p",null,"Loading...")}}]),a}(n.Component);ke.contextType=h;var fe=a(57),Ee=a.n(fe),ye=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupService:new G,ChatMessages:null,GroupLink:null,CurrentChatPage:1,TotalChatPages:null,refreshChat:!1,UserInputText:""},e.getChatData=function(t){console.log("getChatData page: "+t),e.state.GroupService.getGroupChat(e.props.link,t).then((function(t){console.log(t),e.setState({ChatMessages:t.response.data,CurrentChatPage:t.response.page,TotalChatPages:t.response.totalpages}),t.response.data}))},e.sendMessage=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;console.log(a),e.state.GroupService.newMessage(a).then((function(t){console.log(t),e.setState({UserInputText:""}),null!==document.getElementById("userMessageInput1")&&(document.getElementById("userMessageInput1").value=""),null!==document.getElementById("userMessageInput2")&&(document.getElementById("userMessageInput2").value=""),document.getElementById("chat").scrollIntoView(),e.getChatData(1)}))},e.workWithMessage=function(e){function t(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!=t[7].length)&&t[7]}var a;return a=t(e)?"".concat(e,' <br /><br /> <iframe key="').concat(t(e),'" src="https://www.youtube.com/embed/').concat(t(e),'" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'):null!=e.match(/\.(jpeg|jpg|gif|png)$/)?"".concat(e,' <br /><br /> <img src="').concat(e,'" alt="').concat(e,'" />'):e.replace(/(https?:\/\/[^\s]+)/g,(function(e){var t=e.replace(/(^\w+:|^)\/\//,"");return'<a href="'.concat(e,'" target="_blank">').concat(t,"</a>")})),a=Ee()(a)},e.loadMoreMessages=function(){e.getChatData(parseInt(e.state.CurrentChatPage)+1)},e.handleInputChange=function(t){e.setState({UserInputText:t.target.value})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this.props.refreshChat,t=this.props.link;t===this.state.GroupLink&&e===this.state.refreshChat||(this.setState({GroupLink:t,refreshChat:e,UserInputText:""}),this.getChatData(1))}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state,a=t.ChatMessages,n=t.GroupLink,s=t.CurrentChatPage,o=t.TotalChatPages,l=(t.UserInputText,this.context.serverUrl);if(null!==a){var c=function(){return a.map((function(t,a,n){return void 0!==n[a+1]?n[a].user_id!==n[a+1].user_id?r.a.createElement("div",{className:"chat-message",key:t.id},r.a.createElement("img",{className:"user-picture",src:l+t.userData.picture,alt:"User Pic"}),r.a.createElement("div",{className:"message-wrapper"},r.a.createElement("span",{className:"name"},t.userData.name),r.a.createElement("div",{className:"message",key:"message"+t.id},e.workWithMessage(t.message)))):r.a.createElement("div",{className:"chat-message me",key:t.id},r.a.createElement("div",{className:"message-wrapper me"},r.a.createElement("div",{className:"message",key:"message"+t.id},e.workWithMessage(t.message)))):r.a.createElement("div",{className:"chat-message",key:t.id},r.a.createElement("img",{className:"user-picture",src:l+t.userData.picture,alt:"User Pic"}),r.a.createElement("div",{className:"message-wrapper"},r.a.createElement("span",{className:"name"},t.userData.name),r.a.createElement("div",{className:"message",key:"message"+t.id},e.workWithMessage(t.message))))}))},i=function(t){return r.a.createElement("span",{className:"load-more",onClick:function(){return e.loadMoreMessages()}},"Show older messages")};return void 0!==a?r.a.createElement("div",{className:"chat",key:"chat"},r.a.createElement("div",{className:"chat-messages-list",key:"chat-messages-list"},r.a.createElement(c,{key:"ChatMessagesBlock"}),parseInt(o)!==parseInt(s)?r.a.createElement(i,null):null),r.a.createElement("div",{className:"message-input",key:"message-input1"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("form",{onSubmit:this.sendMessage},r.a.createElement("input",{name:"message",type:"text",placeholder:"Enter your message...",autoComplete:"off",id:"userMessageInput1",key:"userMessageInput1"}),r.a.createElement("input",{name:"link",type:"hidden",value:n}),r.a.createElement("button",{type:"submit",className:"send"}))))):r.a.createElement("div",{className:"widget_info chat"},r.a.createElement("div",{className:"info-message"},r.a.createElement("img",{className:"info-illustration",src:"/assets/illustration/plane.svg",alt:"Plane"}),r.a.createElement("span",null,"Be the first one",r.a.createElement("br",null)," to leave a message!")),r.a.createElement("div",{className:"message-input",key:"message-input2"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("form",{onSubmit:this.sendMessage},r.a.createElement("input",{name:"message",type:"text",placeholder:"Enter your message...",autoComplete:"off",id:"userMessageInput2",key:"userMessageInput2"}),r.a.createElement("input",{name:"link",type:"hidden",value:n}),r.a.createElement("button",{type:"submit",className:"send"})))))}return r.a.createElement("p",null,"Loading...")}}]),a}(n.Component);ye.contextType=h;a(118);var Ne=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={currentMenuGroup:null},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.currentGroupLink,a=e.isAdmin;return r.a.createElement("div",{className:"top-menu-absolute"},a?r.a.createElement("div",{className:"top-menu"},r.a.createElement(d.Link,{to:"/class/"+t},r.a.createElement("span",null,"Main")),r.a.createElement(d.Link,{to:"/admin/settings/"+t},r.a.createElement("span",null,"Class settings")),r.a.createElement(d.Link,{to:"/admin/manage-members/"+t},r.a.createElement("span",null,"Users")),r.a.createElement(d.Link,{to:"/tasks/"+t},r.a.createElement("span",null,"Tasks"))):r.a.createElement("div",{className:"top-menu"},r.a.createElement(d.Link,{to:"/class/"+t},r.a.createElement("span",null,"Main")),r.a.createElement(d.Link,{to:"/tasks/"+t},r.a.createElement("span",null,"Tasks"))))}}]),a}(n.Component),we=(a(47),a(17)),be=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(a,[{key:"render",value:function(){this.props.handlePopUpContent;var e=function(e,t){var a=e.offsetTop-t;window.scroll({top:a,left:0,behavior:"smooth"})};return r.a.createElement("div",{className:"mobile-menu"},r.a.createElement("div",{className:"menu-link"},r.a.createElement(we.HashLink,{smooth:!0,to:"#home",scroll:function(t){return e(t,150)}},r.a.createElement("div",{className:"img home"}),r.a.createElement("span",null,"Home"))),r.a.createElement("div",{className:"menu-link"},r.a.createElement(we.HashLink,{smooth:!0,to:"#tasks",scroll:function(t){return e(t,50)}},r.a.createElement("div",{className:"img tasks"}),r.a.createElement("span",null,"Tasks"))),r.a.createElement("div",{className:"menu-link"},r.a.createElement(we.HashLink,{to:"#rating",scroll:function(t){return e(t,50)}},r.a.createElement("div",{className:"img rating"}),r.a.createElement("span",null,"Rating"))),r.a.createElement("div",{className:"menu-link"},r.a.createElement(we.HashLink,{to:"#chat",scroll:function(t){return e(t,50)}},r.a.createElement("div",{className:"img chat"}),r.a.createElement("span",null,"Chat"))),r.a.createElement("div",{className:"menu-link"},r.a.createElement(we.HashLink,{to:"#files",scroll:function(t){return e(t,50)}},r.a.createElement("div",{className:"img files"}),r.a.createElement("span",null,"Files"))))}}]),a}(n.Component),Se=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupService:new G,GroupLink:null,GroupInfo:null,UserRole:null,showingGroupMenu:!1,showingRating:null,refreshChat:!1},e.showHideGroupMenu=function(){e.setState({showingGroupMenu:!e.state.showingGroupMenu})},e.hideGroupRating=function(){var t=e.props.match.params.link;e.state.GroupService.hideGroupRating(t).then((function(t){console.log(t),e.setState({showingRating:!1})}))},e.showGroupRating=function(){var t=e.props.match.params.link;e.state.GroupService.showGroupRating(t).then((function(t){console.log(t),e.setState({showingRating:!0})}))},e.refreshChat=function(){e.setState({refreshChat:!e.state.refreshChat})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.match.params.link;this.state.GroupLink!==t&&(console.log("Update"),this.setState({GroupLink:t,showingGroupMenu:!1}),this.state.GroupService.getGroupData(t).then((function(a){console.log(a),a.response?e.state.GroupService.getRole(t).then((function(t){e.setState({UserRole:t.response}),e.setState({GroupInfo:a.response[0]})})):(console.log("Not found"),window.location="/")})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.GroupInfo,n=t.UserRole,s=t.GroupLink,o=t.showingGroupMenu,l=t.showingRating,c=t.refreshChat,i=this.context,m=i.handlePopUpContent,u=i.serverUrl;console.log(o);if(null!==a){var p=function(e){return null===l?1===a.rating?r.a.createElement("img",{onClick:e.hideGroupRating,className:"plus_icon",src:"/assets/svg/eye.svg",alt:"Show"}):r.a.createElement("img",{onClick:e.showGroupRating,className:"plus_icon",src:"/assets/svg/eye-hide.svg",alt:"Hide"}):l?r.a.createElement("img",{onClick:e.hideGroupRating,className:"plus_icon",src:"/assets/svg/eye.svg",alt:"Show"}):r.a.createElement("img",{onClick:e.showGroupRating,className:"plus_icon",src:"/assets/svg/eye-hide.svg",alt:"Hide"})};return r.a.createElement(r.a.Fragment,null,"admin"===n?r.a.createElement(Ne,{currentGroupLink:s,isAdmin:!0}):r.a.createElement(Ne,{currentGroupLink:s}),r.a.createElement("div",{className:"grouppage",id:"home"},o?r.a.createElement("div",{className:"groupmenu_clicker_overlay",onClick:this.showHideGroupMenu}):null,r.a.createElement(ie,null),r.a.createElement("div",{className:"page_heading"},a.name," ","admin"===n?r.a.createElement(d.Link,{to:"/admin/settings/"+s},r.a.createElement("img",{className:"settings_icon",src:"/assets/svg/settings.svg",alt:"Settings"})):r.a.createElement("div",{className:"actions_block"},r.a.createElement("img",{className:"more_icon",onClick:this.showHideGroupMenu,src:"/assets/svg/more.svg",alt:"More"}),o?r.a.createElement("div",{className:"group-menu",onClick:function(){return m("leaveGroup",{smallPopUp:!0,GroupLink:s})}},"Leave group"):null)),r.a.createElement("div",{className:"school_name"},r.a.createElement(d.Link,{className:"icon_link",to:"/admin/settings/"+s}," ","data/uploads/images/default/group.png"!==a.picture?r.a.createElement("img",{src:u+a.picture,title:a.name,alt:a.name}):r.a.createElement("div",{className:"group-circle"},function(e){var t;e.split(" ").length>=2?t=e.split(" ").slice(0,2).join(" ").match(/\b(\w)/g).join("").substring(0,2):t=e.substring(0,2);return t}(a.name))," "),a.school_name),r.a.createElement("div",{className:"grouppage_blocks"},r.a.createElement("div",{className:"block tasks_block",id:"tasks"},r.a.createElement("div",{className:"block_heading"},r.a.createElement(d.Link,{className:"icon_link",to:"/tasks/"+s},"Tasks")," ","admin"===n||"teacher"===n?r.a.createElement(r.a.Fragment,null," ",r.a.createElement("img",{onClick:function(){return m("newTask",s)},className:"plus_icon",src:"/assets/svg/+.svg",alt:"+"})," ",r.a.createElement(d.Link,{className:"icon_link",to:"/tasks/"+s},r.a.createElement("img",{className:"settings_block_icon",src:"/assets/svg/settings.svg",alt:"Settings"})," ")):r.a.createElement(d.Link,{className:"icon-link",to:"/tasks/"+s},r.a.createElement("img",{className:"forward_icon",src:"/assets/svg/forward.svg",alt:"Forward"})," ")),r.a.createElement("div",{className:"widget_box"},r.a.createElement(me,{link:s}),r.a.createElement("div",{className:"gradient"}))),r.a.createElement("div",{className:"block"},r.a.createElement("div",{className:"block_heading"},"Lessons ","admin"===n||"teacher"===n?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{onClick:function(){return m("newLesson",a.link)},className:"plus_icon",src:"/assets/svg/+.svg",alt:"+"})," ",r.a.createElement(d.Link,{className:"icon_link",to:"/admin/manage-lessons/"+s},r.a.createElement("img",{className:"settings_block_icon",src:"/assets/svg/settings.svg",alt:"Settings"})," ")):null),r.a.createElement("div",{className:"widget_box calendar"},r.a.createElement(ke,{link:s})))),r.a.createElement("div",{className:"grouppage_blocks second"},r.a.createElement("div",{className:"block",id:"rating"},r.a.createElement("div",{className:"block_heading"},"Rating ","admin"===n||"teacher"===n?r.a.createElement(p,{hideGroupRating:this.hideGroupRating,showGroupRating:this.showGroupRating}):null," ","admin"===n||"teacher"===n?r.a.createElement(d.Link,{className:"icon_link",to:"/admin/manage-members/"+s},r.a.createElement("img",{className:"settings_block_icon",src:"/assets/svg/settings.svg",alt:"Settings"})," "):null),r.a.createElement("div",{className:"widget_box bottom_scroll_box"},r.a.createElement(ue,{link:s,showingRating:this.state.showingRating}),r.a.createElement("div",{className:"bottom-gradient"}))),r.a.createElement("div",{className:"block",id:"files"},r.a.createElement("div",{className:"block_heading"},"Attachments ","admin"===n||"teacher"===n?r.a.createElement("img",{onClick:function(){return m("newFile",s)},className:"plus_icon",src:"/assets/svg/+.svg",alt:"+"}):null),r.a.createElement("div",{className:"widget_box bottom_scroll_box"},r.a.createElement(pe,{link:s}),r.a.createElement("div",{className:"bottom-gradient"}))),r.a.createElement("div",{className:"block",id:"chat"},r.a.createElement("div",{className:"block_heading"},"Chat ",r.a.createElement("img",{className:"refresh_icon",onClick:function(){return e.refreshChat()},src:"/assets/svg/refresh.svg",alt:"Refresh"})),r.a.createElement("div",{className:"widget_box chat"},r.a.createElement(ye,{link:s,refreshChat:c}))))),r.a.createElement(be,null))}return r.a.createElement("div",{className:"grouppage"})}}]),a}(n.Component);Se.contextType=h;var _e=Se,Ce=(a(119),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.isTeacher,t=function(e,t){var a=e.offsetTop-t;window.scroll({top:a,left:0,behavior:"smooth"})};return r.a.createElement("div",{className:"mobile-menu"},r.a.createElement("div",{className:"menu-link"},r.a.createElement(we.HashLink,{smooth:!0,to:"#task-scroll",scroll:function(e){return t(e,150)}},r.a.createElement("div",{className:"img tasks"}),r.a.createElement("span",null,"Task"))),r.a.createElement("div",{className:"menu-link"},e?r.a.createElement(we.HashLink,{smooth:!0,to:"#studentswork-scroll",scroll:function(e){return t(e,150)}},r.a.createElement("div",{className:"img list"}),r.a.createElement("span",null,"Student's work")):r.a.createElement(we.HashLink,{smooth:!0,to:"#yourwork-scroll"},r.a.createElement("div",{className:"img list"}),r.a.createElement("span",null,"Your Work"))))}}]),a}(n.Component)),xe=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={TaskService:new D,TaskInfo:null,GroupLink:null,UserRole:null,UserHomework:null,TaskFiles:null,MyFiles:null,AllHomeWorks:[]},e.onNewHomework=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;console.log(a),console.log(a.comment.length),a.comment.length>=7e3?(e.context.updateErrorMessage("Your text is too long!"),e.context.handlePopUpContent("error")):e.state.TaskService.newHomework(a).then((function(e){console.log(e),"100"===e.response.code?window.location.reload():alert("Error! Check console")}))},e.deleteTaskFileAdmin=function(t){e.state.TaskService.deleteTaskFileAdmin(t,e.state.TaskInfo.group_link).then((function(e){console.log(e),window.location.reload()}))},e.deleteMyTaskFile=function(t){e.state.TaskService.deleteMyTaskFile(t,e.state.TaskInfo.group_link).then((function(e){console.log(e),window.location.reload()}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.link;this.state.TaskService.getSingleTask(t).then((function(a){console.log(a),void 0===a.code?e.state.TaskService.getTaskAdminRole(t).then((function(n){console.log(n),e.state.TaskService.getTaskFiles(a.response[0].group_link,t).then((function(r){console.log(r),e.state.TaskService.getSingleHomework(t).then((function(s){console.log(s),e.state.TaskService.getMyFiles(a.response[0].group_link,t).then((function(t){console.log(t),e.setState({UserHomework:s.response[0],UserRole:n.response,TaskInfo:a.response[0],TaskFiles:r.response,MyFiles:t.response,GroupLink:a.response[0].group_link})}))}))}))})):window.location="/"}))}},{key:"componentDidUpdate",value:function(e,t){var a=this;"admin"!==this.state.UserRole&&"teacher"!==this.state.UserRole||t.AllHomeWorks===this.state.AllHomeWorks&&this.state.TaskService.getAllHomework(this.state.TaskInfo.task_link,this.state.TaskInfo.group_link).then((function(e){console.log(e),a.setState({AllHomeWorks:e.response})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.TaskInfo,n=t.UserRole,s=t.UserHomework,o=t.AllHomeWorks,l=t.TaskFiles,c=t.MyFiles,i=t.GroupLink;console.log(c);var m=this.context,u=m.handlePopUpContent,p=m.reformatDate,h=m.serverUrl,g=localStorage.getItem("user");g=JSON.parse(g);var v=h+g.response[0].picture,k=g.response[0].name,f={display:"student"===n?"block":"none"},E={display:"admin"===n||"teacher"===n?"block":"none"};if(null!==a){var y,N=function(){return r.a.createElement("div",{className:"files-block"},r.a.createElement("h4",null,"Attached files:"),r.a.createElement("div",{style:E},r.a.createElement("div",{className:"files-action",onClick:function(){return u("newTaskFile",{taskLink:a.task_link,currentGroupLink:a.group_link})}},r.a.createElement("img",{src:"/assets/svg/pin.svg",alt:"Attach"}),"Attach new file")))},w=function(){return l.map((function(t){return r.a.createElement("div",{key:t.id,className:"file-line"},r.a.createElement("span",{className:"name"},t.file_name),r.a.createElement("div",{className:"right-side"},r.a.createElement("span",{className:"type"},t.type),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.file_link},r.a.createElement("img",{src:"/assets/svg/download.svg",alt:"Open"})),r.a.createElement("img",{style:E,onClick:function(){return e.deleteTaskFileAdmin(t.id)},className:"delete",src:"/assets/svg/x.svg",alt:"Delete"})))}))},b=function(){return r.a.createElement("div",{className:"files-block user",style:f},r.a.createElement("h4",null,"Attached files:"),r.a.createElement("div",{className:"files-action",onClick:function(){return u("newTaskFile",{taskLink:a.task_link,currentGroupLink:a.group_link})}},r.a.createElement("img",{src:"/assets/svg/pin.svg",alt:"Attach"}),"Attach new file"))},S=function(){return c.map((function(t){return r.a.createElement("div",{key:t.id,className:"file-line"},r.a.createElement("span",{className:"name"},t.file_name),r.a.createElement("div",{className:"right-side"},r.a.createElement("span",{className:"type"},t.type),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:t.file_link},r.a.createElement("img",{src:"/assets/svg/download.svg",alt:"Open"})),r.a.createElement("img",{onClick:function(){return e.deleteMyTaskFile(t.id)},className:"delete",src:"/assets/svg/x.svg",alt:"Delete"})))}))};if(s)switch(s.status){case"open":y=function(){return r.a.createElement("div",{className:"task_status blue"},"Sent")};break;case"checked":y=function(){return r.a.createElement("div",{className:"task_status green"},"Done")}}else y=function(){return r.a.createElement("div",{className:"task_status red"},"To be done")};var _=function(){return o.map((function(e){return r.a.createElement(d.Link,{to:"/admin/homework/"+e.homework_link,key:e.homework_link,className:"link-wrapper"},r.a.createElement("div",{key:e.homework_link,className:"homework-link"},r.a.createElement("div",{className:"user-part"},r.a.createElement("img",{src:h+e.user.picture,alt:"User Pic"}),r.a.createElement("span",null,e.user.name)),r.a.createElement("div",{className:"info-action-part"},"open"===e.status?r.a.createElement("span",{className:"green"},"Not checked"):null,"checked"===e.status?r.a.createElement("span",null,e.teacher_mark,"/",a.max_mark):null,r.a.createElement(d.Link,{to:"/admin/homework/"+e.homework_link,className:"action"},"Open"))))}))};return r.a.createElement(r.a.Fragment,null,"admin"===n?r.a.createElement(Ne,{currentGroupLink:i,isAdmin:!0}):r.a.createElement(Ne,{currentGroupLink:i}),r.a.createElement("div",{className:"goback_button",onClick:function(){return window.history.back()}},r.a.createElement("img",{className:"back_icon",src:"/assets/svg/back.svg",alt:"Back"}),"Go back"),r.a.createElement("div",{className:"taskpage action-space"},r.a.createElement("div",{className:"page_heading",id:"task-scroll"},"Task ","admin"===n||"teacher"===n?r.a.createElement("img",{onClick:function(){return u("editTask",a.task_link)},className:"edit_task_icon",src:"/assets/svg/edit.svg",alt:"Edit Task"}):null),"admin"===n||"teacher"===n?r.a.createElement("div",{className:"task_status blue"},"The work has been sent by ",void 0!==o.length?o.length:"0"," student(s)"):r.a.createElement(y,null),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"side-l"},r.a.createElement("div",{className:"task_heading"},r.a.createElement("div",{className:"task_circle small_circle "+a.color}),a.name),r.a.createElement("div",{className:"task_deadline"},"Untill ",p(a.deadline.substr(0,10))),r.a.createElement("div",{className:"task_description"},a.comment),r.a.createElement("div",{style:f},r.a.createElement(N,null),l?r.a.createElement("div",{className:"files-list"},r.a.createElement(w,null)):r.a.createElement("p",{className:"files-message"},"Teacher hasn't attached any files yet..."))),r.a.createElement("div",{className:"side-r",style:f},s?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"task_heading",id:"yourwork-scroll"},"Your work"),c?r.a.createElement("div",{className:"task_deadline"},"Mark ",s.teacher_mark,"/",a.max_mark):r.a.createElement("div",{className:"homework-info-line"},r.a.createElement("div",{className:"blue"},"Step 2/2"),r.a.createElement("div",{className:"gray"},"Mark 0/",a.max_mark)),r.a.createElement("div",{className:"homework-post"},r.a.createElement("img",{src:v,alt:"User Pic"}),r.a.createElement("div",{className:"user-text"},r.a.createElement("span",null,k),r.a.createElement("p",null,s.comment))),"student"===n&&s.teacher_message?r.a.createElement("div",{className:"homework-post"},r.a.createElement("img",{src:h+s.teachers.teacherMessageSender.picture}),r.a.createElement("div",{className:"user-text"},r.a.createElement("span",null,s.teachers.teacherMessageSender.name),r.a.createElement("p",null,s.teacher_message))):null,"student"===n&&s.teacher_comment?r.a.createElement("div",{className:"homework-post"},r.a.createElement("img",{src:h+s.teachers.teacherCommentSender.picture}),r.a.createElement("div",{className:"user-text"},r.a.createElement("span",null,s.teachers.teacherCommentSender.name),r.a.createElement("p",null,s.teacher_comment))):null,r.a.createElement(b,null),c?r.a.createElement("div",{className:"files-list"},r.a.createElement(S,null)):r.a.createElement("div",{className:"step margin"},"Attach files to continue..."),r.a.createElement("br",null),r.a.createElement("br",null),c?r.a.createElement("button",{className:"main gray send-work"},"Already Sent"):r.a.createElement("button",{className:"main gray send-work"},"Needs Attachment")):r.a.createElement("form",{onSubmit:this.onNewHomework},r.a.createElement("div",{className:"task_heading"},"Send your work"),r.a.createElement("div",{className:"homework-info-line"},r.a.createElement("div",{className:"blue"},"Step 1/2"),r.a.createElement("div",{className:"gray"},"Mark 0/",a.max_mark)),r.a.createElement("textarea",{name:"comment",className:"work",placeholder:"Attach a comment to your work..."}),r.a.createElement("input",{type:"hidden",name:"taskLink",value:a.task_link}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"main send-work"},"Next"))),r.a.createElement("div",{className:"side-r",style:E},r.a.createElement(N,null),l?r.a.createElement("div",{className:"files-list"},r.a.createElement(w,null)):r.a.createElement("p",{className:"files-message-admin"},"You haven't attached any files yet..."))),r.a.createElement("div",{className:"homeworks-all",id:"studentswork-scroll",style:E},r.a.createElement("div",{className:"blue-heading"},"Students homework"),o?r.a.createElement(_,null):"No homeworks yet...")),"admin"===n||"teacher"===n?r.a.createElement(Ce,{isTeacher:"true"}):r.a.createElement(Ce,null))}return r.a.createElement("div",{className:"grouppage"})}}]),a}(n.Component);xe.contextType=h;var Oe=xe,Te=(a(29),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={TaskService:new D,GroupService:new G,UserRole:null,GroupInfo:null,GroupLink:null,TasksList:null,UnDoneTasks:null},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.link;this.state.GroupService.getGroupData(t).then((function(a){console.log(a),!1!==a.response?e.state.TaskService.getTasksWithMyHomework(t).then((function(n){console.log(n.response),e.state.TaskService.getAdminRole(t).then((function(t){console.log(t),e.setState({GroupInfo:a.response[0],TasksList:n.response,UserRole:t.response,GroupLink:a.response[0].link})}))})):window.location="/"}))}},{key:"componentDidUpdate",value:function(){console.log("Update");var e=this.state,t=e.TasksList;if(null===e.UnDoneTasks)if(t){var a=t.filter((function(e){return void 0===e.homework}));this.setState({UnDoneTasks:a.length})}else this.setState({UnDoneTasks:0})}},{key:"render",value:function(){var e=this.state,t=e.GroupInfo,a=e.UserRole,n=e.TasksList,s=e.UnDoneTasks,o=e.GroupLink,l=this.context,c=l.reformatDate,i=l.handlePopUpContent,m={display:"student"===a?"block":"none"},u={display:"admin"===a||"teacher"===a?"block":"none"},p={gridTemplateColumns:"admin"===a||"teacher"===a?"30% 25% 14% 16% 15% 7%":"25% 25% 14% 16% 10% 10%"};if(null!==t){var h=function(){return n.map((function(e){return r.a.createElement(d.Link,{to:"/task/"+e.task_link,key:e.task_link},r.a.createElement("div",{className:"tasks-row "+e.color,style:p},r.a.createElement("div",{className:"td name"},e.name.length>34?e.name.substring(0,34)+"...":e.name),r.a.createElement("div",{className:"td topic"},e.topic),r.a.createElement("div",{className:"td deadline"},c(e.deadline.substr(0,10))),e.homework?function(e){switch(e){case"open":return r.a.createElement("div",{style:m,className:"td status blue"},"Sent");case"checked":return r.a.createElement("div",{style:m,className:"td status green"},"Done")}}(e.homework.status):r.a.createElement("div",{style:m,className:"td status red"}," Not sent "),e.homework?r.a.createElement("div",{style:m,className:"td mark"},e.homework.teacher_mark):r.a.createElement("div",{style:m,className:"td mark"}," \u2014 "),r.a.createElement("div",{className:"table_space",style:u}),r.a.createElement("div",{className:"td published"},c(e.created_date.substr(0,10))),e.homework?function(e){switch(e){case"open":return r.a.createElement("div",{style:m,className:"td status-m blue"},"Sent");case"checked":return r.a.createElement("div",{style:m,className:"td status-m green"},"Done")}}(e.homework.status):r.a.createElement("div",{className:"td published-m"},c(e.created_date.substr(0,10))),r.a.createElement("div",{className:"td short_description_mobile"},e.comment.substr(0,50)),r.a.createElement(d.Link,{to:"#tasks"},r.a.createElement("div",{className:"td delete-action",onClick:function(){return i("deleteTask",{smallPopUp:!0,link:t.link,taskLink:e.task_link})},style:u},r.a.createElement("img",{className:"delete_icon",src:"/assets/svg/delete.svg",alt:"Delete"})))))}))},g=function(e){return r.a.createElement("div",{className:"error-screen"},r.a.createElement("img",{src:"/assets/illustration/desk.svg",alt:"Desk"}),r.a.createElement("p",null,"The teacher hasn't posted any tasks yet. You can rest!"))};return r.a.createElement(r.a.Fragment,null,"admin"===a?r.a.createElement(Ne,{currentGroupLink:o,isAdmin:!0}):r.a.createElement(Ne,{currentGroupLink:o}),r.a.createElement("div",{className:"goback_button",onClick:function(){return window.history.back()}},r.a.createElement("img",{className:"back_icon",src:"/assets/svg/back.svg",alt:"Back"}),"Go back"),r.a.createElement("div",{className:"alltasks-page action-space"},r.a.createElement("div",{className:"page_heading space"},"Tasks"),s?r.a.createElement("div",{className:"undone",style:m},"Undone tasks: ",s):null,r.a.createElement("div",{className:"tasks-column-names",style:p},r.a.createElement("span",null,"Name"),r.a.createElement("span",null,"Topic"),r.a.createElement("span",null,"Deadline"),r.a.createElement("span",{style:m},"Status"),r.a.createElement("span",{style:m},"Mark"),r.a.createElement("div",{className:"table_space",style:u}),r.a.createElement("span",null,"Created")),r.a.createElement("div",{className:"tasks-column-rows"},n?r.a.createElement(h,null):r.a.createElement(g,null))))}return r.a.createElement("div",{className:"grouppage"})}}]),a}(n.Component));Te.contextType=h;var Ue=Te,Pe=(a(26),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupService:new G,GroupLink:null,GroupInfo:null,UserRole:null},e.onGroupEdit=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;e.state.GroupService.editGroup(a).then((function(t){console.log(t),"100"===t.response.code?window.location="/admin/settings/"+e.state.GroupLink:alert(t)}))},e.copyToClipboard=function(t){e.groupLinkField.select(),document.execCommand("copy"),t.target.focus(),alert("Copied!")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props.match.params.link;this.state.GroupLink!==t&&(console.log("Update"),this.setState({GroupLink:t}),this.state.GroupService.getGroupDataAdmin(t).then((function(a){console.log(a),!1!==a.response?e.state.GroupService.getRole(t).then((function(t){"admin"===t.response?(e.setState({UserRole:t.response}),e.setState({GroupInfo:a.response[0]})):window.location="/"})):(console.log("Not found"),window.location="/")})))}},{key:"render",value:function(){var e=this,t=this.state,a=t.GroupInfo,n=t.UserRole,s=t.GroupLink,o=this.context,l=o.handlePopUpContent,c=o.serverUrl;return null!==a?(console.log("GroupInfo.picture: "+a.picture),r.a.createElement(r.a.Fragment,null,"admin"===n?r.a.createElement(Ne,{currentGroupLink:s,isAdmin:!0}):r.a.createElement(Ne,{currentGroupLink:s}),r.a.createElement("div",{className:"goback_button",onClick:function(){return window.history.back()}},r.a.createElement("img",{className:"back_icon",src:"/assets/svg/back.svg",alt:"Back"}),"Go back"),r.a.createElement("div",{className:"group_settings_page action-space"},r.a.createElement("div",{className:"page_heading space"},"Group Settings"),r.a.createElement("div",{className:"profile_picture"},r.a.createElement("span",null,"Group picture"),r.a.createElement("div",{className:"profile_picture_line"},"data/uploads/images/default/group.png"===a.picture?r.a.createElement("div",{className:"logo-circle"},function(e){var t;e.split(" ").length>=2?t=e.split(" ").slice(0,2).join(" ").match(/\b(\w)/g).join("").substring(0,2):t=e.substring(0,2);return t}(a.name)):r.a.createElement("img",{src:c+a.picture,alt:"Picture"}),r.a.createElement("span",{className:"upload",onClick:function(){return l("groupPicture",a.link)}},"Upload group picture"))),r.a.createElement("form",{onSubmit:this.onGroupEdit,className:"mid-size main_form"},r.a.createElement("div",{className:"input_block_section"},r.a.createElement("span",null,"Group name"),r.a.createElement("input",{type:"text",name:"name",defaultValue:a.name,required:!0})),r.a.createElement("div",{className:"input_block_section"},r.a.createElement("span",null,"School name"),r.a.createElement("input",{type:"text",name:"schoolName",defaultValue:a.school_name,required:!0})),r.a.createElement("div",{className:"input_block_section"},r.a.createElement("span",null,"Invitation pass"),r.a.createElement("span",{className:"info"},"(Secret pass that will allow people to join). ",r.a.createElement("br",null),"Note: Keep it empty to make the group open to anyone."),r.a.createElement("input",{type:"text",name:"code",defaultValue:a.code})),r.a.createElement("input",{type:"hidden",name:"link",value:a.link}),r.a.createElement("button",{className:"main",type:"submit"},"Save")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()},className:"mid-size main_form"},r.a.createElement("div",{className:"input_block_section"},r.a.createElement("span",null,"Group ID"),r.a.createElement("input",{type:"text",defaultValue:a.link,readonly:"readonly"})),r.a.createElement("div",{className:"input_block_section"},r.a.createElement("span",null,"Invitation link"),r.a.createElement("input",{type:"text",onClick:this.copyToClipboard,ref:function(t){return e.groupLinkField=t},defaultValue:"https://my.jetdesk.app/join/"+a.link,readonly:"readonly"}))),r.a.createElement("br",null),r.a.createElement("div",{className:"leave",onClick:function(){return l("leaveGroup",{smallPopUp:!0,GroupLink:s})}},"Leave group")))):r.a.createElement("div",{className:"group_settings_page"})}}]),a}(n.Component));Pe.contextType=h;var Ge=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={TaskService:new D,TaskInfo:null,UserHomework:null,HomeworkFiles:null},e.onNewHomework=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;console.log(a),e.state.TaskService.newHomework(a).then((function(e){console.log(e),"100"===e.response.code?window.location.reload():alert("Error! Check console")}))},e.attachTeacherMessage=function(){var t=document.getElementById("teacherComment").value;e.state.TaskService.commentHomeworkAdmin(e.state.UserHomework.homework_link,t).then((function(e){console.log(e),"100"===e.response.code?window.location.reload():alert("Error! Check console")}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.link;this.state.TaskService.getSingleHomeworkAdmin(t).then((function(a){console.log(a),void 0!==a.response?e.state.TaskService.getSingleTask(a.response[0].task_link).then((function(n){console.log(n),e.state.TaskService.getStudentTaskFiles(a.response[0].group_link,t).then((function(t){console.log(t),e.setState({TaskInfo:n.response[0],UserHomework:a.response[0],HomeworkFiles:t.response})}))})):window.location="/"}))}},{key:"render",value:function(){var e=this.state,t=e.TaskInfo,a=e.UserHomework,n=e.HomeworkFiles,s=this.context,o=s.handlePopUpContent,l=s.serverUrl;if(null!==t){var c=l+a.user.picture,i=a.user.name,m=function(){return r.a.createElement("h4",null,"Attached files:")},u=function(){return r.a.createElement("h4",{className:"student-files-heading"},"Student files:")},p=function(){return n.map((function(e){return r.a.createElement("div",{key:e.id,className:"file-line"},r.a.createElement("span",{className:"name"},e.file_name),r.a.createElement("div",{className:"right-side"},r.a.createElement("span",{className:"type"},e.type),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.file_link},r.a.createElement("img",{src:"/assets/svg/download.svg",alt:"Open"}))))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"goback_button",onClick:function(){return window.history.back()}},r.a.createElement("img",{className:"back_icon",src:"/assets/svg/back.svg",alt:"Back"}),"Go back"),r.a.createElement("div",{className:"taskpage homework"},r.a.createElement("div",{className:"page_heading"},"Work"),r.a.createElement("div",{className:"header-user-line"},r.a.createElement("img",{src:c,alt:"User Pic"}),r.a.createElement("span",null,i)),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"side-l"},r.a.createElement("div",{className:"task_heading"},r.a.createElement("div",{className:"task_circle small_circle "+t.color}),t.name),r.a.createElement("div",{className:"task_deadline"},"Untill ",t.deadline.substr(0,10)),r.a.createElement("div",{className:"task_description"},t.comment),r.a.createElement(m,null)),r.a.createElement("div",{className:"side-r"},r.a.createElement("div",{className:"task_heading"},"Student work"),r.a.createElement("div",{className:"task_deadline second"},"Sent: ",a.created_date.substr(0,10)),r.a.createElement("div",{className:"homework-post"},r.a.createElement("img",{src:c,alt:"User Pic"}),r.a.createElement("div",{className:"user-text"},r.a.createElement("span",null,i),r.a.createElement("p",null,a.comment))),a.teacher_message?r.a.createElement("div",{className:"homework-post"},r.a.createElement("img",{src:l+a.teachers.teacherMessageSender.picture}),r.a.createElement("div",{className:"user-text"},r.a.createElement("span",null,a.teachers.teacherMessageSender.name),r.a.createElement("p",null,a.teacher_message))):null,a.teacher_comment?r.a.createElement("div",{className:"homework-post"},r.a.createElement("img",{src:l+a.teachers.teacherCommentSender.picture}),r.a.createElement("div",{className:"user-text"},r.a.createElement("span",null,a.teachers.teacherCommentSender.name),r.a.createElement("p",null,a.teacher_comment))):null,r.a.createElement("div",{className:"stroke"}),null===a.teacher_message?r.a.createElement("div",{className:"teacher-comment"},r.a.createElement("textarea",{id:"teacherComment",name:"comment",placeholder:"Attach a comment..."}),r.a.createElement("img",{onClick:this.attachTeacherMessage,className:"teacher-comment-button",src:"/assets/svg/send.svg"})):null,r.a.createElement(u,null),n?r.a.createElement("div",{className:"files-list"},r.a.createElement(p,null)):r.a.createElement("p",{className:"files-message"},"Student hasn't attached any files yet..."),r.a.createElement("br",null),r.a.createElement("br",null),a.teacher_comment?r.a.createElement("button",{className:"main gray send-work"},"Already Rated"):r.a.createElement("button",{onClick:function(){return o("rateHomework",{task_link:t.task_link,homework_link:a.homework_link,max_mark:t.max_mark})},className:"main send-work"},"Rate the work")))))}return r.a.createElement("div",{className:"grouppage"})}}]),a}(n.Component);Ge.contextType=h;var Le=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupService:new G,UserRole:null,GroupInfo:null,GroupLink:null,LessonsList:null},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.link;this.state.GroupService.getGroupData(t).then((function(a){console.log(a),!1!==a.response?e.state.GroupService.getRole(t).then((function(n){"admin"===n.response||"teacher"===n.response?e.state.GroupService.getLessons(t).then((function(t){console.log(t),e.setState({UserRole:n,GroupInfo:a.response[0],LessonsList:t.response,GroupLink:a.response[0].link})})):window.location="/"})):window.location="/"}))}},{key:"render",value:function(){var e=this.state,t=e.GroupInfo,a=e.UserRole,n=e.LessonsList,s=e.GroupLink,o=this.context,l=o.handlePopUpContent,c=o.reformatDate;if(null!==t){var i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],m=function(){return n.map((function(e){return r.a.createElement("div",{className:"tasks-row blue lessons-row",key:e.id},r.a.createElement("div",{className:"td name"},e.title),r.a.createElement("div",{className:"td delete-action-mobile"},r.a.createElement("img",{onClick:function(){return l("deleteLesson",{smallPopUp:!0,link:t.link,eventId:e.id})},className:"delete_icon",src:"/assets/svg/delete.svg",alt:"Delete"})),0===e.recurring?r.a.createElement("div",{className:"td pc-line"},c(e.eventDate.substr(0,10))):r.a.createElement("div",{className:"td pc-line"},i[e.days_of_week]),r.a.createElement("div",{className:"td blue-text-mobile"},e.start_time.substr(0,5)," ",i[e.days_of_week]),r.a.createElement("div",{className:"td blue-text"},e.start_time.substr(0,5)),0===e.recurring?r.a.createElement(r.a.Fragment,null," ",r.a.createElement("div",{className:"td recurring-status pc"},"No")," ",r.a.createElement("div",{className:"td recurring-status mobile"},c(e.eventDate.substr(0,10))," ")," "):r.a.createElement("div",{className:"td recurring-status"},"Weekly"),r.a.createElement("div",{className:"td delete-action-pc"},r.a.createElement("img",{onClick:function(){return l("deleteLesson",{smallPopUp:!0,link:t.link,eventId:e.id})},className:"delete_icon",src:"/assets/svg/delete.svg",alt:"Delete"})),r.a.createElement("div",{className:"td short_description_mobile"},e.description.substr(0,100)))}))},u=function(e){return r.a.createElement("div",{className:"error-screen"},r.a.createElement("img",{src:"/assets/illustration/desk-gray.svg",alt:"Empty"}),r.a.createElement("p",null,"No lessons (events) yet..."))};return r.a.createElement(r.a.Fragment,null,"admin"===a?r.a.createElement(Ne,{currentGroupLink:s,isAdmin:!0}):r.a.createElement(Ne,{currentGroupLink:s}),r.a.createElement("div",{className:"goback_button",onClick:function(){return window.history.back()}},r.a.createElement("img",{className:"back_icon",src:"/assets/svg/back.svg",alt:"Back"}),"Go back"),r.a.createElement("div",{className:"alltasks-page action-space admin-lessons"},r.a.createElement("div",{className:"page_heading space"},"Lessons"),r.a.createElement("div",{className:"tasks-column-names lessons-row"},r.a.createElement("span",null,"Name"),r.a.createElement("span",null,"Date/Day"),r.a.createElement("span",null,"Time"),r.a.createElement("span",null,"Recurring")),r.a.createElement("div",{className:"tasks-column-rows"},n?r.a.createElement(m,null):r.a.createElement(u,null))),r.a.createElement("div",{className:"button_new",onClick:function(){return l("newLesson",t.link)}},r.a.createElement("img",{src:"/assets/svg/blue-plus.svg",alt:"New"})))}return r.a.createElement("div",{className:"grouppage"})}}]),a}(n.Component);Le.contextType=h;a(120);var je=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupLink:null,GroupService:new G},e.onGroupJoin=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;e.state.GroupService.joinGroup(a).then((function(t){console.log(t),"100"===t.response.code?window.location="/class/"+t.response.link:(e.context.updateErrorMessage(t.response.message),e.context.handlePopUpContent("error"))}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e=this.props.match.params.link;this.state.GroupLink!==e&&this.setState({GroupLink:e})}},{key:"render",value:function(){var e=this.state.GroupLink;return r.a.createElement("div",{className:"join-class"},r.a.createElement("div",{className:"page_heading"},"Join group via link"),r.a.createElement("div",{className:"two-sides"},r.a.createElement("div",{className:"left-page"},r.a.createElement("form",{onSubmit:this.onGroupJoin},r.a.createElement("div",{className:"margin-top"}),r.a.createElement("div",{className:"profile_settings_input_block"},r.a.createElement("span",null,"Group ID"),r.a.createElement("input",{type:"text",defaultValue:e,readonly:"readonly"})),r.a.createElement("div",{className:"profile_settings_input_block"},r.a.createElement("span",null,"Enter invitation pass (if required)"),r.a.createElement("input",{type:"text",name:"code",placeholder:"Invitation pass"})),r.a.createElement("input",{type:"hidden",name:"link",defaultValue:e}),r.a.createElement("div",{className:"margin-top-small"}),r.a.createElement("div",{className:"form_action"},r.a.createElement("button",{className:"main",type:"submit"},"Join")))),r.a.createElement("div",{className:"right-page flex-center"},r.a.createElement("img",{src:"/assets/illustration/enter.svg",className:"join-illustration",alt:"Enter"}))))}}]),a}(n.Component);je.contextType=h;var Re=je,Ie=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={GroupService:new G,UserRole:null,GroupInfo:null,GroupLink:null,MembersList:null,TotalMembers:null,CurrentRoleMenu:null},e.showRoleMenu=function(e){document.getElementById("roleMenu"+e).style.display="block",document.addEventListener("click",(function t(a){document.getElementById("roleMenu"+e).contains(a.target)||(document.getElementById("roleMenu"+e).style.display="none",document.removeEventListener("click",t,!1))}))},e.setTeacher=function(t){e.state.GroupService.setTeacher(e.state.GroupInfo.link,t).then((function(e){console.log(e),"100"!==e.response.code?alert("To many teachers for this group..."):window.location.reload()}))},e.setTeacherToStudent=function(t){e.state.GroupService.setTeacherToStudent(e.state.GroupInfo.link,t).then((function(e){console.log(e),window.location.reload()}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.link;this.state.GroupService.getGroupData(t).then((function(a){console.log(a),!1!==a.response?e.state.GroupService.getRole(t).then((function(n){"admin"===n.response||"teacher"===n.response?e.state.GroupService.getGroupMembersAdmin(t).then((function(t){console.log(t),e.setState({UserRole:n.response,GroupInfo:a.response[0],MembersList:t.response.allUsers,TotalMembers:t.response.totalMembers,GroupLink:a.response[0].link})})):window.location="/"})):window.location="/"}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.GroupInfo,n=t.UserRole,s=t.MembersList,o=t.TotalMembers,l=t.GroupLink,c=this.context,i=c.handlePopUpContent,m=(c.reformatDate,c.serverUrl);if(null!==a){var u=function(){return s.map((function(t,n){return r.a.createElement("div",{className:"tasks-row members blue members-row",key:n},r.a.createElement("div",{className:"td number"},n+1),r.a.createElement("div",{className:"td user-picture"},r.a.createElement("img",{src:m+t.userData.picture,alt:t.userData.name})),r.a.createElement("div",{className:"td user-line"},t.userData.name," ","teacher"===t.role?r.a.createElement("img",{className:"teacher-icon",src:"/assets/svg/hat.svg",alt:"Teacher"}):null),r.a.createElement("div",{className:"td role pc-only"},r.a.createElement("span",{onClick:function(){return e.showRoleMenu(n)},className:"member-role"},t.role)," ","admin"!==t.role?r.a.createElement("img",{onClick:function(){return e.showRoleMenu(n)},className:"down-icon",src:"/assets/svg/down.svg",alt:"Select"}):null,r.a.createElement("div",{className:"role-menu",id:"roleMenu"+n},"teacher"===t.role?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"line blue"},r.a.createElement("img",{src:"/assets/svg/check.svg",alt:"Check"})," Teacher"),r.a.createElement("div",{className:"line",onClick:function(){return e.setTeacherToStudent(t.id)}},"Student")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"line blue"},r.a.createElement("img",{src:"/assets/svg/check.svg",alt:"Check"})," Student"),r.a.createElement("div",{className:"line",onClick:function(){return e.setTeacher(t.id)}},"Teacher")))),r.a.createElement("div",{className:"td rating pc-only"},t.totalUserMark),r.a.createElement("div",{className:"td delete pc-only"},"admin"!==t.role?r.a.createElement("img",{className:"delete_icon",src:"/assets/svg/delete.svg",alt:"Delete",onClick:function(){return i("deleteMember",{smallPopUp:!0,GroupLink:a.link,UserId:t.id})}}):null),r.a.createElement("div",{className:"td rating more"},r.a.createElement("img",{className:"more_icon",src:"/assets/svg/more.svg",alt:"More",onClick:function(){return i("memberInfo",{GroupLink:a.link,UserId:t.id})}})))}))};return r.a.createElement(r.a.Fragment,null,"admin"===n?r.a.createElement(Ne,{currentGroupLink:l,isAdmin:!0}):r.a.createElement(Ne,{currentGroupLink:l}),r.a.createElement("div",{className:"goback_button",onClick:function(){return window.history.back()}},r.a.createElement("img",{className:"back_icon",src:"/assets/svg/back.svg",alt:"Back"}),"Go back"),r.a.createElement("div",{className:"alltasks-page action-space admin-lessons"},r.a.createElement("div",{className:"page_heading"},"Group Members"),o?r.a.createElement("div",{className:"undone"},"Total members: ",o):null,r.a.createElement("div",{className:"tasks-column-names members-row"},r.a.createElement("span",null,"Number"),r.a.createElement("span",null),r.a.createElement("span",null,"Full Name"),r.a.createElement("span",null,"Role"),r.a.createElement("span",null,"Rating"),r.a.createElement("span",null)),r.a.createElement("div",{className:"tasks-column-rows"},s?r.a.createElement(u,null):r.a.createElement("p",{className:"info_message"},"No members yet..."))))}return r.a.createElement("div",{className:"grouppage"})}}]),a}(n.Component);Ie.contextType=h;var Me=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={AuthService:new E,showingButton:!1,message:null,sMessage:null},e.onRestoreFormSubmit=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;e.state.AuthService.sendFormRequest(a,"/auth/restore").then((function(t){void 0!==t.response.message?e.setState({message:t.response.message}):e.setState({sMessage:t.response})}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=(e.showingButton,e.message),a=e.sMessage,n={display:t?"flex":"none"},s={display:a?"flex":"none"};return r.a.createElement("div",{className:"auth"},r.a.createElement("div",{className:"header"},r.a.createElement("img",{className:"logo",src:"/assets/svg/logo.svg",alt:"JetDesk"}),r.a.createElement("a",{href:"https://jetdesk.app/"},r.a.createElement("span",null,"JetDesk"))),r.a.createElement("div",{style:n,className:"message"},t),r.a.createElement("div",{style:s,className:"message s"},a),r.a.createElement("div",{className:"page-content"},r.a.createElement("form",{id:"restore",onSubmit:this.onRestoreFormSubmit},r.a.createElement("h1",null,"Restore"),r.a.createElement("div",{className:"input_block_section"},r.a.createElement("span",null,"Email"),r.a.createElement("input",{type:"email",name:"email",id:"email",placeholder:"Enter your email here",required:!0})),r.a.createElement("div",{className:"actions absolute-on-mobile"},r.a.createElement("button",{type:"submit"},"Restore"),r.a.createElement("a",{href:"/signin"},"Go back"))),r.a.createElement("img",{className:"illustration",src:"/assets/illustration/enter.svg",alt:"Door"})))}}]),a}(n.Component),Ae=a(58),De=a.n(Ae),He=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={AuthService:new E,showingButton:!1,userPass:"",message:null,sMessage:null,userToken:null},e.onPasswordFill=function(t){e.setState({userPass:t.target.value})},e.onPasswordCheck=function(t){t.target.value===e.state.userPass&&e.setState({showingButton:!0})},e.onNewPassFormSubmit=function(t){t.preventDefault();for(var a=[],n=0;n<t.target.length-1;n++)a[t.target[n].name]=t.target[n].value;e.state.AuthService.sendFormRequest(a,"/auth/password").then((function(t){if(console.log(t.response),void 0!==t.response.code){e.setState({sMessage:t.response.message}),setTimeout((function(){window.location="/signin"}),2e3)}else e.setState({message:t.response.message})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=De.a.parse(window.location.search);console.log(e),void 0!==e.t?this.setState({userToken:e.t}):window.location="/"}},{key:"render",value:function(){var e=this.state,t=e.showingButton,a=e.message,n=e.sMessage,s=e.userToken,o={display:t?"block":"none"},l={display:a?"flex":"none"},c={display:n?"flex":"none"};return r.a.createElement("div",{className:"auth"},r.a.createElement("div",{className:"header"},r.a.createElement("img",{className:"logo",src:"/assets/svg/logo.svg",alt:"JetDesk"}),r.a.createElement("a",{href:"https://jetdesk.app/"},r.a.createElement("span",null,"JetDesk"))),r.a.createElement("div",{style:l,className:"message"},a),r.a.createElement("div",{style:c,className:"message s"},n),r.a.createElement("div",{className:"page-content"},r.a.createElement("form",{id:"restore",onSubmit:this.onNewPassFormSubmit},r.a.createElement("h1",null,"New Password"),r.a.createElement("div",{className:"input_block_section"},r.a.createElement("span",null,"Pick a password"),r.a.createElement("input",{type:"password",onChange:this.onPasswordFill,name:"password",id:"passR",placeholder:"Enter your password here",required:!0})),r.a.createElement("div",{className:"input_block_section"},r.a.createElement("span",null,"Repeat password"),r.a.createElement("input",{type:"password",onChange:this.onPasswordCheck,name:"password2",id:"confirmpassR",placeholder:"Repeat your password here",required:!0})),r.a.createElement("input",{type:"hidden",name:"userToken",defaultValue:s}),r.a.createElement("div",{className:"actions absolute-on-mobile"},r.a.createElement("button",{type:"submit",style:o},"Update"))),r.a.createElement("img",{className:"illustration",src:"/assets/illustration/enter.svg",alt:"Door"})))}}]),a}(n.Component),Be=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isLogedIn:!1,token:null,showingPopUp:!1,popUpContent:null,errorMessage:null,currentGroupLink:null,serverUrl:"https://api.jetdesk.app/"},e.logOut=function(){localStorage.clear(),e.setState({token:null,isLogedIn:!1})},e.logIn=function(){e.setState({token:localStorage.getItem("token"),isLogedIn:!0})},e.updateErrorMessage=function(t){e.setState({errorMessage:t})},e.changePopUpState=function(){e.setState({showingPopUp:!e.state.showingPopUp}),document.body.style.overflow="unset",document.querySelector("body").style.touchAction="auto"},e.handlePopUpContent=function(t,a){console.log("handlePopUpContent: "+t),void 0===a&&(a=null),console.log("currentGroupLink: "+a),document.body.style.overflow="hidden",document.querySelector("body").style.touchAction="none";var n=e.state,r=n.showingPopUp;n.popUpContent===t&&r?e.setState({showingPopUp:!1,popUpContent:null,currentGroupLink:null}):e.setState({showingPopUp:!0,popUpContent:t,currentGroupLink:a})},e.reformatDate=function(e){var t=e.split("-");return t[1]+"/"+t[2]+"/"+t[0]},e.updateCurrentGroupLink=function(t){console.log("updateCurrentGroupLink: "+t),e.setState({currentGroupLink:t})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){null!==localStorage.getItem("token")&&this.logIn()}},{key:"handleTouchMove",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this.state,t=e.isLogedIn,a=e.showingPopUp,n=e.popUpContent,s=e.errorMessage,o=e.currentGroupLink,c=e.serverUrl,i={logOut:this.logOut,showingPopUp:a,popUpContent:n,changePopUpState:this.changePopUpState,handlePopUpContent:this.handlePopUpContent,errorMessage:s,updateErrorMessage:this.updateErrorMessage,currentGroupLink:o,updateCurrentGroupLink:this.updateCurrentGroupLink,reformatDate:this.reformatDate,serverUrl:c};function m(e){var t=e.component,a=e.layout,n=Object(l.a)(e,["component","layout"]);return r.a.createElement(p.d,Object.assign({},n,{render:function(e){return r.a.createElement(h.Provider,{value:i},r.a.createElement(a,e,r.a.createElement(t,e)))}}))}return t?r.a.createElement(d.BrowserRouter,null,r.a.createElement(p.g,null,r.a.createElement(m,{path:"/",exact:!0,component:re,layout:ae}),r.a.createElement(m,{path:"/profile",exact:!0,component:ce,layout:ae}),r.a.createElement(m,{path:"/class/:link",exact:!0,component:_e,layout:ae}),r.a.createElement(m,{path:"/task/:link",exact:!0,component:Oe,layout:ae}),r.a.createElement(m,{path:"/tasks/:link",exact:!0,component:Ue,layout:ae}),r.a.createElement(m,{path:"/join/:link",exact:!0,component:Re,layout:ae}),r.a.createElement(m,{path:"/admin/settings/:link",exact:!0,component:Pe,layout:ae}),r.a.createElement(m,{path:"/admin/homework/:link",exact:!0,component:Ge,layout:ae}),r.a.createElement(m,{path:"/admin/manage-lessons/:link",exact:!0,component:Le,layout:ae}),r.a.createElement(m,{path:"/admin/manage-members/:link",exact:!0,component:Ie,layout:ae}),r.a.createElement(p.c,{to:"/"}),null!==localStorage.getItem("token")?r.a.createElement(p.c,{to:"/"}):null)):r.a.createElement(d.BrowserRouter,null,r.a.createElement(p.g,null,r.a.createElement(p.d,{path:"/signin",exact:!0},r.a.createElement(y,{logIn:this.logIn})),r.a.createElement(p.d,{path:"/signup",exact:!0},r.a.createElement(w,{logIn:this.logIn})),r.a.createElement(p.d,{path:"/restore",exact:!0},r.a.createElement(Me,null)),r.a.createElement(p.d,{path:"/pass",exact:!0},r.a.createElement(He,null)),null===localStorage.getItem("token")?r.a.createElement(p.c,{to:"/signin"}):null))}}]),a}(n.Component);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Be,null)),document.getElementById("root"))},21:function(e,t,a){},26:function(e,t,a){},29:function(e,t,a){},47:function(e,t,a){},62:function(e,t,a){e.exports=a(133)},67:function(e,t,a){},72:function(e,t,a){},75:function(e,t,a){},80:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[62,1,2]]]);
//# sourceMappingURL=main.ec070e82.chunk.js.map