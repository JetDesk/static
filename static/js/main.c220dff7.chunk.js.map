{"version":3,"sources":["components/context/popup-context/index.js","components/context/popup-context/popup-provider.js","components/pages/layouts/auth/auth.js","services/auth-service.js","components/pages/layouts/signin/index.js","components/pages/layouts/signin/signin.js","components/pages/layouts/signup/index.js","components/pages/layouts/signup/signup.js","components/header/index.js","components/header/header.js","components/lazy-load/lazy-load-image.js","services/group-service.js","components/left-menu/index.js","components/left-menu/left-menu.js","components/popup-content/add-join/index.js","components/popup-content/add-join/add-join.js","components/popup-content/add-join-next/add-group-popup-content.js","components/popup-content/add-join-next/join-group-popup-content.js","services/user-service.js","components/popup-content/user-picture/index.js","components/popup-content/user-picture/user-picture.js","services/task-service.js","components/popup-content/new-task/new-task.js","components/popup-content/error/index.js","components/popup-content/error/error.js","components/popup-content/edit-task/edit-task.js","components/popup-content/homework/rate-homework.js","components/popup-content/new-file/new-file.js","components/popup-content/new-file/new-task-file.js","components/popup-content/leave-group/index.js","components/popup-content/leave-group/leave-group.js","components/popup-content/new-lesson/index.js","components/popup-content/new-lesson/new-lesson.js","components/popup-content/delete-lesson/delete-lesson.js","components/popup-content/group-picture/index.js","components/popup-content/group-picture/group-picture.js","components/popup-content/delete-member/delete-member.js","components/popup-content/member-info/member-info.js","components/popup-content/delete-task/delete-task.js","components/popup/popup.js","components/popup/index.js","components/pages/layouts/default/layout.js","components/popup/new-popup.js","components/pages/layouts/default/index.js","components/pages/home/home-page.js","components/pages/home/index.js","components/pages/user/user-page.js","components/pages/user/index.js","components/pages/group/home-blocks/clock-block.js","components/pages/group/home-blocks/tasks-block.js","components/pages/group/home-blocks/rating-block.js","components/pages/group/home-blocks/files-block.js","components/pages/group/home-blocks/lessons-block.js","components/pages/group/home-blocks/chat-block.js","components/top-menu/index.js","components/top-menu/top-menu.js","components/mobile-menu/index.js","components/mobile-menu/mobile-menu.js","components/pages/group/group-page.js","components/pages/group/index.js","components/mobile-menu-task/index.js","components/mobile-menu-task/mobile-menu-task.js","components/pages/task/task-page.js","components/pages/task/index.js","components/pages/all-tasks/all-tasks-page.js","components/pages/all-tasks/index.js","components/pages/admin/group-settings-page.js","components/pages/admin/homework-page.js","components/pages/admin/manage-lessons.js","components/pages/join/join-class.js","components/pages/join/index.js","components/pages/admin/manage-members.js","components/pages/layouts/restore/restore.js","components/pages/layouts/restore/pass.js","components/app/index.js","components/app/app.js","index.js"],"names":["PopUpContext","React","createContext","Component","AuthService","_apiBase","xhr","XMLHttpRequest","getResource","url","a","fetch","res","ok","Error","status","json","sendFormRequest","opts","endpointUrl","open","setRequestHeader","postData","send","JSON","stringify","Promise","resolve","reject","onreadystatechange","e","readyState","console","log","responseText","parse","getUserData","token","SignIn","state","userPass","showingButton","message","onPasswordFill","setState","target","value","onPasswordCheck","onRegFormSubmit","preventDefault","formData","i","length","name","then","onLoginFormSubmit","undefined","localStorage","setItem","userData","props","logIn","this","messageStyle","display","className","onClick","window","location","src","alt","href","style","id","onSubmit","type","placeholder","required","onChange","SignUp","captchaRes","onCaptcha","buttonStyle","pointerEvents","background","sitekey","Header","currentMenuGroup","getItem","userIcon","serverUrl","openHideMenu","currentGroupLink","to","styled","div","loadingAnimation","keyframes","GroupService","img","newGroup","getGroupData","link","params","encodeURIComponent","getGroupMembersAdmin","getGroupDataAdmin","joinGroup","leaveGroup","getFollowing","getRole","editGroup","uploadFile","formEl","FormData","reload","onerror","alert","getGroupRating","hideGroupRating","showGroupRating","newFile","getGroupFiles","newLesson","getLessons","deleteLesson","lessonId","setTeacher","userId","setTeacherToStudent","deleteGroupMember","getMemberInfo","getGroupChat","page","newMessage","LeftMenu","UserGroups","handlePopUpContent","menuOpened","onlyHideMenu","ShowGroups","map","group","activeclassname","key","picture","title","data","split","slice","join","match","substring","generateGroupShortName","school_name","smallPopUp","AddJoin","Fragment","changePopUpState","AddGroupPopupContent","showingSubmit","onGroupCreate","firstInput","focus","ref","input","autoComplete","JoinGroupPopupContent","onGroupJoin","updateErrorMessage","UserService","getUserLimit","editUserProfile","changeUserPassword","UserPicture","onPictureUpload","document","getElementById","onUserImageUploaded","enctype","method","accept","newTask","editTask","getTasks","getTasksWithMyHomework","getSingleTask","taskLink","getTaskAdminRole","getAdminRole","groupLink","newHomework","getSingleHomework","getAllHomework","getSingleHomeworkAdmin","homeworkLink","rateHomeworkAdmin","commentHomeworkAdmin","homework","teacherComment","deleteTaskAction","getTaskFiles","deleteTaskFileAdmin","fileId","getMyFiles","deleteMyTaskFile","getStudentTaskFiles","NewTask","TaskService","taskColor","updateNewTaskColor","color","onTaskCreate","today","Date","toISOString","min","htmlFor","errorMessage","EditTask","TaskInfo","onTaskEdit","defaultValue","topic","deadline","max_mark","comment","group_link","task_link","RateHomework","onHomeworkRate","argsData","max","homework_link","NewFile","onNewFile","NewTaskFile","LeaveGroup","leaveGroupAction","GroupLink","NewLesson","checkboxIsChecked","handleCheckboxChange","checked","onEventCreate","DeleteLesson","deleteLessonAction","eventId","GroupPicture","DeleteMember","deleteMemberAction","UserId","MemberInfo","showRoleMenu","num","addEventListener","checkForClick","event","contains","removeEventListener","memberId","userRole","totalUserMark","DeleteTask","PopUp","contentJson","addJoin","context","addGroupPopupContent","joinGroupPopupContent","userPicture","deleteTask","rateHomework","newTaskFile","groupPicture","deleteMember","memberInfo","error","Consumer","contextProps","popUpContent","contextType","DefaultLayout","handleThePageClick","bind","handleTouchMove","Children","children","child","idx","showingPopUp","HomePage","userName","replace","UserPage","currentUserUsage","currentUserPlan","onProfileEdit","onPasswordChange","clear","userLimit","logOut","userEmail","user","email","avatar","image_url","history","back","appID","ClockBlock","Clock","updateClock","date","time","getHours","getMinutes","intervalClock","setInterval","clearInterval","TasksBlock","TasksList","componentDidUpdate","reformatDate","AllTasks","task","substr","RatingBlock","RatingList","showingRatingReloadInfo","showingRating","RatingListBlock","userRating","index","FilesBlock","FilesList","FilesListBlock","fileInfo","file_name","rel","file_link","file_comment","LessonsBlock","LessonsList","showingEventBlock","selectedEvent","hideEventInfo","handleDateClick","arg","handleEventClick","setClipboard","tempInput","createElement","body","appendChild","select","execCommand","removeChild","eventsArr","push","description","extendedProps","lesson_url","daysOfWeek","startTime","EventInfoBlock","info","eventInfo","_def","dateObj","_instance","range","start","dateOffset","getTimezoneOffset","toString","setMinutes","day","getDay","month","getMonth","dayName","hours","minutes","lessonsActionsStyle","plugins","dayGridPlugin","listPlugin","interactionPlugin","dateClick","eventClick","timezone","ignoreTimezone","initialView","weekends","events","ChatBlock","ChatMessages","CurrentChatPage","TotalChatPages","refreshChat","UserInputText","getChatData","sendMessage","scrollIntoView","workWithMessage","msg","youtube_parser","html","prettyURL","loadMoreMessages","parseInt","handleInputChange","ChatMessagesBlock","msgData","array","user_id","LoadMoreMessagesButton","TopMenu","isAdmin","MobileMenu","scrollWithOffset","el","offset","elementPosition","offsetTop","scroll","top","left","behavior","smooth","GroupPage","GroupInfo","UserRole","showingGroupMenu","showHideGroupMenu","roleRes","RatingAdminAction","rating","MobileMenuTask","isTeacher","TaskPage","UserHomework","TaskFiles","MyFiles","AllHomeWorks","onNewHomework","resRole","resFiles","homeworkRes","myFilesRes","prevProps","prevState","userElements","adminElements","StatusBlock","TaskNewFiles","TaskFilesBlock","file","MyTaskNewFiles","MyTasksFilesBlock","AllHomeWorksBlock","hwork","teacher_mark","teacher_message","teachers","teacherMessageSender","teacher_comment","teacherCommentSender","UnDoneTasks","taskRes","unDone","filter","columnStyle","gridTemplateColumns","AllTasksBlock","TaskStatusOptions","created_date","TaskStatusOptionsMobile","ErrorScreen","AllTasksPage","GroupSettingsPage","onGroupEdit","copyToClipboard","groupLinkField","code","readonly","HomeWorkPage","HomeworkFiles","attachTeacherMessage","homeworkFilesRes","senderIcon","senderName","StudentTaskFiles","HomeworkFilesBlock","ManageLessonsPage","lessonsRes","days","AllLessonsBlock","recurring","eventDate","days_of_week","start_time","JoinClassPage","ManageMembersPage","MembersList","TotalMembers","CurrentRoleMenu","membersRes","AllMembersBlock","member","role","Restore","sMessage","onRestoreFormSubmit","sMessageStyle","Password","userToken","onNewPassFormSubmit","setTimeout","parsed","queryString","search","t","App","isLogedIn","overflow","querySelector","touchAction","dateStr","dArr","updateCurrentGroupLink","PopUpProviderProps","RouteWrapper","component","Layout","layout","rest","render","Provider","path","exact","UserProfile","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.c220dff7.chunk.js","sourcesContent":["// import {\n//     PopUpProvider,\n//     PopUpConsumer\n// } from './popup-provider';\n\n// export {\n//     PopUpProvider,\n//     PopUpConsumer\n// }\n\nimport PopUpContext from './popup-provider';\n\n// const PopUpProvider = PopUpContext.Provider;\n// const PopUpConsumer = PopUpContext.Consumer;\n\n// export default {\n//     PopUpContext,\n//     PopUpProvider,\n//     PopUpConsumer\n// }\n\nexport default PopUpContext;","import React from 'react';\n\n// const {\n//     Provider :  PopUpProvider,\n//     Consumer : PopUpConsumer\n// } = React.createContext();\n\nconst PopUpContext = React.createContext();\n\nexport default PopUpContext;\n\n// export {\n//     PopUpProvider,\n//     PopUpConsumer\n// }","import React, { Component } from 'react';\n\nimport './auth.css';\n\n//UserPage\nexport default class AuthLayout extends Component {\n\n    render() {\n        return (\n            <div className=\"auth\">\n                <div className=\"header\">\n                    <img className=\"logo\" src=\"/assets/svg/logo.svg\" alt=\"JetDesk\" />\n                    <a href=\"https://jetdesk.app/\">\n                        <span>JetDesk</span>\n                    </a>\n                </div>\n                    {\n                        React.Children.map(this.props.children, (child, idx) => {\n                            return child;\n                        })\n                    }\n            </div>\n        );\n    }\n}","export default class AuthService {\n\n    // _apiBase = 'http://localhost:5000/api';\n    _apiBase = 'https://api.jetdesk.app/api';\n\n    xhr = new XMLHttpRequest();\n\n    getResource = async (url) => {\n        const res = await fetch(`${this._apiBase}${url}`);\n\n        if (!res.ok) {\n            throw new Error(`Could not fetch ${url}` +\n                `, received ${res.status}`)\n        }\n        return await res.json();\n    };\n\n    // getAllPeople = async () => {\n    //     const res = await this.getResource(`/people/`);\n    //     return res.results\n    //         .map(this._transformPerson)\n    //         .slice(0, 5);\n    // };\n\n\n    sendFormRequest = (opts, endpointUrl) => {\n        const { xhr } = this;\n        let url = this._apiBase + endpointUrl;\n        xhr.open(\"POST\", url);\n        // xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Content-Type', 'application/json');\n        const postData = { ...opts };\n        xhr.send(JSON.stringify(postData));\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getUserData = (token) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/auth/user\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Authorization', 'Bearer ' + token);\n        // xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        // xhr.setRequestHeader('Content-Type', 'application/json');\n        xhr.send();\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n}\n","import SignIn from './signin';\n\nexport default SignIn;","import React, { Component } from 'react';\nimport '../auth/auth.css';\n\nimport AuthService from '../../../../services/auth-service';\n\nclass SignIn extends Component {\n\n    state = {\n        AuthService: new AuthService(),\n        userPass: '',\n        showingButton: false,\n        message: null\n    };\n\n    onPasswordFill = (e) => {\n        this.setState({\n            userPass: e.target.value\n        });\n    }\n\n    onPasswordCheck = (e) => {\n        if (e.target.value === this.state.userPass) {\n            this.setState({\n                showingButton: true\n            });\n        }\n    }\n\n    onRegFormSubmit = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n        // console.log(e.target);\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n\n        this.state.AuthService.sendFormRequest(formData, '/auth/register').then(\n            res => {\n                this.setState({\n                    message: res[\"message\"]\n                });\n            }\n        );\n    }\n\n    onLoginFormSubmit = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n        this.state.AuthService.sendFormRequest(formData, '/auth/login').then(\n            res => {\n                if (res[\"response\"][\"message\"] !== undefined) {\n                    this.setState({\n                        message: res[\"response\"][\"message\"]\n                    });\n                } else {\n                    localStorage.setItem('token', res[\"response\"][\"token\"]);\n                    this.state.AuthService.getUserData(res[\"response\"][\"token\"]).then(\n                        userData => {\n                            localStorage.setItem('user', JSON.stringify(userData));\n                            this.props.logIn();\n                        });\n                }\n            }\n        );\n    }\n\n    render() {\n        const { showingButton, message } = this.state;\n\n        const buttonStyle = {\n            display: showingButton ? 'block' : 'none'\n        }\n\n        const messageStyle = {\n            display: message ? 'flex' : 'none'\n        }\n\n        return (\n            <div className=\"auth\">\n                <div className=\"header\">\n                    <img onClick={() => window.location = \"/\"} className=\"logo\" src=\"/assets/svg/logo.svg\" alt=\"JetDesk\" />\n                    <a href=\"/\">\n                        <span>JetDesk</span>\n                    </a>\n                </div>\n                <div style={messageStyle} className=\"message\">{message}</div>\n                <div className=\"page-content\">\n                    <form id=\"login\" onSubmit={this.onLoginFormSubmit}>\n                        <h1>Sign in</h1>\n                        <div className=\"input_block_section\">\n                            <span>Email</span>\n                            <input type=\"email\" name=\"email\" id=\"emailL\" placeholder=\"Enter your email here\" required />\n                        </div>\n                        <div className=\"input_block_section\">\n                            <span>Password</span>\n                            <input type=\"password\" onChange={this.onPasswordFill} name=\"password\" id=\"passL\" placeholder=\"Enter your password here\" required />\n                        </div>\n                        <a href=\"/restore\" className=\"link\">Forgot your password?</a>\n                        <div className=\"actions absolute-on-mobile\">\n                            <button type=\"submit\">Sign in</button>\n                            <a href=\"/signup\">I don't have an account</a>\n                        </div>\n                    </form>\n                    <img className=\"illustration\" src=\"/assets/illustration/enter.svg\" alt=\"Door\" />\n                </div>\n            </div> \n        );\n    }\n}\n\nexport default SignIn; ","import SignUp from './signup';\n\nexport default SignUp;\n\n","import React, { Component } from 'react';\nimport '../auth/auth.css';\n\nimport ReCAPTCHA from \"react-google-recaptcha\";\n\nimport AuthService from '../../../../services/auth-service';\n\nclass SignUp extends Component {\n\n    state = {\n        AuthService: new AuthService(),\n        userPass: '',\n        showingButton: false,\n        message: null,\n        captchaRes: \"\"\n    };\n\n    onPasswordFill = (e) => {\n        this.setState({\n            userPass: e.target.value\n        });\n    }\n\n    onPasswordCheck = (e) => {\n        if (e.target.value === this.state.userPass) {\n            this.setState({\n                showingButton: true\n            });\n        }\n    }\n\n    onRegFormSubmit = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n        // console.log(e.target);\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n\n        this.state.AuthService.sendFormRequest(formData, '/auth/register').then(\n            res => {\n                console.log(res);\n                if (res[\"code\"] !== undefined) {\n                    this.setState({\n                        message: res[\"message\"]\n                    });\n                } else {\n                    localStorage.setItem('token', res[\"token\"]);\n                    this.state.AuthService.getUserData(res[\"token\"]).then(\n                        userData => {\n                            localStorage.setItem('user', JSON.stringify(userData));\n                            this.props.logIn();\n                        });\n                }\n\n            }\n        );\n    }\n\n    onLoginFormSubmit = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n        this.state.AuthService.sendFormRequest(formData, '/auth/login').then(\n            res => {\n                if (res[\"response\"][\"message\"] !== undefined) {\n                    this.setState({\n                        message: res[\"response\"][\"message\"]\n                    });\n                } else {\n                    localStorage.setItem('token', res[\"response\"][\"token\"]);\n                    this.state.AuthService.getUserData(res[\"response\"][\"token\"]).then(\n                        userData => {\n                            localStorage.setItem('user', JSON.stringify(userData));\n                            this.props.logIn();\n                        });\n                }\n            }\n        );\n    }\n\n    onCaptcha = (value) => {\n        console.log(\"Captcha value:\", value);\n        this.setState({\n            captchaRes: value\n        })\n    }\n\n    render() {\n        const { showingButton, message, captchaRes } = this.state;\n\n        const buttonStyle = {\n            // display: showingButton ? 'inline-block' : 'none',\n            pointerEvents: showingButton ? 'auto' : 'none',\n            background: showingButton ? 'linear-gradient(45deg, #4937E8 0%, #2A82E9 100%), #C4C4C4' : '#A5A5A5'\n        }\n\n        const messageStyle = {\n            display: message ? 'flex' : 'none'\n        }\n\n        return (\n            <div className=\"auth\">\n                <div className=\"header\">\n                    <img onClick={() => window.location = \"/\"} className=\"logo\" src=\"/assets/svg/logo.svg\" alt=\"JetDesk\" />\n                    <a href=\"/\">\n                        <span>JetDesk</span>\n                    </a>\n                </div>\n                <div style={messageStyle} className=\"message\">{message}</div>\n                <div className=\"page-content\">\n                    <form id=\"registration\" onSubmit={this.onRegFormSubmit}>\n                        <h1>Sign up</h1>\n                        <div className=\"input_block_section\">\n                            <span>Email</span>\n                            <input type=\"email\" name=\"email\" id=\"emailR\" placeholder=\"Your email\" required />\n                        </div>\n                        <div className=\"input_block_section\">\n                            <span>Name and surname</span>\n                            <input type=\"text\" name=\"name\" id=\"nameR\" placeholder=\"Enter your name here\" required />\n                        </div>\n                        <div className=\"input_block_section\">\n                            <span>Pick a password</span>\n                            <input type=\"password\" onChange={this.onPasswordFill} name=\"password\" id=\"passR\" placeholder=\"Enter your password here\" required />\n                        </div>\n                        <div className=\"input_block_section\">\n                            <span>Repeat password</span>\n                            <input type=\"password\" onChange={this.onPasswordCheck} name=\"password2\" id=\"confirmpassR\" placeholder=\"Repeat your password here\" required />\n                        </div>\n                        \n                        <div className=\"confirm-info\">\n                            By signin up, you agree to our <a href=\"https://intercom.help/jetdesk/en/articles/4670509-terms-and-conditions\" target=\"_blank\">Terms and Conditions</a> and <a href=\"https://intercom.help/jetdesk/en/articles/4670508-privacy-policy\" target=\"_blank\">Privacy policy</a>\n                        </div>\n\n                        <input type=\"hidden\" name=\"g-recaptcha-response\" value={captchaRes} />\n                        <ReCAPTCHA className=\"recaptcha\"\n                            sitekey=\"6Le4cMEZAAAAAOYqtl88xeQVeKXpjeZpjqmgwdP5\"\n                            onChange={this.onCaptcha}\n                        />\n                        {/* <div id=\"reCaptcha\"></div> */}\n                        <div className=\"actions\">\n                            <button type=\"submit\" className=\"reg\" id=\"createAccount\" style={buttonStyle}>Sign up</button>\n                            <a href=\"/signin\">I already have an account</a>\n                        </div>\n                    </form>\n                    {/* <script src=\"https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit\" async defer></script> */}\n                    <img className=\"illustration\" src=\"/assets/illustration/enter.svg\" alt=\"Door\" />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default SignUp; ","import Header from './header';\n\nexport default Header;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './header.css';\n\nclass Header extends Component {\n\n    state = {\n        currentMenuGroup: null\n    }\n\n    render() {\n        let userData = localStorage.getItem(\"user\");\n        userData = JSON.parse(userData);\n        // console.log(userData);\n        const { serverUrl } = this.props;\n        const userIcon = serverUrl + userData[\"response\"][0][\"picture\"];\n\n        const { openHideMenu, currentGroupLink } = this.props;\n\n        return (\n            <div className=\"header\">\n                <div className=\"mobile-menu-icon\" onClick={openHideMenu}>\n                    <img src=\"/assets/svg/mobile-menu.svg\" alt=\"Menu\" />\n                </div>\n                <Link to=\"/\">\n                    <img className=\"logo\" src=\"/assets/svg/logo.svg\" alt=\"JetDesk\" />\n                </Link>\n                <Link className=\"mobile-logo\" to=\"/\">\n                    <img className=\"logo-mobile-icon\" src=\"/assets/svg/logo.svg\" alt=\"JetDesk\" />\n                    <span>JetDesk</span>\n                </Link>\n\n                <div className=\"header-right-side\">\n                    {/* {currentGroupLink  ? (\n                        <div className=\"top-menu\">\n                            <Link to={\"/class/\" + currentGroupLink}><span>Main</span></Link>\n                            <Link to={\"/tasks/\" + currentGroupLink}><span>Tasks</span></Link>\n                        </div>\n                    ) : null} */}\n\n                    <Link to=\"/profile/\">\n                        <div className=\"user-icon\">\n                            <img src={userIcon} alt=\"User\" />\n                        </div>\n                    </Link>\n                </div>\n            </div>\n        );\n    }\n}\n\n\nexport default Header;","import React from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport PropTypes from \"prop-types\";\nimport LazyLoad from \"react-lazyload\";\n\nconst ImageWrapper = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n`;\n\nconst loadingAnimation = keyframes`\n  0% {\n    background-color: #fff;\n  }\n  50% {\n    background-color: #ccc;\n  }\n  100% {\n    background-color: #fff;\n  }\n`;\n\nconst Placeholder = styled.div`\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  animation: ${loadingAnimation} 1s infinite;\n  border-radius: 50%;\n`;\n\nconst StyledImage = styled.img`\n  position: absolute;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n`;\n\nconst LazyImage = ({ src, alt }) => {\n  const refPlaceholder = React.useRef();\n\n  const removePlaceholder = () => {\n    refPlaceholder.current.remove();\n  };\n\n  return (\n    <ImageWrapper>\n      <Placeholder ref={refPlaceholder} />\n      <LazyLoad>\n        <StyledImage\n          onLoad={removePlaceholder}\n          onError={removePlaceholder}\n          src={src}\n          alt={alt}\n        />\n      </LazyLoad>\n    </ImageWrapper>\n  );\n};\n\nLazyImage.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired\n};\n\nexport default LazyImage;","export default class GroupService {\n\n    // _apiBase = 'http://localhost:5000/api';\n    _apiBase = 'https://api.jetdesk.app/api';\n\n    xhr = new XMLHttpRequest();\n\n    getResource = async (url) => {\n        const res = await fetch(`${this._apiBase}${url}`);\n\n        if (!res.ok) {\n            throw new Error(`Could not fetch ${url}` +\n                `, received ${res.status}`)\n        }\n        return await res.json();\n    };\n\n    // getAllPeople = async () => {\n    //     const res = await this.getResource(`/people/`);\n    //     return res.results\n    //         .map(this._transformPerson)\n    //         .slice(0, 5);\n    // };\n\n\n    newGroup = (opts) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/new\";\n        xhr.open(\"POST\", url);\n        // xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Content-Type', 'application/json');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        const postData = { ...opts };\n        xhr.send(JSON.stringify(postData));\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getGroupData = (link) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/data\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getGroupMembersAdmin = (link) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/members\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getGroupDataAdmin = (link) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/data-admin\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    joinGroup = (opts) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/join\";\n        xhr.open(\"POST\", url);\n        // xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Content-Type', 'application/json');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        const postData = { ...opts };\n        xhr.send(JSON.stringify(postData));\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n\n    leaveGroup = (link) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/leave\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getFollowing = () => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/my-following\";\n        xhr.open(\"POST\", url);\n        // xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        xhr.send();\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getRole = (link) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/my-role\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    editGroup = (opts) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/edit\";\n        xhr.open(\"POST\", url);\n        // xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Content-Type', 'application/json');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        const postData = { ...opts };\n        xhr.send(JSON.stringify(postData));\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    };\n\n\n    // uploadFile = (token, link, formEl) => {\n    //     const { xhr } = this;\n    //     let url = this._apiBase + \"/group/logo-upload\";\n    //     xhr.open(\"POST\", url);\n    //     xhr.setRequestHeader('Authorization', 'Bearer ' + token);\n    //     // xhr.setRequestHeader(\"Content-Type\",\"multipart/form-data\");\n\n    //     let formData = new FormData(formEl);\n\n    //     xhr.send(formData, link);\n\n    //     return new Promise((resolve, reject) => {\n    //         xhr.onreadystatechange = (e) => {\n    //             if (xhr.readyState === 4) {\n    //                 resolve(JSON.parse(xhr.responseText));\n    //             }\n    //         }\n\n    //         xhr.onerror = (e) => {\n    //                     // alert(xhr.responseText); \n    //                     alert(\"error\");\n    //                 }\n    //     });\n    // }\n\n    uploadFile = (token, link, formEl) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/logo-upload\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Authorization', 'Bearer ' + token);\n        // xhr.setRequestHeader(\"Content-Type\",\"multipart/form-data\");\n\n        let formData = new FormData(formEl);\n\n        xhr.send(formData, link);\n\n        xhr.onreadystatechange = (e) => { \n            if (xhr.readyState === 4) {\n                console.log(xhr.responseText);\n                window.location.reload();\n                // console.log(JSON.parse(xhr.responseText));\n            }\n        }\n\n        xhr.onerror = (e) => {\n            // alert(xhr.responseText); \n            alert(\"Error - unsupported picture format. Supported formats: .jpg, .jpeg, .png.\");\n        }\n    }\n\n\n    //Rating\n    getGroupRating = (link) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/get-rating\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    hideGroupRating = (link) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/hide-rating\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    showGroupRating = (link) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/show-rating\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    //attachments\n\n    newFile = (opts) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/new-file\";\n        xhr.open(\"POST\", url);\n        // xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Content-Type', 'application/json');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        const postData = { ...opts };\n        xhr.send(JSON.stringify(postData));\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getGroupFiles = (link) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/group-files\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    newLesson = (opts) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/new-lesson\";\n        xhr.open(\"POST\", url);\n        // xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Content-Type', 'application/json');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        const postData = { ...opts };\n        xhr.send(JSON.stringify(postData));\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getLessons = (link) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/lessons\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    deleteLesson = (link, lessonId) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/delete-lesson\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link) + '&lessonId=' + encodeURIComponent(lessonId);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    //Members\n\n    setTeacher = (link, userId) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/set-teacher\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link) + '&userId=' + encodeURIComponent(userId);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    setTeacherToStudent = (link, userId) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/set-teacher-to-student\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link) + '&userId=' + encodeURIComponent(userId);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    deleteGroupMember = (link, userId) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/remove-member\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link) + '&userId=' + encodeURIComponent(userId);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getMemberInfo = (link, userId) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/member-info\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link) + '&userId=' + encodeURIComponent(userId);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n\n    //Chat\n\n    // getGroupChat = (link) => {\n    //     const { xhr } = this;\n    //     let url = this._apiBase + \"/group/chat\";\n    //     xhr.open(\"POST\", url);\n    //     xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n    //     xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n    //     let params = 'link=' + encodeURIComponent(link);\n    //     xhr.send(params);\n    //     return new Promise((resolve, reject) => {\n    //         xhr.onreadystatechange = (e) => {\n    //             if (xhr.readyState === 4) {\n    //                 // console.log(xhr.responseText);\n    //                 resolve(JSON.parse(xhr.responseText));\n    //             }\n    //         }\n    //     });\n    // }\n\n    getGroupChat = (link, page) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/chat\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link) + '&page=' + encodeURIComponent(page);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n\n    newMessage = (opts) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/group/new-message\";\n        xhr.open(\"POST\", url);\n        // xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Content-Type', 'application/json');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        const postData = { ...opts };\n        xhr.send(JSON.stringify(postData));\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n\n}\n","import LeftMenu from './left-menu';\n\nexport default LeftMenu;","import React, { Component } from 'react';\nimport './left-menu.css';\n\n// import { BrowserRouter, NavLink, Nav, Link } from 'react-router-dom';\nimport { NavLink, Link } from 'react-router-dom';\n\nimport LazyImage from \"../../components/lazy-load/lazy-load-image\";\n\nimport GroupService from '../../services/group-service';\n\nclass LeftMenu extends Component {\n\n    state = {\n        GroupService: new GroupService(),\n        UserGroups: null,\n        // menuOpened: false,\n    }\n\n    componentDidMount() {\n        // console.log(\"I did mount\")\n        this.state.GroupService.getFollowing().then(\n            res => {\n                console.log(res);\n                this.setState(\n                    {\n                        UserGroups: res[\"response\"]\n                    });\n            });\n    }\n\n\n    // onlyHideMenu = () => {\n    //     this.setState({\n    //         menuOpened: false\n    //     });\n    // }\n\n    render() {\n        const { handlePopUpContent, menuOpened, openHideMenu, onlyHideMenu, serverUrl } = this.props;\n\n        const { UserGroups } = this.state;\n\n        //https://jsfiddle.net/0ky72bvh/\n\n        const generateGroupShortName = (data) => {\n            let name;\n            if (data.split(' ').length >= 2) {\n                let twoWords = data.split(' ').slice(0, 2).join(' ')\n                let matches = twoWords.match(/\\b(\\w)/g);\n                let acronym = matches.join('');\n                name = acronym.substring(0, 2);\n            } else {\n                name = data.substring(0, 2);\n            }\n            return name;\n        }\n\n      \n\n        const ShowGroups = () => UserGroups.map((group) =>\n            <NavLink activeclassname='active' to={\"/class/\" + group.link} onClick={onlyHideMenu} className=\"leftmenu_link\" key={group.link}>\n                <div className=\"menu_circle\">\n                    {group.picture !== \"data/uploads/images/default/group.png\" ? <img src={serverUrl + group.picture} title={group.name} alt={group.name} /> : generateGroupShortName(group.name)}\n                    {/* {group.picture !== \"data/uploads/images/default/group.png\" ?  <LazyImage key={\"img\" + group.name} src={serverUrl + group.picture} alt={group.name} /> : generateGroupShortName(group.name)} */}\n                </div>\n                <div className=\"full_class_info\">\n                    <p>{group.name}</p>\n                    <span>{group.school_name}</span>\n                </div>\n            </NavLink>\n        );\n\n        return (\n            <div className={menuOpened ? 'leftmenu opened' : 'leftmenu'}>\n                <img className=\"menu\" onClick={openHideMenu} src=\"/assets/svg/pc-menu.svg\" alt=\"Menu\"></img>\n                <div className=\"leftmenu_top_line\">\n                    <div className=\"menu_logo_block\">\n                        <Link to=\"/\">\n                            <img className=\"menu_logo\" src=\"/assets/svg/logo-white.svg\" alt=\"Logo\"></img>\n                        </Link>\n                        <div className=\"menu_logo_text\">JetDesk</div>\n                    </div>\n                    <img className=\"menu_close\" onClick={openHideMenu} src=\"/assets/svg/menu-close-new.svg\" alt=\"Close Menu\"></img>\n                </div>\n                <div className=\"groups\">\n                    {/* <BrowserRouter>\n                <Nav> */}\n                    {(UserGroups ? <ShowGroups /> : null)}\n                    {/* </Nav>\n                </BrowserRouter> */}\n                </div>\n                <div className=\"leftmenu_bottom\" onClick={() => handlePopUpContent(\"addJoin\")}>\n                    <img className=\"plus\" src=\"/assets/svg/plus.svg\" alt=\"Plus\"></img>\n                </div>\n                <div className=\"leftmenu_bottom_opened\">\n                    <div className=\"leftmenu_bottom_opened_text\">\n                        <p>Join or create a Class</p>\n                    </div>\n                    {/* <div className=\"leftmenu_plus_square\" onClick={() => handlePopUpContent(\"addJoin\")}> */}\n                    <div className=\"leftmenu_plus_square\" onClick={() => handlePopUpContent(\"addJoin\", { smallPopUp: true })}>\n                        <img className=\"plus\" src=\"/assets/svg/plus.svg\" alt=\"Plus\"></img>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default LeftMenu;","import AddJoin from './add-join';\n\nexport default AddJoin;","import React, { Component } from \"react\";\n\nexport default class AddJoin extends Component {\n    render() {\n        return (\n            <React.Fragment>\n                <div className=\"side pc-only\">\n                    {/* <div className=\"circle\"></div> */}\n                    <img className=\"popup-illustration\" src=\"/assets/illustration/create.svg\" alt=\"Create\" />\n                    <h2>Create a Class</h2>\n                    <p>Create your own class, teach and take students to the next level</p>\n                    <button className=\"main\" onClick={() => this.props.handlePopUpContent(\"addGroupPopupContent\")}>Create a class</button>\n                </div>\n                <div className=\"side pc-only\">\n                    {/* <div className=\"circle\"></div> */}\n                    <img className=\"popup-illustration\" src=\"/assets/illustration/join.svg\" alt=\"Join\" />\n                    <h2>Join a Class</h2>\n                    <p>Become a member of a class and start learning effectively and achieve results quickly</p>\n                    <button className=\"main\" onClick={() => this.props.handlePopUpContent(\"joinGroupPopupContent\")}>Join a class</button>\n                </div>\n\n                <div className=\"mobile-block create-join-class-popup\">\n                    <div className=\"popup_form\">\n                        <h4>Create or join<br /> new class</h4>\n                        <div className=\"form_action small-margin\">\n                            <div className=\"cancel\" onClick={this.props.changePopUpState}>Cancel</div>\n                            <br />\n                            <button className=\"main\" onClick={() => this.props.handlePopUpContent(\"addGroupPopupContent\")}>Create a class</button>\n                            <button className=\"main space\" onClick={() => this.props.handlePopUpContent(\"joinGroupPopupContent\")}>Join a class</button>\n                        </div>\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n","import React, { Component } from \"react\";\n\nimport GroupService from '../../../services/group-service';\n\nexport default class AddGroupPopupContent extends Component {\n\n    state = {\n        GroupService: new GroupService(),\n        showingSubmit: true,\n    }\n\n    componentDidMount() {\n        this.firstInput.focus();\n    }\n\n\n    onGroupCreate = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n\n        this.setState({\n            showingSubmit: false,\n        })\n\n        // console.log(e.target);\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n\n        this.state.GroupService.newGroup(formData).then(\n            res => {\n                console.log(res);\n                if (res[\"response\"][\"code\"] === \"100\") {\n                    window.location = \"/class/\" + res[\"response\"][\"link\"];\n                } else {\n                    alert(res[\"response\"][\"message\"]);\n                }\n                this.setState({\n                    showingSubmit: true,\n                })\n            }\n        );\n    }\n\n    render() {\n        return (\n            <div className=\"popup_form\">\n                <h4>Create a class</h4>\n                <form onSubmit={this.onGroupCreate}>\n                    <div className=\"form_elements\">\n                        <div className=\"form_input_section\">\n                            <input type=\"text\" ref={(input) => { this.firstInput = input; }} name=\"name\" placeholder=\"Class name (ex.: Math class)\" autoComplete=\"off\" required />\n                            <span className=\"label\">Class name</span>\n                        </div>\n                        <div className=\"form_input_section\">\n                            <input type=\"text\" name=\"schoolName\" placeholder=\"(Could be your or a personal brand)\" required />\n                            <span className=\"label\">School name</span>\n                        </div>\n                        <div className=\"form_input_section\">\n                            <input type=\"text\" name=\"code\" placeholder=\"Ex.: MySecretPass123\" autoComplete=\"off\" />\n                            <span className=\"label\">(Leave empty if you'd like your class to be open to anyone).</span>\n                            <span className=\"label\">Class invitation pass</span>\n                        </div>\n                    </div>\n                    <div className=\"form_action\">\n                        <div className=\"cancel\" onClick={this.props.changePopUpState}>Cancel</div>\n                       {this.state.showingSubmit ? <button className=\"main\" type=\"submit\">Create</button> : null }\n                    </div>\n                </form>\n            </div>\n        );\n    }\n}","import React, { Component } from \"react\";\n\nimport GroupService from '../../../services/group-service';\n\nexport default class JoinGroupPopupContent extends Component {\n\n    state = {\n        GroupService: new GroupService(),\n    }\n\n    onGroupJoin = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n\n        // console.log(e.target);\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n\n        this.state.GroupService.joinGroup(formData).then(\n            res => {\n                console.log(res);\n                if (res[\"response\"] !== undefined) {\n                    if(res[\"response\"][\"code\"] === \"100\"){\n                        window.location = \"/class/\" + res[\"response\"][\"link\"];\n                    } else{\n                        this.props.updateErrorMessage(res[\"response\"][\"message\"]);\n                        this.props.handlePopUpContent(\"error\");\n                    }\n                } else {\n                    // alert(res[\"response\"][\"message\"]);\n                    this.props.updateErrorMessage(res[\"message\"]);\n                    this.props.handlePopUpContent(\"error\");\n                }\n            }\n        );\n    }\n\n    render() {\n        return (\n            <div className=\"popup_form\">\n                <h4>Join a class</h4>\n                <form onSubmit={this.onGroupJoin}>\n                    <div className=\"form_elements\">\n                        <div className=\"form_input_section\">\n                            <input type=\"text\" name=\"link\" placeholder=\"Enter group ID\" autoComplete=\"off\" required />\n                            <span className=\"label\">Group ID</span>\n                        </div>\n                        <div className=\"form_input_section\">\n                            <input type=\"text\" name=\"code\" placeholder=\"Enter invitation pass\" autoComplete=\"off\" />\n                            <span className=\"label\">Invitation pass (if required)</span>\n                        </div>\n                        {/* <div className=\"form_input_section\">\n                        <input type=\"text\" name=\"schoolName\" placeholder=\"(Could be your or a personal brand)\" required/>\n                        <span className=\"label\">School name</span>\n                    </div> */}\n                    </div>\n                    <div className=\"form_action\">\n                        <div className=\"cancel\" onClick={this.props.changePopUpState}>Cancel</div>\n                        <button className=\"main\" type=\"submit\">Join</button>\n                    </div>\n                </form>\n            </div>\n        );\n    }\n}","import axios from 'axios';\n\nexport default class UserService {\n\n    // _apiBase = 'http://localhost:5000/api';\n    _apiBase = 'https://api.jetdesk.app/api';\n\n    xhr = new XMLHttpRequest();\n\n    getResource = async (url) => {\n        const res = await fetch(`${this._apiBase}${url}`);\n\n        if (!res.ok) {\n            throw new Error(`Could not fetch ${url}` +\n                `, received ${res.status}`)\n        }\n        return await res.json();\n    };\n\n    // getAllPeople = async () => {\n    //     const res = await this.getResource(`/people/`);\n    //     return res.results\n    //         .map(this._transformPerson)\n    //         .slice(0, 5);\n    // };\n\n    // uploadFile = (formId, callback) => {\n    //     let file = document.getElementById('profile-picture-id').files[0]\n    //     console.log(file)\n    //     let formData = new FormData()\n    //     formData.append('profilepic', file)\n\n    //     let url = this._apiBase + \"/user/upload\";\n\n    //     axios.post(url, formData, {\n    //       headers: {\n    //         'Authorization' : 'Bearer ' + localStorage.getItem(\"token\"),\n    //         'Content-Type': 'multipart/form-data'\n    //       },\n    //       transformRequest: [function (data) {\n    //         return data\n    //       }],\n    //       onUploadProgress: progressEvent => {\n    //         let complete = (progressEvent.loaded / progressEvent.total * 100 | 0) + '%'\n    //         console.log('complete: ', complete)\n    //       }\n    //     })\n    //     .then((response) => {\n    //       if (response.status === 200) {\n    //           alert(\"Done!\");\n    //         console.log('success upload');\n    //         callback();\n    //       }\n    //     })\n    // }\n\n\n    // uploadFile = (formId, callback) => {\n    //     let form = document.getElementById(formId);\n    //     // let oData = new FormData(form);\n\n    //     let oData = new FormData();\n    //     let file = document.getElementById('profile-picture-id').files[0]\n    //     oData.append('profilepic', file);\n\n    //     oData.append(\"CustomField\", \"This is some extra data\");\n\n    //     let oReq = new XMLHttpRequest();\n    //     let url = this._apiBase + \"/user/upload\";\n    //     oReq.open(\"POST\", url, true);\n    //     oReq.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n    //     // oReq.setRequestHeader(\"Content-Type\", \"multipart/form-data\");\n    //     oReq.onload = function (oEvent) {\n    //         if (oReq.status == 200) {\n    //            alert(\"Uploaded!\");\n    //            callback();\n    //         } else {\n    //             alert(\"Error \" + oReq.status + \" occurred when trying to upload your file.<br \\/>\");\n    //         }\n    //     };\n\n    //     oReq.send(oData);\n    // }\n\n    uploadFile = (token, formEl) => {\n        console.log(\"I am called\");\n        const { xhr } = this;\n        let url = this._apiBase + \"/user/upload\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Authorization', 'Bearer ' + token);\n        // xhr.setRequestHeader(\"Content-Type\",\"multipart/form-data\");\n\n        let formData = new FormData(formEl);\n\n        xhr.send(formData);\n\n        xhr.onreadystatechange = (e) => {\n            if (xhr.readyState === 4) {\n                console.log(xhr.responseText);\n\n                this.getUserData(localStorage.getItem(\"token\")).then(\n                    userData => {\n                        console.log(userData)\n                        localStorage.setItem('user', JSON.stringify(userData));\n                        window.location.reload();\n                    });\n                // window.location.reload();\n                // console.log(JSON.parse(xhr.responseText));\n            }\n        }\n\n        xhr.onerror = (e) => {\n            // alert(xhr.responseText); \n            alert(\"Error - unsupported picture format. Supported formats: .jpg, .jpeg, .png.\");\n        }\n    }\n\n    // uploadFile = (token, formEl) => {\n    //     const { xhr } = this;\n    //     let url = this._apiBase + \"/user/upload\";\n    //     xhr.open(\"POST\", url);\n    //     xhr.setRequestHeader('Authorization', 'Bearer ' + token);\n    //     // xhr.setRequestHeader(\"Content-Type\",\"multipart/form-data\");\n\n    //     let formData = new FormData(formEl);\n    //     xhr.send(formData);\n\n    //     return new Promise((resolve, reject) => {\n    //         xhr.onreadystatechange = (e) => {\n    //             if (xhr.readyState === 4) {\n    //                 console.log(xhr.responseText);\n    //                 resolve(JSON.parse(xhr.responseText));\n    //             }\n    //         }\n\n    //         xhr.onerror = (e) => {\n    //             // alert(xhr.responseText); \n    //             alert(\"error\");\n    //         }\n    //     });\n    // }\n\n    getUserData = (token) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/user/data\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Authorization', 'Bearer ' + token);\n        xhr.send();\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getUserLimit = (token) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/user/limit\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Authorization', 'Bearer ' + token);\n        xhr.send();\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    editUserProfile = (opts) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/user/edit\";\n        xhr.open(\"POST\", url);\n        // xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Content-Type', 'application/json');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        const postData = { ...opts };\n        xhr.send(JSON.stringify(postData));\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    changeUserPassword = (opts) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/user/password\";\n        xhr.open(\"POST\", url);\n        // xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Content-Type', 'application/json');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        const postData = { ...opts };\n        xhr.send(JSON.stringify(postData));\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n\n\n}\n","import UserPicture from './user-picture';\n\nexport default UserPicture;","import React, { Component } from \"react\";\n\nimport UserService from '../../../services/user-service';\n\nexport default class UserPicture extends Component {\n\n    state = {\n        UserService: new UserService(),\n    }\n\n    // onPictureUpload = (e) => {\n    //     e.preventDefault(); // avoid to execute the actual submit of the form.\n\n    //     this.state.UserService.uploadFile(localStorage.getItem(\"token\"), document.getElementById('profile-picture-form')).then(\n    //         res => {\n    //             console.log(res);\n    //             this.state.UserService.getUserData(localStorage.getItem(\"token\")).then(\n    //                 userData => {\n    //                     console.log(userData)\n    //                     localStorage.setItem('user', JSON.stringify(userData));\n    //                     window.location.reload();\n    //                 });\n    //         }\n    //     );\n    // }\n\n    onPictureUpload = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n\n        // let formData = new FormData('profile-picture-form');\n        // this.state.UserService.uploadFile('profile-picture-form', this.onUserImageUploaded);\n\n        this.state.UserService.uploadFile(localStorage.getItem(\"token\"), document.getElementById('profile-picture-form')).then(\n            res => {\n                console.log(res);\n                // window.location.reload();\n            }\n        );\n    }\n\n    onUserImageUploaded = () => {\n        this.state.UserService.getUserData(localStorage.getItem(\"token\")).then(\n            userData => {\n                console.log(userData)\n                localStorage.setItem('user', JSON.stringify(userData));\n                window.location.reload();\n            });\n    }\n\n    render() {\n        return (\n            <form id=\"profile-picture-form\" enctype=\"multipart/form-data\" method=\"POST\" onSubmit={this.onPictureUpload}>\n                <div className=\"form_content upload\">\n                    <div className=\"form_elements upload\">\n                        <img src=\"/assets/illustration/selfie.svg\" className=\"popup-illustration\" alt=\"selfie\" />\n                        {/* <input type=\"file\" id=\"profile-picture-id\" accept=\".heic\" name=\"profilepic\" /> */}\n                        <input type=\"file\" id=\"profile-picture-id\" accept=\"image/*\" name=\"profilepic\" />\n                    </div> \n                    <button className=\"main\" type=\"submit\"> Upload </button>\n                    <div className=\"form_action upload\">\n                        <div className=\"cancel mobile-only\" onClick={this.props.changePopUpState}>Cancel</div>\n                    </div>\n                </div>\n            </form>\n        );\n    }\n}","export default class GroupService {\n\n    // _apiBase = 'http://localhost:5000/api';\n    _apiBase = 'https://api.jetdesk.app/api';\n\n    xhr = new XMLHttpRequest();\n\n    getResource = async (url) => {\n        const res = await fetch(`${this._apiBase}${url}`);\n\n        if (!res.ok) {\n            throw new Error(`Could not fetch ${url}` +\n                `, received ${res.status}`)\n        }\n        return await res.json();\n    };\n\n    // getAllPeople = async () => {\n    //     const res = await this.getResource(`/people/`);\n    //     return res.results\n    //         .map(this._transformPerson)\n    //         .slice(0, 5);\n    // };\n\n\n    newTask = (opts) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/new\";\n        xhr.open(\"POST\", url);\n        // xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Content-Type', 'application/json');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        const postData = { ...opts };\n        xhr.send(JSON.stringify(postData));\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    editTask = (opts) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/edit\";\n        xhr.open(\"POST\", url);\n        // xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Content-Type', 'application/json');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        const postData = { ...opts };\n        xhr.send(JSON.stringify(postData));\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getTasks = (link) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/tasks\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getTasksWithMyHomework = (link) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/tasks-with-my-homework\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getSingleTask = (taskLink) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/single-task\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'taskLink=' + encodeURIComponent(taskLink);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getTaskAdminRole = (taskLink) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/task-admin\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'taskLink=' + encodeURIComponent(taskLink);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getAdminRole = (groupLink) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/group-admin\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'groupLink=' + encodeURIComponent(groupLink);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    //homework\n\n    newHomework = (opts) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/homework-new\";\n        xhr.open(\"POST\", url);\n        // xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Content-Type', 'application/json');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        const postData = { ...opts };\n        xhr.send(JSON.stringify(postData));\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getSingleHomework = (taskLink) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/homework-load-single\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'taskLink=' + encodeURIComponent(taskLink);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getAllHomework = (taskLink, groupLink) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/homework-load-all\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'taskLink=' + encodeURIComponent(taskLink) + '&link=' + encodeURIComponent(groupLink);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getSingleHomeworkAdmin = (homeworkLink) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/homework-load-single-admin\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'homeworkLink=' + encodeURIComponent(homeworkLink);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    rateHomeworkAdmin = (opts) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/homework-check-admin\";\n        xhr.open(\"POST\", url);\n        // xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Content-Type', 'application/json');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        const postData = { ...opts };\n        xhr.send(JSON.stringify(postData));\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n\n    commentHomeworkAdmin = (homework, teacherComment) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/homework-comment-admin\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'homeworkLink=' + encodeURIComponent(homework) + '&teacherComment=' + encodeURIComponent(teacherComment);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    deleteTaskAction = (groupLink, taskLink) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/delete-task\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(groupLink) + '&taskLink=' + encodeURIComponent(taskLink);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    //attachments\n\n    newFile = (opts) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/new-file\";\n        xhr.open(\"POST\", url);\n        // xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Content-Type', 'application/json');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        const postData = { ...opts };\n        xhr.send(JSON.stringify(postData));\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n\n    getTaskFiles = (link, taskLink) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/task-files\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link) + '&taskLink=' + encodeURIComponent(taskLink);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    deleteTaskFileAdmin = (fileId, groupLink) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/delete-task-file\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(groupLink) + '&fileId=' + encodeURIComponent(fileId);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n\n    getMyFiles = (link, taskLink) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/my-task-files\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link) + '&taskLink=' + encodeURIComponent(taskLink);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    deleteMyTaskFile = (fileId, groupLink) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/delete-my-file\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(groupLink) + '&fileId=' + encodeURIComponent(fileId);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n    getStudentTaskFiles = (link, homeworkLink) => {\n        const { xhr } = this;\n        let url = this._apiBase + \"/task/student-task-files\";\n        xhr.open(\"POST\", url);\n        xhr.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n        xhr.setRequestHeader('Authorization', 'Bearer ' + localStorage.getItem('token'));\n        let params = 'link=' + encodeURIComponent(link) + '&homeworkLink=' + encodeURIComponent(homeworkLink);\n        xhr.send(params);\n        return new Promise((resolve, reject) => {\n            xhr.onreadystatechange = (e) => {\n                if (xhr.readyState === 4) {\n                    // console.log(xhr.responseText);\n                    resolve(JSON.parse(xhr.responseText));\n                }\n            }\n        });\n    }\n\n}\n","import React, { Component } from \"react\";\n\nimport TaskService from '../../../services/task-service';\n\nexport default class NewTask extends Component {\n\n    state = {\n        TaskService: new TaskService(),\n        taskColor: \"blue\",\n    }\n\n    componentDidMount() {\n        this.firstInput.focus();\n    }\n\n\n    updateNewTaskColor = (color) => {\n        this.setState({\n            taskColor: color\n        });\n    }\n\n\n    onTaskCreate = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n\n        // console.log(e.target);\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n\n        console.log(formData)\n\n        this.state.TaskService.newTask(formData).then(\n            res => {\n                console.log(res);\n                if (res[\"response\"][\"code\"] === \"100\") {\n                    // alert(\"Task created!\")\n                    window.location = \"/task/\" + res[\"response\"][\"link\"];\n                } else {\n                    alert(res[\"response\"][\"message\"]);\n                }\n            }\n        );\n    }\n\n    render() {\n        let today = new Date();\n        today = today.toISOString().substring(0, 10);\n\n        return (\n            <div className=\"popup_form\">\n                <h4>Create a task</h4>\n                <form onSubmit={this.onTaskCreate}>\n                    <div className=\"form_elements\">\n                        <div className=\"form_input_section\">\n                            <input type=\"text\" ref={(input) => { this.firstInput = input; }} name=\"name\" placeholder=\"Task name (ex: Write a Poem)\" required />\n                            <span className=\"label\">Task name</span>\n                        </div>\n                        <div className=\"form_input_section\">\n                            <input type=\"text\" name=\"topic\" placeholder=\"(Could be any subject)\" required />\n                            <span className=\"label\">Task subject</span>\n                        </div>\n                        <div className=\"form_input_section\">\n                            <input type=\"date\" id=\"start\" min={today} name=\"deadline\" placeholder=\"Select the deadline date\" required />\n                            <span className=\"label\">Task deadline</span>\n                        </div>\n                        <div className=\"form_input_section\">\n                            <input type=\"number\" name=\"maxMark\" placeholder=\"Ex.: 100\" required />\n                            <span className=\"label\">Max Mark</span>\n                        </div>\n                        <div className=\"form_input_section\">\n                            <input type=\"text\" name=\"comment\" placeholder=\"(Task description)\" required />\n                            <span className=\"label\">Comment</span>\n                        </div>\n                        {/* <div className=\"form_input_section\">\n                        <input type=\"text\" name=\"color\" placeholder=\"(blue, green, red, pink, yellow)\" required/>\n                        <span className=\"label\">Color</span>\n                    </div> */}\n                        <div className=\"form_radio_color_section\">\n                            <span>Select a color tag for the task</span>\n\n                            <input type=\"radio\" name=\"color_picker\" id=\"color_1\" value=\"blue\" />\n                            <label htmlFor=\"color_1\" onClick={() => this.updateNewTaskColor(\"blue\")} className=\"small_circle blue\"></label>\n\n                            <input type=\"radio\" name=\"color_picker\" id=\"color_2\" value=\"green\" />\n                            <label htmlFor=\"color_2\" onClick={() => this.updateNewTaskColor(\"green\")} className=\"small_circle green\"></label>\n\n                            <input type=\"radio\" name=\"color_picker\" id=\"color_3\" value=\"red\" />\n                            <label htmlFor=\"color_3\" onClick={() => this.updateNewTaskColor(\"red\")} className=\"small_circle red\"></label>\n\n                            <input type=\"radio\" name=\"color_picker\" id=\"color_4\" value=\"pink\" />\n                            <label htmlFor=\"color_4\" onClick={() => this.updateNewTaskColor(\"pink\")} className=\"small_circle pink\"></label>\n\n                            <input type=\"radio\" name=\"color_picker\" id=\"color_5\" value=\"yellow\" />\n                            <label htmlFor=\"color_5\" onClick={() => this.updateNewTaskColor(\"yellow\")} className=\"small_circle yellow\"></label>\n                        </div>\n\n                        <input type=\"hidden\" name=\"color\" value={this.state.taskColor} />\n                        <input type=\"hidden\" name=\"link\" value={this.props.currentGroupLink} />\n                        <div className=\"bottom-gradient\"></div>\n                    </div>\n                    \n                    <div className=\"form_action\">\n                        <div className=\"cancel\" onClick={this.props.changePopUpState}>Cancel</div>\n                        <button className=\"main\" type=\"submit\">Create</button>\n                    </div>\n                </form>\n            </div>\n        );\n    }\n}","import Error from './error';\n\nexport default Error;","import React, { Component } from \"react\";\n\nexport default class Error extends Component {\n    render() {\n        return (\n            <div className=\"error_block\">\n                <img className=\"popup-illustration\" src=\"/assets/illustration/error.svg\" alt=\"Error\" />\n                <p className=\"error_text\">{this.props.errorMessage}</p>\n                <div className=\"cancel\" onClick={this.props.changePopUpState}>Cancel</div>\n                {/* <button className=\"main\" onClick={this.props.changePopUpState}>Okay</button> */}\n            </div>\n        );\n    }\n}","import React, { Component } from \"react\";\n\nimport TaskService from '../../../services/task-service';\n\nexport default class EditTask extends Component {\n\n    state = {\n        TaskService: new TaskService(),\n        TaskInfo: null,\n        taskColor: null,\n    }\n\n    componentDidMount() {\n\n        let taskLink = this.props.currentGroupLink; //it's actually a Task Link\n        console.log(taskLink); \n\n        this.state.TaskService.getSingleTask(taskLink).then(\n            res => {\n                console.log(res);\n                if (res[\"code\"] === undefined) {\n                    this.setState({\n                        TaskInfo: res[\"response\"][0],\n                        taskColor: res[\"response\"][0][\"color\"]\n                    });\n                    this.firstInput.focus();\n                } else {\n                    window.location = \"/\";\n                }\n            });\n    }\n\n\n    updateNewTaskColor = (color) => {\n        this.setState({\n            taskColor: color\n        });\n    }\n\n\n    onTaskEdit = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n\n        // console.log(e.target);\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n\n        console.log(formData)\n\n        this.state.TaskService.editTask(formData).then(\n            res => {\n                console.log(res);\n                if (res[\"response\"][\"code\"] === \"100\") {\n                    // alert(\"Task edited!\");\n                    window.location = \"/task/\" + res[\"response\"][\"link\"];\n                } else {\n                    alert(\"Error! Check console\");\n                }\n            }\n        );\n    }\n\n    render() {\n\n        const { TaskInfo } = this.state;\n\n        let today = new Date();\n        today = today.toISOString().substring(0, 10);\n\n        if (TaskInfo !== null) {\n        return (\n            <div className=\"popup_form\">\n                <h4>Edit task</h4>\n                <form onSubmit={this.onTaskEdit}>\n                <div className=\"form_elements\">\n                    <div className=\"form_input_section\">\n                        <input type=\"text\" ref={(input) => { this.firstInput = input; }} name=\"name\" placeholder=\"Task name (ex: Write a Poem)\" defaultValue={TaskInfo.name} required />\n                        <span className=\"label\">Task name</span>\n                    </div>\n                    <div className=\"form_input_section\">\n                        <input type=\"text\" name=\"topic\" placeholder=\"(Could be any subject)\" defaultValue={TaskInfo.topic} required />\n                        <span className=\"label\">Task subject</span>\n                    </div>\n                    <div className=\"form_input_section\">\n                        <input type=\"date\" id=\"start\" min={today} name=\"deadline\" placeholder=\"Select the deadline date\" defaultValue={TaskInfo.deadline.substring(0, 10)} required />\n                        <span className=\"label\">Task deadline</span>\n                    </div>\n                    <div className=\"form_input_section\">\n                        <input type=\"number\" name=\"maxMark\" placeholder=\"Ex.: 100\" defaultValue={TaskInfo.max_mark} required />\n                        <span className=\"label\">Max Mark</span>\n                    </div>\n                    <div className=\"form_input_section\">\n                        <input type=\"text\" name=\"comment\" placeholder=\"(Task description)\" defaultValue={TaskInfo.comment} required />\n                        <span className=\"label\">Comment</span>\n                    </div>\n                    {/* <div className=\"form_input_section\">\n                        <input type=\"text\" name=\"color\" placeholder=\"(blue, green, red, pink, yellow)\" required/>\n                        <span className=\"label\">Color</span>\n                    </div> */}\n                    <div className=\"form_radio_color_section\">\n                        <span>Select a color tag for the task</span>\n                        <span>(Current color is {this.state.taskColor})</span>\n\n                        <input type=\"radio\" name=\"color_picker\" id=\"color_1\" value=\"blue\" />\n                        <label htmlFor=\"color_1\" onClick={() => this.updateNewTaskColor(\"blue\")} className=\"small_circle blue\"></label>\n\n                        <input type=\"radio\" name=\"color_picker\" id=\"color_2\" value=\"green\" />\n                        <label htmlFor=\"color_2\" onClick={() => this.updateNewTaskColor(\"green\")} className=\"small_circle green\"></label>\n\n                        <input type=\"radio\" name=\"color_picker\" id=\"color_3\" value=\"red\" />\n                        <label htmlFor=\"color_3\" onClick={() => this.updateNewTaskColor(\"red\")} className=\"small_circle red\"></label>\n\n                        <input type=\"radio\" name=\"color_picker\" id=\"color_4\" value=\"pink\" />\n                        <label htmlFor=\"color_4\" onClick={() => this.updateNewTaskColor(\"pink\")} className=\"small_circle pink\"></label>\n\n                        <input type=\"radio\" name=\"color_picker\" id=\"color_5\" value=\"yellow\" />\n                        <label htmlFor=\"color_5\" onClick={() => this.updateNewTaskColor(\"yellow\")} className=\"small_circle yellow\"></label>\n                    </div>\n\n                    <input type=\"hidden\" name=\"link\" value={TaskInfo.group_link} />\n                    <input type=\"hidden\" name=\"taskLink\" value={TaskInfo.task_link} />\n                    <input type=\"hidden\" name=\"color\" value={this.state.taskColor} />\n                    <div className=\"bottom-gradient\"></div>\n                    </div>\n                    <div className=\"form_action\">\n                        <div className=\"cancel\" onClick={this.props.changePopUpState}>Cancel</div>\n                        <button className=\"main\" type=\"submit\">Edit</button>\n                    </div>\n                </form>\n            </div>\n        );\n                } else{\n                    return(\n                        <p>Task can't be loaded...</p>\n                    )\n                }\n    }\n}","import React, { Component } from \"react\";\n\nimport TaskService from '../../../services/task-service';\n\nexport default class RateHomework extends Component {\n\n    state = {\n        TaskService: new TaskService(),\n    }\n\n    componentDidMount() {\n        // const argsData = this.props.currentGroupLink; //it's actually an Object with Homework and Task data\n\n        // console.log(argsData);\n\n        // let taskLink = this.props.currentGroupLink; //it's actually a Task Link\n        // console.log(taskLink); \n\n        // this.state.TaskService.getSingleTask(taskLink).then(\n        //     res => {\n        //         console.log(res);\n        //         if (res[\"code\"] === undefined) {\n        //             this.setState({\n        //                 TaskInfo: res[\"response\"][0],\n        //                 taskColor: res[\"response\"][0][\"color\"]\n        //             });\n        //             this.firstInput.focus();\n        //         } else {\n        //             window.location = \"/\";\n        //         }\n        //     });\n    }\n\n\n\n    onHomeworkRate = (e) => {\n        console.log(\"onHomeworkRate called\")\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n\n        // console.log(e.target);\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n\n        console.log(formData)\n\n        this.state.TaskService.rateHomeworkAdmin(formData).then(\n            res => {\n                console.log(res);\n                if (res[\"response\"][\"code\"] === \"100\") {\n                    // alert(\"Homework rated!\");\n                    window.location = \"/task/\" + this.props.currentGroupLink.task_link;\n                } else {\n                    alert(\"Error! Check console\");\n                }\n            }\n        );\n    }\n\n    render() {\n        const argsData = this.props.currentGroupLink; //it's actually an Object with Homework and Task data\n\n        console.log(argsData);\n\n        // const { TaskInfo } = this.state;\n\n        // if (TaskInfo !== null) {\n        return (\n            <div className=\"popup_form\">\n                <h4>Rate the work</h4>\n                <form onSubmit={this.onHomeworkRate}>\n                    <div className=\"form_elements\">\n                        <div className=\"form_input_section\">\n                            <textarea name=\"teacherComment\" placeholder=\"Comment...\" required></textarea>\n                            <span className=\"label\">Your comment</span>\n                        </div>\n\n                        <div className=\"form_input_section\">\n                            <input type=\"number\" min=\"1\" max={argsData.max_mark} name=\"teacherMark\" placeholder=\"Enter the mark\" required />\n                            <span className=\"label\">Mark (1/{argsData.max_mark})</span>\n                        </div>\n\n                        <input type=\"hidden\" name=\"homeworkLink\" value={argsData.homework_link} />\n\n                    </div>\n                    <div className=\"form_action\">\n                        <div className=\"cancel\" onClick={this.props.changePopUpState}>Cancel</div>\n                        <button className=\"main\" type=\"submit\">Send</button>\n                    </div>\n                </form>\n            </div>\n        );\n        // } else{\n        //     return(\n        //         <p>Task can't be loaded...</p>\n        //     )\n        // }\n    }\n}","import React, { Component } from \"react\";\n\nimport GroupService from '../../../services/group-service';\n\nexport default class NewFile extends Component {\n\n    state = {\n        GroupService: new GroupService(),\n    }\n\n    componentDidMount() {\n        // const argsData = this.props.currentGroupLink; //it's actually an Object with Homework and Task data\n\n        // console.log(argsData);\n\n        // let taskLink = this.props.currentGroupLink; //it's actually a Task Link\n        // console.log(taskLink); \n\n        // this.state.TaskService.getSingleTask(taskLink).then(\n        //     res => {\n        //         console.log(res);\n        //         if (res[\"code\"] === undefined) {\n        //             this.setState({\n        //                 TaskInfo: res[\"response\"][0],\n        //                 taskColor: res[\"response\"][0][\"color\"]\n        //             });\n        //             this.firstInput.focus();\n        //         } else {\n        //             window.location = \"/\";\n        //         }\n        //     });\n    }\n\n\n\n    onNewFile = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n\n        // console.log(e.target);\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n\n        console.log(formData)\n\n        this.state.GroupService.newFile(formData).then(\n            res => {\n                console.log(res);\n                if (res[\"response\"][\"code\"] === \"100\") {\n                    // alert(\"Homework rated!\");\n                    window.location = \"/class/\" + this.props.currentGroupLink;\n                } else {\n                    alert(res[\"response\"][\"message\"]);\n                }\n            }\n        );\n    }\n\n    render() {\n        const currentGroupLink = this.props.currentGroupLink;\n\n        // const { TaskInfo } = this.state;\n\n        // if (TaskInfo !== null) {\n        return (\n            <div className=\"popup_form\">\n                <h4>New Attachment</h4>\n                <form onSubmit={this.onNewFile}>\n                    <div className=\"form_elements\">\n                        <div className=\"form_input_section\">\n                            <input type=\"url\" name=\"fileLink\" placeholder=\"Enter a link\" required />\n                            <span className=\"label\">Link a file from Dropbox, Google Drive, or One Drive</span>\n                        </div>\n\n                        <div className=\"form_input_section\">\n                            <input type=\"text\" name=\"fileName\" placeholder=\"Name your attachment\" required />\n                            <span className=\"label\">Ex: Quantum chromodynamics</span>\n                        </div>\n\n                        <div className=\"form_input_section\">\n                            <textarea name=\"fileComment\" placeholder=\"Short comment...\" required></textarea>\n                            <span className=\"label\">Your short comment (file description)</span>\n                        </div>\n\n                        <input type=\"hidden\" name=\"link\" value={currentGroupLink} />\n\n                    </div>\n                    <div className=\"form_action\">\n                        <div className=\"cancel\" onClick={this.props.changePopUpState}>Cancel</div>\n                        <button className=\"main\" type=\"submit\">Attach</button>\n                    </div>\n                </form>\n            </div>\n        );\n        // } else{\n        //     return(\n        //         <p>Task can't be loaded...</p>\n        //     )\n        // }\n    }\n}","import React, { Component } from \"react\";\n\nimport TaskService from '../../../services/task-service';\n\nexport default class NewTaskFile extends Component {\n\n    state = {\n        TaskService: new TaskService(),\n    }\n\n    componentDidMount() {\n        // const argsData = this.props.currentGroupLink; //it's actually an Object with Homework and Task data\n\n        // console.log(argsData);\n\n        // let taskLink = this.props.currentGroupLink; //it's actually a Task Link\n        // console.log(taskLink); \n\n        // this.state.TaskService.getSingleTask(taskLink).then(\n        //     res => {\n        //         console.log(res);\n        //         if (res[\"code\"] === undefined) {\n        //             this.setState({\n        //                 TaskInfo: res[\"response\"][0],\n        //                 taskColor: res[\"response\"][0][\"color\"]\n        //             });\n        //             this.firstInput.focus();\n        //         } else {\n        //             window.location = \"/\";\n        //         }\n        //     });\n    }\n\n\n\n    onNewFile = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n\n        // console.log(e.target);\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n\n        console.log(formData)\n\n        const argsData = this.props.currentGroupLink; \n\n        this.state.TaskService.newFile(formData).then(\n            res => {\n                console.log(res);\n                if (res[\"response\"][\"code\"] === \"100\") {\n                    window.location = \"/task/\" + argsData.taskLink;\n                } else {\n                    alert(res[\"response\"][\"message\"]);\n                }\n            }\n        );\n    }\n\n    render() {\n        const argsData = this.props.currentGroupLink; //it's actually an Object with Homework and Task data\n\n        // const { TaskInfo } = this.state;\n\n        // if (TaskInfo !== null) {\n        return (\n            <div className=\"popup_form\">\n                <h4>New Attachment</h4>\n                <form onSubmit={this.onNewFile}>\n                    <div className=\"form_elements\">\n                        <div className=\"form_input_section\">\n                            <input type=\"url\" name=\"fileLink\" placeholder=\"Enter a link\" required />\n                            <span className=\"label\">Link a file from Dropbox, Google Drive, Google Docs or One Drive</span>\n                        </div>\n\n                        <div className=\"form_input_section\">\n                            <input type=\"text\" name=\"fileName\" placeholder=\"Name your attachment\" required />\n                            <span className=\"label\">Ex: Quantum chromodynamics</span>\n                        </div>\n\n                        <input type=\"hidden\" name=\"link\" value={argsData.currentGroupLink} />\n                        <input type=\"hidden\" name=\"taskLink\" value={argsData.taskLink} />\n\n                    </div>\n                    <div className=\"form_action\">\n                        <div className=\"cancel\" onClick={this.props.changePopUpState}>Cancel</div>\n                        <button className=\"main\" type=\"submit\">Attach</button>\n                    </div>\n                </form>\n            </div>\n        );\n        // } else{\n        //     return(\n        //         <p>Task can't be loaded...</p>\n        //     )\n        // }\n    }\n}","import LeaveGroup from './leave-group';\n\nexport default LeaveGroup;","import React, { Component } from \"react\";\nimport GroupService from '../../../services/group-service';\n\nexport default class LeaveGroup extends Component {\n\n    state = {\n        GroupService: new GroupService(),\n    }\n\n    leaveGroupAction = () => {\n        this.state.GroupService.leaveGroup(this.props.currentGroupLink.GroupLink).then(\n            res => {\n                console.log(res);\n                window.location = \"/\";\n                // if (res[\"response\"][\"code\"] === \"100\") {\n                //     window.location = \"/\";\n                // } else {\n                //     alert(res[\"response\"][\"message\"]);\n                // }\n            }\n        );\n    }\n\n    render() {\n        return (\n            <div className=\"confirm\">\n                <div className=\"info\">Are you sure you want to leave the group?</div>\n                <div className=\"confirm-action\">\n                    <div className=\"yes\" onClick={this.leaveGroupAction}>Yes</div>\n                    <div className=\"no\" onClick={this.props.changePopUpState}>No</div>\n                </div>\n            </div>\n        );\n    }\n}\n","import NewLesson from './new-lesson';\n\nexport default NewLesson;","import React, { Component } from \"react\";\n\nimport GroupService from '../../../services/group-service';\n\nexport default class NewLesson extends Component {\n\n    state = {\n        GroupService: new GroupService(),\n        checkboxIsChecked: false\n    }\n\n    componentDidMount() {\n        this.firstInput.focus();\n    }\n\n    handleCheckboxChange = (e) => {\n        let checked = e.target.checked;\n        console.log(checked)\n        this.setState({\n            checkboxIsChecked: checked\n        })\n      }\n\n    onEventCreate = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n\n        // console.log(e.target);\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n\n        console.log(formData)\n\n        this.state.GroupService.newLesson(formData).then(\n            res => {\n                console.log(res);\n                if (res[\"response\"][\"code\"] === \"100\") {\n                    // alert(\"Task created!\")\n                    window.location = \"/admin/manage-lessons/\" + res[\"response\"][\"link\"];\n                } else {\n                    alert(res[\"response\"][\"message\"]);\n                }\n            }\n        );\n    }\n\n    render() {\n        let today = new Date();\n        today = today.toISOString().substring(0, 10);\n\n        return (\n            <div className=\"popup_form\">\n                <h4>Add a Lesson (Event)</h4>\n                <form onSubmit={this.onEventCreate}>\n                    <div className=\"form_elements\">\n                        <div className=\"form_input_section\">\n                            <input type=\"text\" ref={(input) => { this.firstInput = input; }} name=\"title\" placeholder=\"Event name (ex: Math Class)\" required />\n                            <span className=\"label\">Lesson name</span>\n                        </div>\n                        <div className=\"form_input_section\">\n                            <input type=\"text\" name=\"description\" placeholder=\"(Event description)\" required />\n                            <span className=\"label\">Description</span>\n                        </div>\n                        <div className=\"form_input_section\">\n                            <input type=\"date\" min={today} name=\"eventDate\" placeholder=\"Select the event date\" required />\n                            <span className=\"label\">Date</span>\n                        </div>\n                        <div className=\"checkbox-line\">\n                        <input type=\"checkbox\" onChange={ this.handleCheckboxChange } value=\"true\" /> <span className=\"checkbox-info\">Repeat every week</span>\n                        </div>\n                        <br/>\n                        {/* <div className=\"form_input_section\">\n                            <select name=\"daysOfWeek\">\n                                <option value=\"0\">Sunday</option>\n                                <option value=\"1\">Monday</option>\n                                <option value=\"2\">Tuesday</option>\n                                <option value=\"3\">Wednesday</option>\n                                <option value=\"4\">Thursday</option>\n                                <option value=\"5\">Friday</option>\n                                <option value=\"6\">Saturday</option>\n                            </select>\n                            <span className=\"label\">Week Day</span>\n                        </div> */}\n                        <div className=\"form_input_section\">\n                            <input type=\"time\" placeholder=\"Select the event time\" name=\"startTime\" min=\"00:00\" max=\"24:00\" required />\n                            <span className=\"label\">Time</span>\n                        </div>\n                        <div className=\"form_input_section\">\n                            <input type=\"text\" name=\"lessonUrl\" placeholder=\"(Google Meet, Zoom...)\" />\n                            <span className=\"label\">Lesson URL (Link)</span>\n                        </div>\n                        <input type=\"hidden\" name=\"link\" value={this.props.currentGroupLink} />\n                        <input type=\"hidden\" name=\"recurring\" value={this.state.checkboxIsChecked} />\n                        {/* <br/><br/><br/><br/> */}\n                        <div className=\"bottom-gradient\"></div>\n                    </div>\n                    <div className=\"form_action\">\n                        <div className=\"cancel\" onClick={this.props.changePopUpState}>Cancel</div>\n                        <button className=\"main\" type=\"submit\">Create</button>\n                    </div>\n                </form>\n            </div>\n        );\n    }\n}","import React, { Component } from \"react\";\nimport GroupService from '../../../services/group-service';\n\nexport default class DeleteLesson extends Component {\n\n    state = {\n        GroupService: new GroupService(),\n    }\n\n    deleteLessonAction = (lessonId) => {\n        this.state.GroupService.deleteLesson(this.props.currentGroupLink.link, lessonId).then(\n            res => {\n                console.log(res);\n                window.location.reload();\n            }\n        );\n    }\n\n    render() {\n        const eventId = this.props.currentGroupLink.eventId;\n\n        return (\n            <div className=\"confirm\">\n                <div className=\"info\">Are you sure you want to delete this lesson?</div>\n                <div className=\"confirm-action\">\n                    <div className=\"yes\" onClick={() => this.deleteLessonAction(eventId)}>Yes</div>\n                    <div className=\"no\" onClick={this.props.changePopUpState}>No</div>\n                </div>\n            </div>\n        );\n    }\n}\n","import GroupPicture from './group-picture';\n\nexport default GroupPicture;","import React, { Component } from \"react\";\n\nimport GroupService from '../../../services/group-service';\n\nexport default class GroupPicture extends Component {\n\n    state = {\n        GroupService: new GroupService(),\n    }\n\n    onPictureUpload = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n\n        console.log(this.props.currentGroupLink);\n        this.state.GroupService.uploadFile(localStorage.getItem(\"token\"), this.props.currentGroupLink, document.getElementById('group-picture-form')).then(\n            res => {\n                console.log(res);\n                window.location.reload();\n            }\n        );\n    }\n\n    render() {\n\n        return (\n            <form id=\"group-picture-form\" method=\"POST\" enctype=\"multipart/form-data\" onSubmit={this.onPictureUpload}>\n                <div className=\"form_content upload\">\n                    <div className=\"form_elements upload\">\n                        <img src=\"/assets/illustration/selfie.svg\" className=\"popup-illustration\" alt=\"selfie\" />\n                        <input type=\"file\" id=\"profile-picture\" accept=\"image/*\" name=\"grouppic\" />\n                        {/* <input type=\"file\" id=\"profile-picture\" accept=\".heic\" name=\"grouppic\" /> */}\n                        <input type=\"hidden\" name=\"link\" value={this.props.currentGroupLink} />\n                    </div>\n                    <button className=\"main\" type=\"submit\"> Upload </button>\n                    <div className=\"form_action upload\">\n                        <div className=\"cancel mobile-only\" onClick={this.props.changePopUpState}>Cancel</div>\n                    </div>\n                </div>\n            </form>\n        );\n    }\n}","import React, { Component } from \"react\";\nimport GroupService from '../../../services/group-service';\n\nexport default class DeleteMember extends Component {\n\n    state = {\n        GroupService: new GroupService(),\n    }\n\n    deleteMemberAction = () => {\n        this.state.GroupService.deleteGroupMember(this.props.currentGroupLink.GroupLink, this.props.currentGroupLink.UserId).then(\n            res => {\n                console.log(res);\n                window.location.reload();\n                // window.location = \"/\";\n            }\n        );\n    }\n\n    render() {\n        return (\n            <div className=\"confirm\">\n                <div className=\"info\">Are you sure you want to remove this group member?</div>\n                <div className=\"confirm-action\">\n                    <div className=\"yes\" onClick={this.deleteMemberAction}>Yes</div>\n                    <div className=\"no\" onClick={this.props.changePopUpState}>No</div>\n                </div>\n            </div>\n        );\n    }\n}\n","import React, { Component } from \"react\";\n\nimport GroupService from '../../../services/group-service';\n\nexport default class MemberInfo extends Component {\n\n    state = {\n        GroupService: new GroupService(),\n        MemberInfo: null,\n    }\n\n    componentDidMount() {\n\n        let memberId = this.props.currentGroupLink.UserId;\n        let groupLink = this.props.currentGroupLink.GroupLink;\n\n        this.state.GroupService.getMemberInfo(groupLink, memberId).then(\n            res => {\n                console.log(res);\n                if (res[\"code\"] === undefined) {\n                    this.setState({\n                        MemberInfo: res[\"response\"],\n                    });\n                } else {\n                    window.location = \"/\";\n                }\n            });\n    }\n\n\n    showRoleMenu = (num) => {\n        document.getElementById(\"roleMenuInfo\" + num).style.display = \"block\";\n\n        function checkForClick(event) {\n            let isClickInside = document.getElementById(\"roleMenuInfo\" + num).contains(event.target);\n\n            if (!isClickInside) {\n                document.getElementById(\"roleMenuInfo\" + num).style.display = \"none\";\n                document.removeEventListener(\"click\", checkForClick, false);\n            }\n        }\n\n        document.addEventListener('click', checkForClick);\n    }\n\n\n    setTeacher = (userId) => {\n        this.state.GroupService.setTeacher(this.props.currentGroupLink.GroupLink, userId).then(\n            res => {\n                if(res[\"response\"][\"code\"] !== \"100\"){\n                    alert(\"To many teachers for this group...\");\n                } else{\n                    window.location.reload(); \n                }\n            });\n    }\n\n    setTeacherToStudent = (userId) => {\n        this.state.GroupService.setTeacherToStudent(this.props.currentGroupLink.GroupLink, userId).then(\n            res => {\n                console.log(res);\n                window.location.reload();\n            });\n    }\n\n    render() {\n\n        const { MemberInfo } = this.state;\n        const { handlePopUpContent } = this.props;\n\n\n        if (MemberInfo !== null) {\n            return (\n                <div className=\"popup_form\">\n                    <h4>Information</h4>\n                    <form>\n                        <div className=\"form_elements\">\n                            <div className=\"info_block\">\n                                <span className=\"label\">Full Name</span>\n                                <span className=\"info\">{MemberInfo.userData.name}</span>\n                            </div>\n                            <div className=\"info_block\">\n                                <span className=\"label\">Role</span>\n                                {/* <span className=\"info\">{MemberInfo.userRole}</span> */}\n\n                                <span className=\"info\"> {MemberInfo.userRole} {MemberInfo.userRole !== \"admin\" ? <img onClick={() => this.showRoleMenu(MemberInfo.id)} className=\"down-icon\" src=\"/assets/svg/down.svg\" alt=\"Select\" /> : null} </span>\n\n                                <div className=\"role-menu\" id={\"roleMenuInfo\" + MemberInfo.id}>\n                                    {MemberInfo.userRole === \"teacher\" ? <React.Fragment><div className=\"line blue\"><img src=\"/assets/svg/check.svg\" alt=\"Check\" /> Teacher</div><div className=\"line\" onClick={() => this.setTeacherToStudent(MemberInfo.id)}>Student</div></React.Fragment> : <React.Fragment><div className=\"line blue\"><img src=\"/assets/svg/check.svg\" alt=\"Check\" /> Student</div><div className=\"line\" onClick={() => this.setTeacher(MemberInfo.id)}>Teacher</div></React.Fragment>}\n                                </div>\n\n                            </div>\n                            <div className=\"info_block\">\n                                <span className=\"label\">Mark</span>\n                                <span className=\"info\">{MemberInfo.totalUserMark}</span>\n                            </div>\n                            {MemberInfo.userRole !== \"admin\" ? <div className=\"delete-action\" onClick={() => handlePopUpContent(\"deleteMember\", { smallPopUp: true, GroupLink: this.props.currentGroupLink.GroupLink, UserId: MemberInfo.id })}>Remove member</div> : null }\n                        </div>\n                        {/* <div className=\"bottom-gradient\"></div> */}\n                        <div className=\"form_action\">\n                            <div className=\"cancel\" onClick={this.props.changePopUpState}>Cancel</div>\n                        </div>\n                    </form>\n                </div>\n            );\n        } else {\n            return (\n                <p>Member can't be loaded...</p>\n            )\n        }\n    }\n}","import React, { Component } from \"react\";\nimport TaskService from '../../../services/task-service';\n\nexport default class DeleteTask extends Component {\n\n    state = {\n        TaskService: new TaskService(),\n    }\n\n    deleteTaskAction = () => {\n        const groupLink = this.props.currentGroupLink.link;\n        const taskLink = this.props.currentGroupLink.taskLink;\n\n        this.state.TaskService.deleteTaskAction(groupLink, taskLink).then(\n            res => {\n                console.log(res);\n                window.location.reload();\n            }\n        );\n    }\n\n    render() {\n        return (\n            <div className=\"confirm\">\n                <div className=\"info\">Are you sure you want to delete this task?</div>\n                <div className=\"confirm-action\">\n                    <div className=\"yes\" onClick={() => this.deleteTaskAction()}>Yes</div>\n                    <div className=\"no\" onClick={this.props.changePopUpState}>No</div>\n                </div>\n            </div>\n        );\n    }\n}\n","import React, { Component } from 'react';\nimport './popup.css';\n\nimport AddJoin from '../popup-content/add-join';\nimport AddGroupPopupContent from '../popup-content/add-join-next/add-group-popup-content';\nimport JoinGroupPopupContent from '../popup-content/add-join-next/join-group-popup-content';\nimport UserPicture from '../popup-content/user-picture';\nimport NewTask from '../popup-content/new-task/new-task';\nimport Error from '../popup-content/error';\n\nimport PopUpContext from '../context/popup-context';\nimport EditTask from '../popup-content/edit-task/edit-task';\nimport RateHomework from '../popup-content/homework/rate-homework';\nimport NewFile from '../popup-content/new-file/new-file';\nimport NewTaskFile from '../popup-content/new-file/new-task-file';\nimport LeaveGroup from '../popup-content/leave-group';\nimport NewLesson from '../popup-content/new-lesson';\nimport DeleteLesson from '../popup-content/delete-lesson/delete-lesson';\nimport GroupPicture from '../popup-content/group-picture';\nimport DeleteMember from '../popup-content/delete-member/delete-member';\nimport MemberInfo from '../popup-content/member-info/member-info';\nimport DeleteTask from '../popup-content/delete-task/delete-task';\n\n\nclass PopUp extends Component {\n    \n\n    render() {\n\n        const contentJson = {\n            addJoin: <AddJoin handlePopUpContent={this.context.handlePopUpContent} changePopUpState={this.context.changePopUpState}/>,\n            addGroupPopupContent: <AddGroupPopupContent changePopUpState={this.context.changePopUpState} />,\n            joinGroupPopupContent: <JoinGroupPopupContent changePopUpState={this.context.changePopUpState} updateErrorMessage={this.context.updateErrorMessage} handlePopUpContent={this.context.handlePopUpContent}/>,\n            userPicture: <UserPicture changePopUpState={this.context.changePopUpState} />,\n            newTask: <NewTask currentGroupLink={this.context.currentGroupLink} changePopUpState={this.context.changePopUpState} />,\n            editTask: <EditTask currentGroupLink={this.context.currentGroupLink} changePopUpState={this.context.changePopUpState} />,\n            deleteTask: <DeleteTask currentGroupLink={this.context.currentGroupLink} changePopUpState={this.context.changePopUpState} />,\n            rateHomework: <RateHomework currentGroupLink={this.context.currentGroupLink} changePopUpState={this.context.changePopUpState} />,\n            newFile: <NewFile currentGroupLink={this.context.currentGroupLink} changePopUpState={this.context.changePopUpState} />,\n            leaveGroup: <LeaveGroup currentGroupLink={this.context.currentGroupLink} changePopUpState={this.context.changePopUpState} />,\n            newTaskFile: <NewTaskFile currentGroupLink={this.context.currentGroupLink} changePopUpState={this.context.changePopUpState} />,\n            newLesson: <NewLesson currentGroupLink={this.context.currentGroupLink} changePopUpState={this.context.changePopUpState} />,\n            deleteLesson: <DeleteLesson currentGroupLink={this.context.currentGroupLink} changePopUpState={this.context.changePopUpState} />,\n            groupPicture: <GroupPicture currentGroupLink={this.context.currentGroupLink} changePopUpState={this.context.changePopUpState} />,\n            deleteMember: <DeleteMember currentGroupLink={this.context.currentGroupLink} changePopUpState={this.context.changePopUpState} />,\n            memberInfo: <MemberInfo handlePopUpContent={this.context.handlePopUpContent} currentGroupLink={this.context.currentGroupLink} changePopUpState={this.context.changePopUpState} />,\n            error: <Error errorMessage={this.context.errorMessage} changePopUpState={this.context.changePopUpState} />\n        };\n\n        // const popupSize = {\n        //     width: small ? '27%' : '45%'\n        // };\n\n        return (\n            <PopUpContext.Consumer>\n                {\n                    (contextProps) => {\n                        const { changePopUpState, popUpContent } = contextProps;\n                        let smallPopUp;\n                        if(this.context.currentGroupLink !== null){\n                            smallPopUp = this.context.currentGroupLink.smallPopUp;\n                        } else{\n                            smallPopUp = false;\n                        }\n\n                        return (\n                            <div className={ smallPopUp ? \"popup small\" : \"popup\"}>\n                                <img className=\"close\" onClick={changePopUpState} src=\"/assets/svg/close.svg\" alt=\"Close\"></img>\n                                {popUpContent ? contentJson[popUpContent] : null}\n                                {/* {\n                                React.Children.map(this.props.children, (child, idx) => {\n                                    return child;\n                                })\n                                } */}\n                            </div>\n                        );\n                    }\n                }\n            </PopUpContext.Consumer>\n        );\n    }\n}\n\nPopUp.contextType = PopUpContext;\n\nexport default PopUp;","import PopUp from './popup';\n\nexport default PopUp;","import React, { Component } from 'react';\n\nimport Header from '../../../header';\nimport LeftMenu from '../../../left-menu';\nimport PopUp from '../../../popup';\n\nimport NewPopUp from '../../../popup/new-popup';\n\nimport PopUpContext from '../../../context/popup-context';\n\n//UserPage\nexport default class DefaultLayout extends Component {\n\n\n    state = {\n        menuOpened: false,\n    }\n\n    handleTouchMove(e) {\n        e.preventDefault();\n    }\n\n    handleThePageClick(e) {\n        this.onlyHideMenu();\n    }\n\n    handleThePageClick = this.handleThePageClick.bind(this);\n\n    openHideMenu = () => {\n        console.log(this.state.menuOpened);\n        if (this.state.menuOpened) {\n            console.log(\"unset\")\n            document.getElementById(\"page\").removeEventListener('touchmove', this.handleTouchMove);\n            document.getElementById(\"page\").removeEventListener('click', this.handleThePageClick);\n        } else {\n            console.log(\"hidden\")\n            document.getElementById(\"page\").addEventListener('touchmove', this.handleTouchMove, false);\n            document.getElementById(\"page\").addEventListener('click', this.handleThePageClick, false);\n        }\n        this.setState({\n            menuOpened: !this.state.menuOpened\n        });\n        // document.body.style.overflow = 'unset';\n    }\n\n    onlyHideMenu = () => {\n        this.setState({\n            menuOpened: false\n        });\n        document.getElementById(\"page\").removeEventListener('touchmove', this.handleTouchMove);\n        document.getElementById(\"page\").removeEventListener('click', this.handleThePageClick);\n    }\n\n\n    render() {\n\n        return (\n            <div className=\"app\">\n                <div className=\"layout\">\n                    <React.Fragment>\n                        <LeftMenu menuOpened={this.state.menuOpened} openHideMenu={this.openHideMenu} onlyHideMenu={this.onlyHideMenu} handlePopUpContent={this.context.handlePopUpContent} serverUrl={this.context.serverUrl} />\n                        <div className=\"page\" id=\"page\">\n                            <Header menuOpened={this.state.menuOpened} openHideMenu={this.openHideMenu} serverUrl={this.context.serverUrl} currentGroupLink={this.context.currentGroupLink} />\n                            <div className=\"page_content\">\n                                {\n                                    React.Children.map(this.props.children, (child, idx) => {\n                                        return child;\n                                    })\n                                }\n                            </div>\n                        </div>\n                        {this.context.showingPopUp ? <div onClick={this.context.changePopUpState} className=\"popup-overlay\" id=\"popupOverlay\"></div> : null}\n                        {this.context.showingPopUp ? <PopUp /> : null}\n                        {/* <NewPopUp /> */}\n                    </React.Fragment>\n                </div>\n            </div>\n        );\n    }\n}\n\n\nDefaultLayout.contextType = PopUpContext;","import React, { Component } from 'react';\nimport './new-popup.css';\n\nimport AddJoin from '../popup-content/add-join';\nimport AddGroupPopupContent from '../popup-content/add-join-next/add-group-popup-content';\nimport JoinGroupPopupContent from '../popup-content/add-join-next/join-group-popup-content';\nimport UserPicture from '../popup-content/user-picture';\nimport NewTask from '../popup-content/new-task/new-task';\nimport Error from '../popup-content/error';\nimport EditTask from '../popup-content/edit-task/edit-task';\nimport RateHomework from '../popup-content/homework/rate-homework';\nimport NewFile from '../popup-content/new-file/new-file';\n\n\nclass NewPopUp extends Component {\n\n    state = {\n        showingPopUp: false,\n        popUpContent: null,\n        errorMessage: null,\n        currentGroupLink: null\n      };\n\n\n    changePopUpState = () => {\n        this.setState({\n          showingPopUp: !this.state.showingPopUp\n        });\n      }\n\n      updateErrorMessage = (msg) => {\n        this.setState({\n          errorMessage: msg\n        });\n      }\n    \n      handlePopUpContent = (name, currentGroupLink) => {\n        console.log(\"handlePopUpContent: \" + name);\n    \n        if (currentGroupLink === undefined) {\n          currentGroupLink = null;\n        }\n        console.log(\"currentGroupLink: \" + currentGroupLink);\n    \n        const { showingPopUp, popUpContent } = this.state;\n        if (popUpContent === name) {\n          if (!showingPopUp) {\n            this.setState({ showingPopUp: true, popUpContent: name, currentGroupLink: currentGroupLink });\n          } else {\n            this.setState({ showingPopUp: false, popUpContent: null, currentGroupLink: null });\n          }\n        } else {\n          this.setState({ showingPopUp: true, popUpContent: name, currentGroupLink: currentGroupLink });\n        }\n      };\n\n\n    render() {\n\n        const { changePopUpState, updateErrorMessage, handlePopUpContent } = this;\n        const { currentGroupLink, popUpContent } = this.state;\n\n        const contentJson = {\n            addJoin: <AddJoin handlePopUpContent={handlePopUpContent} />,\n            addGroupPopupContent: <AddGroupPopupContent changePopUpState={changePopUpState} />,\n            joinGroupPopupContent: <JoinGroupPopupContent changePopUpState={changePopUpState} updateErrorMessage={updateErrorMessage} handlePopUpContent={handlePopUpContent} />,\n            userPicture: <UserPicture />,\n            newTask: <NewTask currentGroupLink={currentGroupLink} changePopUpState={changePopUpState} />,\n            editTask: <EditTask currentGroupLink={currentGroupLink} changePopUpState={changePopUpState} />,\n            rateHomework: <RateHomework currentGroupLink={currentGroupLink} changePopUpState={changePopUpState} />,\n            newFile: <NewFile currentGroupLink={currentGroupLink} changePopUpState={changePopUpState} />,\n            error: <Error errorMessage={this.context.errorMessage} changePopUpState={changePopUpState} />\n        };\n\n        // const popupSize = {\n        //     width: small ? '27%' : '45%'\n        // };\n\n        return (\n            <div className=\"new-popup\">\n                <img className=\"close\" onClick={changePopUpState} src=\"/assets/svg/close.svg\" alt=\"Close\"></img>\n                {popUpContent ? contentJson[popUpContent] : null}\n                {/* {\n                                React.Children.map(this.props.children, (child, idx) => {\n                                    return child;\n                                })\n                                } */}\n            </div>\n        );\n    }\n}\n\nexport default NewPopUp;","import DefaultLayout from './layout.js';\n\nexport default DefaultLayout;","import React, { Component } from \"react\";\nimport PopUpContext from '../../context/popup-context';\n\nexport default class HomePage extends Component {\n    render() {\n        const { handlePopUpContent } = this.context;\n\n        let userData = localStorage.getItem(\"user\");\n        userData = JSON.parse(userData);\n        // console.log(userData);\n        const userName = userData[\"response\"][0][\"name\"].replace(/ .*/, '');\n        return (\n            <div className=\"home\">\n                <div className=\"illustration-area\">\n                    <div onClick={() => handlePopUpContent(\"addJoin\")} className=\"magic-plus pc\"></div>\n                    <div onClick={() => handlePopUpContent(\"addJoin\", { smallPopUp: true })} className=\"magic-plus mobile\"></div>\n                    <img className=\"illustration\" src=\"/assets/illustration/new.svg\" alt=\"Quick Start\" />\n                </div>\n                <p>Hi, {userName}! Join or create a class <br />\n                        by clicking on the \"+\"\n                    </p>\n            </div>\n        );\n    }\n}\n\nHomePage.contextType = PopUpContext;","import HomePage from './home-page';\n\nexport default HomePage;","import React, { Component } from 'react';\nimport './user-page.css';\n\nimport UserService from '../../../services/user-service';\n\nimport PopUpContext from '../../context/popup-context';\n\nimport Intercom from 'react-intercom';\n\n\nexport default class UserPage extends Component {\n\n    state = {\n        UserService: new UserService(),\n        currentUserUsage: null,\n        currentUserPlan: null\n    }\n\n    componentDidMount() {\n        this.state.UserService.getUserLimit(localStorage.getItem(\"token\")).then(\n            userLimit => {\n                console.log(userLimit)\n                this.setState({\n                    currentUserUsage: userLimit[\"response\"][\"totalFollowers\"],\n                    currentUserPlan: userLimit[\"response\"][\"userPlan\"],\n                });\n            });\n\n        //     let userData = localStorage.getItem(\"user\");\n        //     userData = JSON.parse(userData);\n        //     const userName = userData[\"response\"][0][\"name\"];\n        //     const userEmail = userData[\"response\"][0][\"email\"];\n\n        //     this.s = document.createElement('script');\n        //     this.s.type = 'text/javascript';\n        //     this.s.async = true;\n        //     this.s.innerHTML = `\n        //     window.intercomSettings = {\n        //       app_id: \"h6o7ooze\",\n        //       name: '${userName}', // Full name\n        //       email: '${userEmail}', // Email address\n        //       avatar: {\n        //         \"type\": \"avatar\", \n        //         \"image_url\": \"${this.context.serverUrl + userData[\"response\"][0][\"picture\"]}\"\n        //       },\n        //     };\n\n        //   // We pre-filled your app ID in the widget URL: 'https://widget.intercom.io/widget/h6o7ooze'\n        //   (function(){var w=window;var ic=w.Intercom;if(typeof ic===\"function\"){ic('reattach_activator');ic('update',w.intercomSettings);}else{var d=document;var i=function(){i.c(arguments);};i.q=[];i.c=function(args){i.q.push(args);};w.Intercom=i;var l=function(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/h6o7ooze';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);};if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})();         \n        //     `;\n        //     document.body.appendChild(this.s);\n    }\n\n    componentWillUnmount(){\n        // console.log(\" componentWillUnmount()\")\n        // document.body.removeChild(this.s);\n    }\n\n    onProfileEdit = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n\n        // console.log(e.target);\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n\n        this.state.UserService.editUserProfile(formData).then(\n            res => {\n                console.log(res);\n                this.state.UserService.getUserData(localStorage.getItem(\"token\")).then(\n                    userData => {\n                        console.log(userData)\n                        localStorage.setItem('user', JSON.stringify(userData));\n                        window.location.reload();\n                    });\n            }\n        );\n    }\n\n    onPasswordChange = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n\n        // console.log(e.target);\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n\n        this.state.UserService.changeUserPassword(formData).then(\n            res => {\n                console.log(res);\n                if (res[\"response\"] !== undefined) {\n                    alert(\"Password has been updated successfully, please login.\");\n                    localStorage.clear();\n                    window.location.reload();\n                } else {\n                    // alert(\"Error! \" + res[\"message\"]);\n                    const PopUpContext = this.context;\n                    // console.log(PopUpContext);\n                    PopUpContext.updateErrorMessage(res[\"message\"]);\n                    PopUpContext.handlePopUpContent(\"error\");\n                }\n            }\n        );\n    }\n\n    render() {\n\n        const { serverUrl, logOut, handlePopUpContent } = this.context;\n\n        const { currentUserPlan } = this.state;\n\n        let userData = localStorage.getItem(\"user\");\n        userData = JSON.parse(userData);\n        const userIcon = serverUrl + userData[\"response\"][0][\"picture\"];\n        const userName = userData[\"response\"][0][\"name\"];\n        const userEmail = userData[\"response\"][0][\"email\"];\n\n        const user = {\n            email: userData[\"response\"][0][\"email\"],\n            name: userData[\"response\"][0][\"name\"],\n            avatar: {\n                        type: \"avatar\", \n                        image_url: this.context.serverUrl + userData[\"response\"][0][\"picture\"],\n            },\n          };\n\n        return (\n            <React.Fragment>\n                <div className=\"goback_button\" onClick={() => window.history.back()}>\n                    <img className=\"back_icon\" src=\"/assets/svg/back.svg\" alt=\"Back\" />\n                        Go back\n                    </div>\n                <div className=\"userpage\">\n                    <div className=\"left-side\">\n                        <div className=\"page_heading space\">Settings </div>\n                        <div className=\"profile-settings\">\n                            <h3>Profile</h3>\n                            <div className=\"profile_picture\">\n                                <span>Porfile picture</span>\n                                <div className=\"profile_picture_line\">\n                                    <img src={userIcon} alt=\"User\"></img>\n                                    <span className=\"upload\" onClick={() => handlePopUpContent(\"userPicture\")}>Upload profile picture</span>\n                                </div>\n                            </div>\n                            <form onSubmit={this.onProfileEdit}>\n                                <div className=\"profile_settings_input_block\">\n                                    <span>Full name</span>\n                                    <input type=\"text\" name=\"name\" defaultValue={userName} />\n                                </div>\n                                <div className=\"profile_settings_input_block\">\n                                    <span>Email</span>\n                                    <input type=\"email\" name=\"email\" defaultValue={userEmail} />\n                                </div>\n                                <button className=\"main\" type=\"submit\">Save</button>\n                            </form>\n                            <br /> <br />\n                            <h3>Security</h3>\n                            <form onSubmit={this.onPasswordChange}>\n                                <div className=\"profile_settings_input_block\">\n                                    <span>Old Password</span>\n                                    <input type=\"password\" name=\"password\" placeholder=\"*************\" />\n                                    {/* <img className=\"profile_edit\" src=\"/assets/svg/edit.svg\" alt=\"Edit\"></img> */}\n                                </div>\n                                <div className=\"profile_settings_input_block\">\n                                    <span>New Password</span>\n                                    <input type=\"password\" name=\"newPassword\" placeholder=\"*************\" />\n                                </div>\n                                <button className=\"main\" type=\"submit\">Update</button>\n                            </form>\n                        </div>\n                        <br /> <br /> <br /> <br />\n                        <div className=\"logout pc\" onClick={logOut}>Log Out</div>\n                    </div>\n                    <div className=\"right-side\">\n                        <h3>Your plan</h3>\n                        <div className=\"plan\">\n                            <div className=\"plan-header\">\n                                <div className=\"top-line\">\n                                    <h4>Personal <br />Plan</h4>\n                                    <span>Forever</span>\n                                </div>\n                                <p>Your total limit of members in groups: {this.state.currentUserUsage}/{currentUserPlan === \"free\" ? 10 : null}{currentUserPlan === \"business\" ? 250 : null}{currentUserPlan === \"enterprise\" ? 10000 : null}  <a href=\"https://intercom.help/jetdesk/en/articles/4627554-what-is-the-total-limit-of-groups-members\" target=\"_blank\"><img src=\"/assets/svg/info.svg\" alt=\"info\" /></a></p>\n                            </div>\n                            <div className=\"plan-info\">\n                                <p>For everyone who wants to learn and teach productivly!</p>\n                                <ul>\n                                    <li><img src=\"/assets/svg/blue-check.svg\" alt=\"check\" /><a href=\"https://intercom.help/jetdesk/en/articles/4657414-what-is-unlimited\" target=\"_blank\">Unlimited</a> tasks</li>\n                                    <li><img src=\"/assets/svg/blue-check.svg\" alt=\"check\" /><a href=\"https://intercom.help/jetdesk/en/articles/4657414-what-is-unlimited\" target=\"_blank\">Unlimited</a> lessons</li>\n                                    <li><img src=\"/assets/svg/blue-check.svg\" alt=\"check\" />Unlimited attachments</li>\n                                    <li><img src=\"/assets/svg/blue-check.svg\" alt=\"check\" />Visible/Invisible rating</li>\n                                    <li><img src=\"/assets/svg/blue-check.svg\" alt=\"check\" />Group chat</li>\n                                </ul>\n                            </div>\n                        </div>\n                        <br /> <br /> <br /> <br />\n                        <div className=\"logout mobile\" onClick={logOut}>Log Out</div>\n                    </div>\n                </div>\n\n            <Intercom appID=\"h6o7ooze\" { ...user } />\n            </React.Fragment>\n        );\n    }\n}\n\nUserPage.contextType = PopUpContext;","import UserPage from './user-page';\n\nexport default UserPage;","import React, { Component } from 'react';\n\n\nexport default class ClockBlock extends Component {\n\n    state = {\n        Clock: null\n    }\n\n    updateClock = () => {\n        let date = new Date();\n        let hours = date.getHours();\n        let minutes = (date.getMinutes() < 10 ? '0' : '') + date.getMinutes();\n        // let seconds = date.getSeconds();\n        let time = hours + \":\" + minutes;\n        this.setState({\n            Clock: time\n        })\n    }\n\n    componentDidMount() {\n        this.updateClock();\n        this.intervalClock = setInterval(\n            () => this.updateClock(),\n            1000\n        );\n    }\n\n\n    componentWillUnmount() {\n        clearInterval(this.intervalClock);\n    }\n\n\n    render() {\n\n        const { Clock } = this.state;\n\n        return (\n            <div className=\"clock\">\n             {Clock}\n            </div>\n        )\n    }\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport TaskService from '../../../../services/task-service';\n\nimport PopUpContext from '../../../context/popup-context';\n\n// import { useParams } from \"react-router-dom\";\n\n\nexport default class TasksBlock extends Component {\n\n    state = {\n        TaskService: new TaskService(),\n        TasksList: null,\n        GroupLink: null\n    }\n\n    componentDidMount() {\n        this.componentDidUpdate();\n    }\n\n    componentDidUpdate() {\n        const link = this.props.link;\n        if (link !== this.state.GroupLink) {\n            this.setState({\n                GroupLink: link\n            });\n            this.state.TaskService.getTasks(this.props.link).then(\n                res => {\n                    console.log(res[\"response\"]);\n                    // if (res[\"response\"] !== false) {\n                    this.setState({\n                        TasksList: res[\"response\"]\n                    });\n                    // }\n                });\n        }\n    }\n\n\n    render() {\n\n        const { TasksList } = this.state;\n        const { reformatDate } = this.context;\n\n        if (TasksList !== null) {\n            const AllTasks = () => TasksList.map((task) =>\n                <div className=\"task_slide\" key={task.task_link}>\n                    <div className=\"task_heading\">\n                        <div className={\"task_circle small_circle \" + task.color}></div>\n                        {(task.name.length < 25 ? task.name : task.name.substr(0, 25) + \"...\")}\n                    </div>\n                    <div className=\"task_deadline\">Untill {reformatDate(task.deadline.substr(0, 10))}</div>\n                    <div className=\"task_short_description\">\n                        {(task.comment.length < 90 ? task.comment : task.comment.substr(0, 90) + \"...\")}\n                    </div>\n                    <Link to={\"/task/\" + task.task_link}><button className=\"main task_more\">Open the task</button></Link>\n                    <Link to={\"/task/\" + task.task_link}><button className=\"main task_more mobile\">More</button></Link>\n                </div>\n            );\n\n            if (TasksList !== false) {\n                return (\n                    <div className=\"tasks_slider\">\n                        <AllTasks />\n                    </div>\n                );\n            } else {\n                return (\n                    <div className=\"widget_info\">\n                        <div className=\"info-message\">\n                            <img className=\"info-illustration\" src=\"/assets/illustration/desk-gray.svg\" alt=\"Desk\" />\n                            <span>The teacher hasn't posted any tasks yet. You can rest! </span>\n                        </div>\n                    </div>\n                );\n            }\n        } else {\n            return (\n                <p>Loading...</p>\n            );\n        }\n    }\n}\n\nTasksBlock.contextType = PopUpContext;","import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\n\nimport GroupService from '../../../../services/group-service';\n\nimport PopUpContext from '../../../context/popup-context';\n\n// import { useParams } from \"react-router-dom\";\n\n\nexport default class RatingBlock extends Component {\n\n    state = {\n        GroupService: new GroupService(),\n        RatingList: null,\n        GroupLink: null,\n        showingRatingReloadInfo: null //to reload the block\n    }\n\n    componentDidMount() {\n        this.componentDidUpdate();\n    }\n\n    componentDidUpdate() {\n        const showingRating = this.props.showingRating;\n        const link = this.props.link;\n        if (link !== this.state.GroupLink || showingRating !== this.state.showingRatingReloadInfo) {\n            this.setState({\n                GroupLink: link,\n                showingRatingReloadInfo: this.props.showingRating\n            });\n            this.state.GroupService.getGroupRating(this.props.link).then(\n                res => {\n                    console.log(res);\n                    if (res[\"response\"][\"code\"] !== undefined && res[\"response\"][\"code\"] !== 777) {\n                        this.setState({\n                            RatingList: \"off\"\n                        });\n                    } else {\n                        this.setState({\n                            RatingList: res[\"response\"]\n                        });\n                    }\n                });\n        }\n    }\n\n\n    render() {\n\n        const { RatingList } = this.state;\n        const { serverUrl } = this.context;\n\n        if (RatingList !== null) {\n\n            const RatingListBlock = () => RatingList.map((userRating, index) =>\n                <div className=\"rating-line\" key={userRating.userData.name}>\n                    <span className=\"place\">{index + 1}</span>\n                    <img src={serverUrl + userRating.userData.picture} alt=\"User Pic\" />\n                    <span className=\"name\">{userRating.userData.name}</span>\n                </div>\n            );\n\n            if (RatingList !== false && RatingList.length > 0) {\n                if (RatingList !== \"off\") {\n                    return (\n                        <div className=\"rating-list\">\n                            <RatingListBlock />\n                        </div>\n                    );\n                } else {\n                    return (\n                        <div className=\"widget_info\">\n                            <div className=\"info-message\">\n                                <img className=\"info-illustration\" src=\"/assets/illustration/champ-gray.svg\" alt=\"Rating\" />\n                                <span>Oops, the teacher has hidden<br /> group rating</span>\n                            </div>\n                        </div>\n                    );\n                }\n            } else {\n                return (\n                    <div className=\"widget_info\">\n                        <div className=\"info-message\">\n                            <img className=\"info-illustration\" src=\"/assets/illustration/champ-gray.svg\" alt=\"Rating\" />\n                            <span>Oops, you don't have enough<br /> students to rate from</span>\n                        </div>\n                    </div>\n                );\n            }\n        } else {\n            return (\n                <p>Loading...</p>\n            );\n        }\n    }\n}\n\nRatingBlock.contextType = PopUpContext;","import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\n\nimport GroupService from '../../../../services/group-service';\n\nimport PopUpContext from '../../../context/popup-context';\n\n// import { useParams } from \"react-router-dom\";\n\n\nexport default class FilesBlock extends Component {\n\n    state = {\n        GroupService: new GroupService(),\n        FilesList: null,\n        GroupLink: null\n    }\n\n    componentDidMount() {\n        this.componentDidUpdate();\n    }\n\n    componentDidUpdate() {\n        const link = this.props.link;\n        if (link !== this.state.GroupLink) {\n            this.setState({\n                GroupLink: link\n            });\n            this.state.GroupService.getGroupFiles(this.props.link).then(\n                res => {\n                    this.setState({\n                        FilesList: res[\"response\"]\n                    });\n                });\n        }\n    }\n\n\n\n    render() {\n\n        const { FilesList } = this.state;\n\n        if (FilesList !== null) {\n\n            if (FilesList !== false) {\n\n                const FilesListBlock = () => FilesList.map((fileInfo, index) =>\n                    <div className=\"file-line\" key={fileInfo.file_name + index}>\n                        <div className=\"top-line\">\n                            <span className=\"name\">{fileInfo.file_name}</span>\n                            <span className=\"type\">{fileInfo.type}</span>\n                            <a target='_blank' rel=\"noopener noreferrer\" href={fileInfo.file_link}><img src=\"/assets/svg/download.svg\" alt=\"Open\" /></a>\n                        </div>\n                        <span className=\"comment\">{fileInfo.file_comment.substr(0, 40)}</span>\n                    </div>\n                );\n\n                return (\n                    <div className=\"files-list\">\n                        <FilesListBlock />\n                    </div>\n                );\n            } else {\n                return (\n                    <div className=\"widget_info\">\n                        <div className=\"info-message\">\n                            <img className=\"info-illustration\" src=\"/assets/illustration/files-gray.svg\" alt=\"Files\" />\n                            <span>Oops, a teacher hasn't attached any<br/> files yet</span>\n                        </div>\n                    </div>\n                );\n            }\n        } else {\n            return (\n                <p>Loading...</p>\n            );\n        }\n    }\n}\n\nFilesBlock.contextType = PopUpContext;","import React, { Component } from 'react';\n// import { Link } from 'react-router-dom';\n\nimport GroupService from '../../../../services/group-service';\nimport PopUpContext from '../../../context/popup-context';\n\nimport FullCalendar from '@fullcalendar/react';\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport listPlugin from '@fullcalendar/list';\nimport interactionPlugin from \"@fullcalendar/interaction\"; // needed for dayClick\n// import { useParams } from \"react-router-dom\";\n\n\nexport default class LessonsBlock extends Component {\n\n    state = {\n        GroupService: new GroupService(),\n        LessonsList: null,\n        GroupLink: null,\n        showingEventBlock: false,\n        selectedEvent: null\n    }\n\n    componentDidMount() {\n        this.componentDidUpdate();\n    }\n\n    componentDidUpdate() {\n        const link = this.props.link;\n        if (link !== this.state.GroupLink) {\n            this.setState({\n                GroupLink: link\n            });\n            this.state.GroupService.getLessons(this.props.link).then(\n                res => {\n                    console.log(res);\n                    this.setState({\n                        LessonsList: res[\"response\"]\n                    });\n                });\n        }\n    }\n\n\n    hideEventInfo = () => {\n        this.setState({\n            showingEventBlock: false\n        })\n    }\n\n    handleDateClick = (arg) => { // bind with an arrow function\n        console.log(arg);\n        // alert(arg.dateStr)\n    }\n\n    handleEventClick = (arg) => { // bind with an arrow function\n        console.log(arg);\n        // console.log(arg.event._def)\n        this.setState({\n            selectedEvent: arg.event,\n            showingEventBlock: true\n        })\n    }\n\n    setClipboard = (value) => {\n        let tempInput = document.createElement(\"input\");\n        tempInput.style = \"position: absolute; left: -1000px; top: -1000px\";\n        tempInput.value = value;\n        document.body.appendChild(tempInput);\n        tempInput.select();\n        document.execCommand(\"copy\");\n        document.body.removeChild(tempInput);\n        alert(\"Copied!\")\n    }\n\n    render() {\n\n        const { showingEventBlock, selectedEvent, LessonsList, GroupLink } = this.state;\n\n        if (LessonsList !== null) {\n\n            console.log(LessonsList);\n\n            let eventsArr = [];\n\n            for (let i = 0; i < LessonsList.length; i++) {\n                if (LessonsList[i][\"recurring\"] == 0) {\n                    eventsArr.push({\n                        date: LessonsList[i][\"eventDate\"].substring(0, 10) + \" \" + LessonsList[i][\"start_time\"],\n                        title: LessonsList[i][\"title\"],\n                        description: LessonsList[i][\"description\"],\n                        extendedProps: { lesson_url: LessonsList[i][\"lesson_url\"] }\n                    })\n                } else {\n                    eventsArr.push({\n                        daysOfWeek: [LessonsList[i][\"days_of_week\"]],\n                        startTime: LessonsList[i][\"start_time\"],\n                        title: LessonsList[i][\"title\"],\n                        description: LessonsList[i][\"description\"],\n                        extendedProps: { lesson_url: LessonsList[i][\"lesson_url\"] }\n                    })\n                }\n            }\n\n            console.log(eventsArr);\n\n            const EventInfoBlock = (props) => {\n                console.log(props);\n                if (showingEventBlock) {\n                    const info = props.eventInfo._def;\n                    const dateObj = props.eventInfo._instance.range.start;\n                    let date = new Date(dateObj);\n                    let dateOffset = date.getTimezoneOffset();\n                    dateOffset = dateOffset.toString().substring(1);\n                    date.setMinutes(date.getMinutes() - dateOffset);\n                    const day = date.getDay();\n                    const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n                    const month = monthNames[date.getMonth()];\n                    const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n                    const dayName = days[date.getDay()];\n                    const hours = date.getHours();\n                    let minutes = date.getMinutes();\n                    console.log(minutes.length);\n                    if (minutes.toString().length === 1) {\n                        minutes = \"0\" + minutes\n                    }\n\n                    const lessonsActionsStyle = {\n                        display: info.extendedProps.lesson_url !== null ? \"flex\" : \"none\",\n                    }\n\n                    return (\n                        <div className=\"event-info\">\n                            <div className=\"top-line\">\n                                <div className=\"name\">\n                                    <div className=\"circle\"></div> {info.title}\n                                </div>\n                                <img onClick={this.hideEventInfo} className=\"event-info-close\" src=\"/assets/svg/blue-x.svg\" />\n                            </div>\n                            <div className=\"date\">\n                                <div className=\"blue\">{month} {day}, {hours}:{minutes} </div>\n                                {dayName}\n                            </div>\n                            {/* <span className=\"hours\">{hours}:{minutes}</span> */}\n                            <div className=\"event-description\">\n                                <p>{info.extendedProps.description}</p>\n                                <div className=\"bottom-gradient\"></div>\n                            </div>\n                            <div className=\"actions\" style={lessonsActionsStyle}>\n                                <a rel=\"noopener noreferrer\" href={`${info.extendedProps.lesson_url}`} target=\"_blank\">\n                                    <button className=\"main\">Join meeting</button>\n                                </a>\n                                <div className=\"copy-link\" onClick={() => this.setClipboard(info.extendedProps.lesson_url)}>\n                                    <img src=\"/assets/svg/copy.svg\" />\n                                    Copy link\n                                 </div>\n                            </div>\n                        </div>\n                    )\n                } else {\n                    return null;\n                }\n            }\n\n            return (\n\n                <div className=\"calendar-wrapper\">\n                    <FullCalendar\n                        plugins={[dayGridPlugin, listPlugin, interactionPlugin]}\n                        dateClick={this.handleDateClick}\n                        // eventContent={renderEventContent}\n                        eventClick={this.handleEventClick}\n                        timezone=\"local\"\n                        ignoreTimezone={false}\n                        initialView=\"listMonth\" //dayGridMonth, listMonth\n                        weekends={true}\n                        // events={[\n                        //     // { title: 'event 1', date: '2020-10-09 20:30', description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit ut aliquam, purus sit amet luctus venenatis, lectus magna fringillaurna, porttitor rhoncus dolor purus non enim praesent elementum... Lorem ipsum dolor sit amet, consectetur adipiscing elit ut aliquam, purus sit amet luctus venenatis, lectus magna fringillaurna, porttitor rhoncus dolor purus non enim praesent elementum...', extendedProps: { lesson_url: \"http://finelabs.tech\" } }, //url: 'http://google.com/' \n                        //     // { title: 'event 2', date: '2020-10-09 15:01', description: 'This is a cool event', },\n                        //     // { title: 'event 3', date: '2020-10-19 15:40', description: 'This is a cool event', },\n                        //     // { title: 'event 4', date: '2020-10-19 16:40', description: 'This is a cool event', },\n                        //     // { title: 'event 5', date: '2020-10-19 17:40', description: 'This is a cool event', },\n                        //     // { title: 'event 6', date: '2020-10-19 18:00', description: 'This is a cool event', },\n                        //     // { title: \"Arthur's Birthday!\", date: '2020-10-20 12:00', description: 'Dope', }\n                        //     {\n                        //         daysOfWeek: [ '3' ], // these recurrent events move separately\n                        //         startTime: '11:00',\n                        //         title: 'some event',\n                        //         description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit ut aliquam, purus sit amet luctus venenatis, lectus magna fringillaurna, porttitor rhoncus dolor purus non enim praesent elementum... Lorem ipsum dolor sit amet, consectetur adipiscing elit ut aliquam, purus sit amet luctus venenatis, lectus magna fringillaurna, porttitor rhoncus dolor purus non enim praesent elementum...', extendedProps: { lesson_url: \"http://finelabs.tech\" }\n                        //       },\n                        //       {\n                        //         daysOfWeek: [ '5' ], // these recurrent events move separately\n                        //         startTime: '16:30',\n                        //         title: 'Friday Night Cafe',\n                        //         description: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit ut aliquam, purus sit amet luctus venenatis, lectus magna fringillaurna, porttitor rhoncus dolor purus non enim praesent elementum... Lorem ipsum dolor sit amet, consectetur adipiscing elit ut aliquam, purus sit amet luctus venenatis, lectus magna fringillaurna, porttitor rhoncus dolor purus non enim praesent elementum...', extendedProps: { lesson_url: \"http://finelabs.tech\" }\n                        //       }\n                        // ]}\n                        events={eventsArr}\n\n                    />\n                    <EventInfoBlock eventInfo={selectedEvent} />\n                </div>\n            );\n\n        } else {\n            return (\n                <p>Loading...</p>\n            );\n        }\n    }\n}\n\n\nfunction renderEventContent(eventInfo) {\n    return (\n        <>\n            <b>{eventInfo.timeText}</b>\n            <i>{eventInfo.event.title}</i>\n        </>\n    )\n}\n\nLessonsBlock.contextType = PopUpContext;","import React, { Component } from 'react';\n\nimport parse from 'html-react-parser';\n// import { Link } from 'react-router-dom';\n\nimport GroupService from '../../../../services/group-service';\n\nimport PopUpContext from '../../../context/popup-context';\n\n// import { useParams } from \"react-router-dom\";\n\n\nexport default class ChatBlock extends Component {\n\n    state = {\n        GroupService: new GroupService(),\n        ChatMessages: null,\n        GroupLink: null,\n        CurrentChatPage: 1,\n        TotalChatPages: null,\n        refreshChat: false,\n        UserInputText: \"\",\n        // showingRatingReloadInfo: null //to reload the block\n    }\n\n    componentDidMount() {\n        this.componentDidUpdate();\n        // this.chatInterval = setInterval(() => this.getChatData(this.state.CurrentChatPage), 60000);\n    }\n\n    componentDidUpdate() {\n        const refreshChat = this.props.refreshChat;\n        const link = this.props.link;\n        // if (link !== this.state.GroupLink || showingRating !== this.state.showingRatingReloadInfo) {\n        if (link !== this.state.GroupLink || refreshChat !== this.state.refreshChat) {\n            this.setState({\n                GroupLink: link,\n                refreshChat: refreshChat,\n                UserInputText: \"\",\n                // showingRatingReloadInfo: this.props.showingRating\n            });\n\n            this.getChatData(1);\n        }\n    }\n\n    componentWillUnmount() {\n        // Clear the interval right before component unmount\n        // clearInterval(this.chatInterval);\n    }\n\n    getChatData = (page) => {\n        console.log(\"getChatData page: \" + page);\n\n        this.state.GroupService.getGroupChat(this.props.link, page).then(\n            res => {\n                console.log(res);\n                this.setState({\n                    ChatMessages: res[\"response\"][\"data\"],\n                    CurrentChatPage: res[\"response\"][\"page\"],\n                    TotalChatPages: res[\"response\"][\"totalpages\"],\n                });\n\n                if (res[\"response\"][\"data\"] !== undefined) {\n                    // clearInterval(this.chatInterval);\n                    // this.chatInterval = setInterval(() => this.getChatData(this.state.CurrentChatPage), 60000);\n                } else {\n                    // clearInterval(this.chatInterval);\n                }\n            });\n    }\n\n    sendMessage = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n\n        // console.log(e.target);\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n\n        console.log(formData);\n\n        this.state.GroupService.newMessage(formData).then(\n            res => {\n                console.log(res);\n                this.setState({ UserInputText: \"\" });\n\n                if(document.getElementById(\"userMessageInput1\") !== null){\n                    document.getElementById(\"userMessageInput1\").value = \"\"; \n                }\n\n                if(document.getElementById(\"userMessageInput2\") !== null){\n                    document.getElementById(\"userMessageInput2\").value = \"\"; \n                }\n\n                // window.location.hash = `#chat`;\n\n                document.getElementById(\"chat\").scrollIntoView()\n\n\n                this.getChatData(1);\n                // if (res[\"response\"][\"code\"] === \"100\") {\n                //     // window.location.reload();\n                // } else {\n                //     alert(\"Error! Check console\");\n                // }\n            }\n        );\n    }\n\n    workWithMessage = (msg) => {\n        function urlify(text) {\n            var urlRegex = /(https?:\\/\\/[^\\s]+)/g;\n            return text.replace(urlRegex, function (url) {\n                let prettyURL = url.replace(/(^\\w+:|^)\\/\\//, '');\n                return `<a href=\"${url}\" target=\"_blank\">${prettyURL}</a>`;\n            })\n            // or alternatively\n            // return text.replace(urlRegex, '<a href=\"$1\">$1</a>')\n        }\n\n        function youtube_parser(url) {\n            var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/;\n            var match = url.match(regExp);\n            return (match && match[7].length == 11) ? match[7] : false;\n        }\n\n        function checkImageURL(url) {\n            return (url.match(/\\.(jpeg|jpg|gif|png)$/) != null);\n        }\n\n        let html;\n\n        if (youtube_parser(msg)) { //check if msg is a YouTube video\n            html = `${msg} <br /><br /> <iframe key=\"${youtube_parser(msg)}\" src=\"https://www.youtube.com/embed/${youtube_parser(msg)}\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>`;\n        } else {\n            if (checkImageURL(msg)) { //check if msg is Img\n                html = `${msg} <br /><br /> <img src=\"${msg}\" alt=\"${msg}\" />`\n            } else {\n                html = urlify(msg);\n            }\n        }\n\n        html = parse(html);\n        // console.log(html)\n        return html;\n    }\n\n    loadMoreMessages = () => {\n        this.getChatData(parseInt(this.state.CurrentChatPage) + 1);\n    }\n\n    handleInputChange = (e) => {\n        // console.log(e.target.value);\n        this.setState({ UserInputText: e.target.value });\n    }\n\n\n    render() {\n\n        const { ChatMessages, GroupLink, CurrentChatPage, TotalChatPages, UserInputText } = this.state;\n        const { serverUrl } = this.context;\n\n        if (ChatMessages !== null) {\n\n            const ChatMessagesBlock = () => ChatMessages.map((msgData, i, array) => {\n                if (array[i + 1] !== undefined) {\n                    if (array[i].user_id !== array[i + 1].user_id) {\n                        // console.log(array[i].user_id + \" is different from \" + array[i - 1].user_id);\n                        return (\n                            <div className=\"chat-message\" key={msgData.id}>\n                                <img className=\"user-picture\" src={serverUrl + msgData.userData.picture} alt=\"User Pic\" />\n                                <div className=\"message-wrapper\">\n                                    <span className=\"name\">{msgData.userData.name}</span>\n                                    <div className=\"message\" key={\"message\" + msgData.id}>{this.workWithMessage(msgData.message)}</div>\n                                </div>\n                            </div>\n                        );\n                    } else {\n                        return (\n                            <div className=\"chat-message me\" key={msgData.id}>\n                                <div className=\"message-wrapper me\">\n                                    <div className=\"message\" key={\"message\" + msgData.id}>{this.workWithMessage(msgData.message)}</div>\n                                </div>\n                            </div>\n                        );\n                    }\n                } else{\n                    return (\n                        <div className=\"chat-message\" key={msgData.id}>\n                            <img className=\"user-picture\" src={serverUrl + msgData.userData.picture} alt=\"User Pic\" />\n                            <div className=\"message-wrapper\">\n                                <span className=\"name\">{msgData.userData.name}</span>\n                                <div className=\"message\" key={\"message\" + msgData.id}>{this.workWithMessage(msgData.message)}</div>\n                            </div>\n                        </div>\n                    );\n                }\n            }\n            );\n\n            const LoadMoreMessagesButton = (props) => {\n                return (\n                    <span className=\"load-more\" onClick={() => this.loadMoreMessages()}>Show older messages</span>\n                )\n            }\n\n\n            // const MessageInput = (props) => {\n            //     return (\n            //         <div className=\"message-input\">\n            //             <div className=\"wrapper\">\n            //                 <form onSubmit={this.sendMessage}>\n            //                     <input name=\"message\" type=\"text\" placeholder=\"Enter your message...\" autoComplete=\"off\" key=\"userMessageInput3\" onChange={this.handleInputChange} value={UserInputText} />\n            //                     <input name=\"link\" type=\"hidden\" value={GroupLink} />\n            //                     <button type=\"submit\" className=\"send\"></button>\n            //                     {/* <img src=\"/assets/svg/send-message.svg\" className=\"send\" alt=\"Send\" /> */}\n            //                 </form>\n            //             </div>\n            //         </div>\n            //     );\n            // }\n\n            if (ChatMessages !== undefined) {\n                return (\n                    <div className=\"chat\" key=\"chat\">\n                        <div className=\"chat-messages-list\" key=\"chat-messages-list\">\n                            <ChatMessagesBlock key=\"ChatMessagesBlock\" />\n                            {parseInt(TotalChatPages) !== parseInt(CurrentChatPage) ? <LoadMoreMessagesButton /> : null}\n                        </div>\n\n                        <div className=\"message-input\" key=\"message-input1\">\n                            <div className=\"wrapper\">\n                                <form onSubmit={this.sendMessage}>\n                                    {/* <input name=\"message\" type=\"text\" placeholder=\"Enter your message...\" autoComplete=\"off\" key=\"userMessageInput1\" onChange={this.handleInputChange} value={UserInputText} /> */}\n                                    <input name=\"message\" type=\"text\" placeholder=\"Enter your message...\" autoComplete=\"off\" id=\"userMessageInput1\" key=\"userMessageInput1\" />\n                                    <input name=\"link\" type=\"hidden\" value={GroupLink} />\n                                    <button type=\"submit\" className=\"send\"></button>\n                                </form>\n                            </div>\n                        </div>\n                        {/* <MessageInput /> */}\n                    </div>\n                );\n            } else {\n                return (\n                    <div className=\"widget_info chat\">\n                        {/* <span>Be the first one to leave a message... </span> */}\n                        <div className=\"info-message\">\n                            <img className=\"info-illustration\" src=\"/assets/illustration/plane.svg\" alt=\"Plane\" />\n                            <span>Be the first one<br /> to leave a message!</span>\n                        </div>\n\n                        <div className=\"message-input\" key=\"message-input2\">\n                            <div className=\"wrapper\">\n                                <form onSubmit={this.sendMessage}>\n                                    {/* <input name=\"message\" type=\"text\" placeholder=\"Enter your message...\" autoComplete=\"off\" key=\"userMessageInput2\" onChange={this.handleInputChange} value={UserInputText} /> */}\n                                    <input name=\"message\" type=\"text\" placeholder=\"Enter your message...\" autoComplete=\"off\" id=\"userMessageInput2\" key=\"userMessageInput2\" />\n                                    <input name=\"link\" type=\"hidden\" value={GroupLink} />\n                                    <button type=\"submit\" className=\"send\"></button>\n                                </form>\n                            </div>\n                        </div>\n                        {/* <MessageInput /> */}\n                    </div>\n                );\n            }\n        } else {\n            return (\n                <p>Loading...</p>\n            );\n        }\n    }\n}\n\nChatBlock.contextType = PopUpContext;","import TopMenu from './top-menu';\n\nexport default TopMenu;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './top-menu.css';\n\nclass TopMenu extends Component {\n\n    /* \n    Needs Changes 🤷‍♂️\n    Using CSS position: absolute;\n    Can't update the Admin/User/Page state without refreshing other elements...\n    This is a temporary decision\n    */\n\n    state = {\n        currentMenuGroup: null\n    }\n\n    render() {\n        const { currentGroupLink, isAdmin } = this.props;\n\n        return (\n            <div className=\"top-menu-absolute\">\n                {isAdmin ? (\n                    <div className=\"top-menu\">\n                        <Link to={\"/class/\" + currentGroupLink}><span>Main</span></Link>\n                        <Link to={\"/admin/settings/\" + currentGroupLink}><span>Class settings</span></Link>\n                        <Link to={\"/admin/manage-members/\" + currentGroupLink}><span>Users</span></Link>\n                        <Link to={\"/tasks/\" + currentGroupLink}><span>Tasks</span></Link>\n                    </div>\n                ) : (\n                        <div className=\"top-menu\">\n                            <Link to={\"/class/\" + currentGroupLink}><span>Main</span></Link>\n                            <Link to={\"/tasks/\" + currentGroupLink}><span>Tasks</span></Link>\n                        </div>\n                    )}\n            </div>\n        );\n    }\n}\n\n\nexport default TopMenu;","import MobileMenu from './mobile-menu';\n\nexport default MobileMenu;","import React, { Component } from 'react';\nimport './mobile-menu.css';\n\n// import { BrowserRouter, NavLink, Nav, Link } from 'react-router-dom';\nimport { NavLink, Link } from 'react-router-dom';\n\nimport { HashLink } from 'react-router-hash-link';\n\n// import GroupService from '../../services/group-service';\n\nclass MobileMenu extends Component {\n\n    state = {\n        // GroupService: new GroupService(),\n    }\n\n\n    render() {\n        const { handlePopUpContent } = this.props;\n\n        const scrollWithOffset = (el, offset) => {\n            const elementPosition = el.offsetTop - offset;\n            window.scroll({\n              top: elementPosition,\n              left: 0,\n              behavior: \"smooth\"\n            });  \n        }\n\n        return (\n            <div className=\"mobile-menu\">\n                <div className=\"menu-link\">\n                    <HashLink smooth to=\"#home\" scroll={el => scrollWithOffset(el, 150)}>\n                        {/* <img src=\"/assets/svg/mobile-home.svg\" alt=\"Home\"/> */}\n                        <div className=\"img home\"></div>\n                        <span>Home</span>\n                    </HashLink>\n                </div>\n                <div className=\"menu-link\">\n                    <HashLink smooth to=\"#tasks\" scroll={el => scrollWithOffset(el, 50)}>\n                        {/* <img src=\"/assets/svg/mobile-tasks.svg\" alt=\"Tasks\"/> */}\n                        <div className=\"img tasks\"></div>\n                        <span>Tasks</span>\n                    </HashLink>\n                </div>\n                <div className=\"menu-link\">\n                    <HashLink to=\"#rating\" scroll={el => scrollWithOffset(el, 50)}>\n                        {/* <img src=\"/assets/svg/mobile-rating.svg\" alt=\"Rating\"/> */}\n                        <div className=\"img rating\"></div>\n                        <span>Rating</span>\n                    </HashLink>\n                </div>\n                <div className=\"menu-link\">\n                    <HashLink to=\"#chat\" scroll={el => scrollWithOffset(el, 50)}>\n                        {/* <img src=\"/assets/svg/mobile-chat.svg\" alt=\"Chat\"/> */}\n                        <div className=\"img chat\"></div>\n                        <span>Chat</span>\n                    </HashLink>\n                </div>\n                <div className=\"menu-link\">\n                    <HashLink to=\"#files\" scroll={el => scrollWithOffset(el, 50)}>\n                        {/* <img src=\"/assets/svg/mobile-files.svg\" alt=\"Files\"/> */}\n                        <div className=\"img files\"></div>\n                        <span>Files</span>\n                    </HashLink>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default MobileMenu;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './group-page.css';\n\nimport GroupService from '../../../services/group-service';\n\nimport PopUpContext from '../../context/popup-context';\n\nimport ClockBlock from './home-blocks/clock-block';\nimport TasksBlock from './home-blocks/tasks-block';\nimport RatingBlock from './home-blocks/rating-block';\nimport FilesBlock from './home-blocks/files-block';\nimport LessonsBlock from './home-blocks/lessons-block';\nimport ChatBlock from './home-blocks/chat-block';\n\nimport TopMenu from '../../top-menu';\n\nimport MobileMenu from '../../mobile-menu';\n\n// import { useParams } from \"react-router-dom\";\n\n\nexport default class GroupPage extends Component {\n\n    state = {\n        GroupService: new GroupService(),\n        GroupLink: null,\n        GroupInfo: null,\n        UserRole: null,\n        showingGroupMenu: false,\n        showingRating: null,\n        refreshChat: false,\n    }\n\n\n    componentDidMount() {\n        this.componentDidUpdate();\n    }\n\n    componentDidUpdate() {\n        let link = this.props.match.params.link;\n        if (this.state.GroupLink !== link) {\n            console.log(\"Update\")\n            this.setState({\n                GroupLink: link,\n                showingGroupMenu: false\n            });\n\n            // if (this.context.currentGroupLink !== link) {\n            //     this.context.updateCurrentGroupLink(link);\n            // }\n\n            this.state.GroupService.getGroupData(link).then(\n                res => {\n                    console.log(res);\n                    if (res[\"response\"]) {\n                        this.state.GroupService.getRole(link).then(\n                            roleRes => {\n                                // console.log(roleRes);\n                                this.setState({\n                                    UserRole: roleRes[\"response\"],\n                                    // GroupInfo: res[\"response\"][0]\n                                });\n                                this.setState({\n                                    GroupInfo: res[\"response\"][0]\n                                });\n                            });\n                    } else {\n                        console.log(\"Not found\");\n                        window.location = \"/\";\n                    }\n                }\n            );\n        }\n    }\n\n\n    showHideGroupMenu = () => {\n        this.setState({\n            showingGroupMenu: !this.state.showingGroupMenu\n        });\n    }\n\n\n    hideGroupRating = () => {\n        let link = this.props.match.params.link;\n        this.state.GroupService.hideGroupRating(link).then(\n            res => {\n                console.log(res);\n                // window.location.reload();\n                this.setState({\n                    showingRating: false, //just to refresh the block\n                })\n            });\n    }\n\n    showGroupRating = () => {\n        let link = this.props.match.params.link;\n        this.state.GroupService.showGroupRating(link).then(\n            res => {\n                console.log(res);\n                this.setState({\n                    showingRating: true, //just to refresh the block\n                })\n            });\n    }\n\n    refreshChat = () => {\n            this.setState({\n                refreshChat: !this.state.refreshChat,\n            });\n    }\n\n\n    render() {\n\n        const { GroupInfo, UserRole, GroupLink, showingGroupMenu, showingRating, refreshChat } = this.state;\n\n        const { handlePopUpContent, serverUrl } = this.context;\n\n        // console.log(\"GroupLink: \" + GroupLink);\n        // console.log(\"UserRole: \" + UserRole);\n\n        console.log(showingGroupMenu);\n\n        const generateGroupShortName = (data) => {\n            let name;\n            if (data.split(' ').length >= 2) {\n                let twoWords = data.split(' ').slice(0, 2).join(' ')\n                let matches = twoWords.match(/\\b(\\w)/g);\n                let acronym = matches.join('');\n                name = acronym.substring(0, 2);\n            } else {\n                name = data.substring(0, 2);\n            }\n            return name;\n        }\n\n        if (GroupInfo !== null) {\n            return (\n                <React.Fragment>\n                    {UserRole === \"admin\" ? <TopMenu currentGroupLink={GroupLink} isAdmin /> : <TopMenu currentGroupLink={GroupLink} />}\n\n                    <div className=\"grouppage\" id=\"home\">\n                        {showingGroupMenu ? <div className=\"groupmenu_clicker_overlay\" onClick={this.showHideGroupMenu}></div> : null}\n\n                        <ClockBlock />\n\n                        <div className=\"page_heading\">\n                            {GroupInfo.name} {UserRole === \"admin\" ? <Link to={\"/admin/settings/\" + GroupLink}><img className=\"settings_icon\" src=\"/assets/svg/settings.svg\" alt=\"Settings\" /></Link> : (\n                                <div className=\"actions_block\">\n                                    <img className=\"more_icon\" onClick={this.showHideGroupMenu} src=\"/assets/svg/more.svg\" alt=\"More\" />\n                                    {showingGroupMenu ? <div className=\"group-menu\" onClick={() => handlePopUpContent(\"leaveGroup\", { smallPopUp: true, GroupLink: GroupLink })}>Leave group</div> : null}\n                                </div>\n                            )}\n                        </div>\n                        <div className=\"school_name\">\n                        <Link className=\"icon_link\" to={\"/admin/settings/\" + GroupLink}> {GroupInfo.picture !== \"data/uploads/images/default/group.png\" ? <img src={serverUrl + GroupInfo.picture} title={GroupInfo.name} alt={GroupInfo.name} /> : <div className=\"group-circle\">{generateGroupShortName(GroupInfo.name)}</div>} </Link>\n                            {/* <img src={serverUrl + GroupInfo.picture} alt={GroupInfo.school_name} /> */}\n                            {GroupInfo.school_name}\n                        </div>\n\n                        <div className=\"grouppage_blocks\">\n\n                            <div className=\"block tasks_block\" id=\"tasks\">\n                                <div className=\"block_heading\">\n                                <Link className=\"icon_link\" to={\"/tasks/\" + GroupLink}>Tasks</Link> {UserRole === \"admin\" || UserRole === \"teacher\" ? <React.Fragment> <img onClick={() => handlePopUpContent(\"newTask\", GroupLink)} className=\"plus_icon\" src=\"/assets/svg/+.svg\" alt=\"+\" /> <Link className=\"icon_link\" to={\"/tasks/\" + GroupLink}><img className=\"settings_block_icon\" src=\"/assets/svg/settings.svg\" alt=\"Settings\" /> </Link></React.Fragment> : <Link className=\"icon-link\" to={\"/tasks/\" + GroupLink}><img className=\"forward_icon\" src=\"/assets/svg/forward.svg\" alt=\"Forward\" /> </Link>}\n                                </div>\n                                <div className=\"widget_box\">\n\n                                    <TasksBlock link={GroupLink} />\n\n                                    <div className=\"gradient\"></div>\n                                </div>\n                            </div>\n\n                            <div className=\"block\">\n                                <div className=\"block_heading\">\n                                <Link className=\"icon_link\" to={\"/admin/manage-lessons/\" + GroupLink}>Lessons</Link> {UserRole === \"admin\" || UserRole === \"teacher\" ? <React.Fragment><img onClick={() => handlePopUpContent(\"newLesson\", GroupInfo.link)} className=\"plus_icon\" src=\"/assets/svg/+.svg\" alt=\"+\" /> <Link className=\"icon_link\" to={\"/admin/manage-lessons/\" + GroupLink}><img className=\"settings_block_icon\" src=\"/assets/svg/settings.svg\" alt=\"Settings\" /> </Link></React.Fragment> : null}\n                                </div>\n                                <div className=\"widget_box calendar\">\n                                    <LessonsBlock link={GroupLink} />\n                                </div>\n                            </div>\n\n                        </div>\n                        <div className=\"grouppage_blocks second\">\n\n                            <div className=\"block\" id=\"rating\">\n                                <div className=\"block_heading\">\n                                    Rating {UserRole === \"admin\" || UserRole === \"teacher\" ? <RatingAdminAction hideGroupRating={this.hideGroupRating} showGroupRating={this.showGroupRating} /> : null} {UserRole === \"admin\" || UserRole === \"teacher\" ? <Link className=\"icon_link\" to={\"/admin/manage-members/\" + GroupLink}><img className=\"settings_block_icon\" src=\"/assets/svg/settings.svg\" alt=\"Settings\" /> </Link> : null}\n                                </div>\n                                <div className=\"widget_box bottom_scroll_box\">\n                                    <RatingBlock link={GroupLink} showingRating={this.state.showingRating} />\n                                    <div className=\"bottom-gradient\"></div>\n                                </div>\n                            </div>\n\n                            <div className=\"block\" id=\"files\">\n                                <div className=\"block_heading\">\n                                    Attachments {UserRole === \"admin\" || UserRole === \"teacher\" ? <img onClick={() => handlePopUpContent(\"newFile\", GroupLink)} className=\"plus_icon\" src=\"/assets/svg/+.svg\" alt=\"+\" /> : null}\n                                </div>\n                                <div className=\"widget_box bottom_scroll_box\">\n                                    <FilesBlock link={GroupLink} />\n                                    <div className=\"bottom-gradient\"></div>\n                                </div>\n                            </div>\n\n                            <div className=\"block\" id=\"chat\">\n                                <div className=\"block_heading\">\n                                    Chat <img className=\"refresh_icon\" onClick={() => this.refreshChat()} src=\"/assets/svg/refresh.svg\" alt=\"Refresh\" />\n                                </div>\n                                <div className=\"widget_box chat\">\n                                    <ChatBlock link={GroupLink} refreshChat={refreshChat} />\n                                </div>\n                            </div>\n\n                        </div>\n                    </div>\n                    <MobileMenu />\n                </React.Fragment>\n            );\n\n            function RatingAdminAction(props) {\n                if (showingRating === null) {\n                    if (GroupInfo.rating === 1) {\n                        return <img onClick={props.hideGroupRating} className=\"plus_icon\" src=\"/assets/svg/eye.svg\" alt=\"Show\" />;\n                    } else {\n                        return <img onClick={props.showGroupRating} className=\"plus_icon\" src=\"/assets/svg/eye-hide.svg\" alt=\"Hide\" />;\n                    }\n                } else {\n                    if (showingRating) {\n                        return <img onClick={props.hideGroupRating} className=\"plus_icon\" src=\"/assets/svg/eye.svg\" alt=\"Show\" />;\n                    } else {\n                        return <img onClick={props.showGroupRating} className=\"plus_icon\" src=\"/assets/svg/eye-hide.svg\" alt=\"Hide\" />;\n                    }\n                }\n            }\n        } else {\n            return (\n                <div className=\"grouppage\">\n                    {/* Loading... */}\n                </div>\n            );\n        }\n    }\n}\n\nGroupPage.contextType = PopUpContext;","import GroupPage from './group-page';\n\nexport default GroupPage;","import MobileMenuTask from './mobile-menu-task';\n\nexport default MobileMenuTask;","import React, { Component } from 'react';\nimport '../mobile-menu/mobile-menu.css';\n\n// import { BrowserRouter, NavLink, Nav, Link } from 'react-router-dom';\nimport { NavLink, Link } from 'react-router-dom';\n\nimport { HashLink } from 'react-router-hash-link';\n\n// import GroupService from '../../services/group-service';\n\nclass MobileMenuTask extends Component {\n\n    state = {\n        // GroupService: new GroupService(),\n    }\n\n\n    render() {\n        const { isTeacher } = this.props;\n\n        const scrollWithOffset = (el, offset) => {\n            const elementPosition = el.offsetTop - offset;\n            window.scroll({\n              top: elementPosition,\n              left: 0,\n              behavior: \"smooth\"\n            });  \n        }\n\n        return (\n            <div className=\"mobile-menu\">\n                <div className=\"menu-link\">\n                    <HashLink smooth to=\"#task-scroll\" scroll={el => scrollWithOffset(el, 150)}>\n                        {/* <img src=\"/assets/svg/mobile-home.svg\" alt=\"Home\"/> */}\n                        <div className=\"img tasks\"></div>\n                        <span>Task</span>\n                    </HashLink>\n                </div>\n                <div className=\"menu-link\">\n                    {isTeacher ? (\n                        <HashLink smooth to=\"#studentswork-scroll\" scroll={el => scrollWithOffset(el, 150)}>\n                            {/* <img src=\"/assets/svg/mobile-tasks.svg\" alt=\"Tasks\"/> */}\n                            <div className=\"img list\"></div>\n                            <span>Student's work</span>\n                        </HashLink>\n                    ) : (\n                            <HashLink smooth to=\"#yourwork-scroll\">\n                                {/* <img src=\"/assets/svg/mobile-tasks.svg\" alt=\"Tasks\"/> */}\n                                <div className=\"img list\"></div>\n                                <span>Your Work</span>\n                            </HashLink>\n                        )}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default MobileMenuTask;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './task-page.css';\nimport TopMenu from '../../top-menu';\n\nimport MobileMenuTask from '../../mobile-menu-task';\nimport TaskService from '../../../services/task-service';\nimport PopUpContext from '../../context/popup-context';\n\n\n// import { useParams } from \"react-router-dom\";\n\n\nexport default class TaskPage extends Component {\n\n    state = {\n        TaskService: new TaskService(),\n        TaskInfo: null,\n        GroupLink: null,\n        UserRole: null,\n        UserHomework: null,\n        TaskFiles: null,\n        MyFiles: null,\n        AllHomeWorks: [],\n    }\n\n\n    componentDidMount() {\n        const taskLink = this.props.match.params.link\n        this.state.TaskService.getSingleTask(taskLink).then(\n            res => {\n                console.log(res);\n                if (res[\"code\"] === undefined) {\n                    this.state.TaskService.getTaskAdminRole(taskLink).then(\n                        resRole => {\n                            console.log(resRole);\n                            this.state.TaskService.getTaskFiles(res[\"response\"][0][\"group_link\"], taskLink).then(\n                                resFiles => {\n                                    console.log(resFiles);\n                                    this.state.TaskService.getSingleHomework(taskLink).then(\n                                        homeworkRes => {\n                                            console.log(homeworkRes);\n                                            this.state.TaskService.getMyFiles(res[\"response\"][0][\"group_link\"], taskLink).then(\n                                                myFilesRes => {\n                                                    console.log(myFilesRes);\n                                                    this.setState({\n                                                        UserHomework: homeworkRes[\"response\"][0],\n                                                        UserRole: resRole[\"response\"],\n                                                        TaskInfo: res[\"response\"][0],\n                                                        TaskFiles: resFiles[\"response\"],\n                                                        MyFiles: myFilesRes[\"response\"],\n                                                        GroupLink: res[\"response\"][0][\"group_link\"],\n                                                    });\n                                                });\n                                        });\n                                });\n                        });\n                } else {\n                    window.location = \"/\";\n                }\n            });\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.state.UserRole === \"admin\" || this.state.UserRole === \"teacher\") {\n            if (prevState.AllHomeWorks === this.state.AllHomeWorks) {\n                this.state.TaskService.getAllHomework(this.state.TaskInfo.task_link, this.state.TaskInfo.group_link).then(\n                    res => {\n                        console.log(res);\n                        this.setState({\n                            AllHomeWorks: res[\"response\"]\n                        });\n                    }\n                );\n            }\n        }\n    }\n\n\n    onNewHomework = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n\n        // console.log(e.target);\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n\n        console.log(formData);\n\n        console.log(formData[\"comment\"].length);\n\n        if (formData[\"comment\"].length >= 7000) {\n                    this.context.updateErrorMessage(\"Your text is too long!\");\n                    this.context.handlePopUpContent(\"error\");\n        } else {\n            this.state.TaskService.newHomework(formData).then(\n                res => {\n                    console.log(res);\n                    if (res[\"response\"][\"code\"] === \"100\") {\n                        window.location.reload();\n                    } else {\n                        alert(\"Error! Check console\");\n                    }\n                }\n            );\n        }\n    }\n\n    deleteTaskFileAdmin = (fileId) => {\n        this.state.TaskService.deleteTaskFileAdmin(fileId, this.state.TaskInfo.group_link).then(\n            res => {\n                console.log(res);\n                window.location.reload();\n            }\n        );\n    }\n\n\n    deleteMyTaskFile = (fileId) => {\n        this.state.TaskService.deleteMyTaskFile(fileId, this.state.TaskInfo.group_link).then(\n            res => {\n                console.log(res);\n                window.location.reload();\n            }\n        );\n    }\n\n    render() {\n\n        const { TaskInfo, UserRole, UserHomework, AllHomeWorks, TaskFiles, MyFiles, GroupLink } = this.state;\n\n        // console.log(AllHomeWorks);\n        console.log(MyFiles)\n\n        const { handlePopUpContent, reformatDate, serverUrl } = this.context;\n\n        let userData = localStorage.getItem(\"user\");\n        userData = JSON.parse(userData);\n        // console.log(userData);\n        const userIcon = serverUrl + userData[\"response\"][0][\"picture\"];\n        const userName = userData[\"response\"][0][\"name\"];\n\n\n        const userElements = {\n            display: UserRole === \"student\" ? 'block' : 'none',\n        }\n\n        const adminElements = {\n            display: UserRole === \"admin\" || UserRole === \"teacher\" ? 'block' : 'none',\n        }\n            ;\n\n        if (TaskInfo !== null) {\n\n            const TaskNewFiles = () => {\n                return (\n                    <div className=\"files-block\">\n                        <h4>Attached files:</h4>\n                        <div style={adminElements}>\n                            <div className=\"files-action\" onClick={() => handlePopUpContent(\"newTaskFile\", { taskLink: TaskInfo.task_link, currentGroupLink: TaskInfo.group_link })}>\n                                <img src={\"/assets/svg/pin.svg\"} alt=\"Attach\" />\n                                Attach new file\n                        </div>\n                        </div>\n                    </div>\n                )\n            }\n\n            const TaskFilesBlock = () => TaskFiles.map((file) =>\n                <div key={file.id} className=\"file-line\">\n                    <span className=\"name\">{file.file_name}</span>\n                    <div className=\"right-side\">\n                        <span className=\"type\">{file.type}</span>\n                        <a target='_blank' rel=\"noopener noreferrer\" href={file.file_link}><img src=\"/assets/svg/download.svg\" alt=\"Open\" /></a>\n                        <img style={adminElements} onClick={() => this.deleteTaskFileAdmin(file.id)} className=\"delete\" src={\"/assets/svg/x.svg\"} alt=\"Delete\" />\n                    </div>\n                </div>\n            );\n\n            const MyTaskNewFiles = () => {\n                return (\n                    <div className=\"files-block user\" style={userElements}>\n                        <h4>Attached files:</h4>\n                        <div className=\"files-action\" onClick={() => handlePopUpContent(\"newTaskFile\", { taskLink: TaskInfo.task_link, currentGroupLink: TaskInfo.group_link })}>\n                            <img src={\"/assets/svg/pin.svg\"} alt=\"Attach\" />\n                            Attach new file\n                        </div>\n                    </div>\n                )\n            }\n\n            const MyTasksFilesBlock = () => MyFiles.map((file) =>\n                <div key={file.id} className=\"file-line\">\n                    <span className=\"name\">{file.file_name}</span>\n                    <div className=\"right-side\">\n                        <span className=\"type\">{file.type}</span>\n                        <a target='_blank' rel=\"noopener noreferrer\" href={file.file_link}><img src=\"/assets/svg/download.svg\" alt=\"Open\" /></a>\n                        <img onClick={() => this.deleteMyTaskFile(file.id)} className=\"delete\" src={\"/assets/svg/x.svg\"} alt=\"Delete\" />\n                    </div>\n                </div>\n            );\n\n            let StatusBlock;\n\n            if (UserHomework) {\n                switch (UserHomework.status) {\n                    case \"open\":\n                        StatusBlock = () => <div className=\"task_status blue\">Sent</div>\n                        break;\n                    case \"checked\":\n                        StatusBlock = () => <div className=\"task_status green\">Done</div>\n                        break;\n                }\n            } else {\n                StatusBlock = () => <div className=\"task_status red\">To be done</div>\n            }\n\n\n            const AllHomeWorksBlock = () => AllHomeWorks.map((hwork) =>\n                <Link to={\"/admin/homework/\" + hwork.homework_link} key={hwork.homework_link} className=\"link-wrapper\">\n                    <div key={hwork.homework_link} className=\"homework-link\">\n                        <div className=\"user-part\">\n                            <img src={serverUrl + hwork.user.picture} alt=\"User Pic\" />\n                            <span>{hwork.user.name}</span>\n                        </div>\n                        <div className=\"info-action-part\">\n                            {hwork.status === \"open\" ? <span className=\"green\">Not checked</span> : null}\n                            {hwork.status === \"checked\" ? <span>{hwork.teacher_mark}/{TaskInfo.max_mark}</span> : null}\n                            <Link to={\"/admin/homework/\" + hwork.homework_link} className=\"action\">Open</Link>\n                        </div>\n                    </div>\n                </Link>\n            )\n\n            return (\n                <React.Fragment>\n                    {UserRole === \"admin\" ? <TopMenu currentGroupLink={GroupLink} isAdmin /> : <TopMenu currentGroupLink={GroupLink} />}\n\n                    <div className=\"goback_button\" onClick={() => window.history.back()}>\n                        <img className=\"back_icon\" src=\"/assets/svg/back.svg\" alt=\"Back\" />\n                        Go back\n                    </div>\n\n                    <div className=\"taskpage action-space\">\n                        <div className=\"page_heading\" id=\"task-scroll\">Task {UserRole === \"admin\" || UserRole === \"teacher\" ? <img onClick={() => handlePopUpContent(\"editTask\", TaskInfo.task_link)} className=\"edit_task_icon\" src=\"/assets/svg/edit.svg\" alt=\"Edit Task\" /> : null}</div>\n                        {UserRole === \"admin\" || UserRole === \"teacher\" ? <div className=\"task_status blue\">The work has been sent by {AllHomeWorks.length !== undefined ? AllHomeWorks.length : \"0\"} student(s)</div> : <StatusBlock />}\n                        <div className=\"wrapper\">\n                            <div className=\"side-l\">\n                                <div className=\"task_heading\">\n                                    <div className={\"task_circle small_circle \" + TaskInfo.color}></div>\n                                    {TaskInfo.name}\n                                </div>\n                                <div className=\"task_deadline\">\n                                    Untill {reformatDate(TaskInfo.deadline.substr(0, 10))}\n                                </div>\n                                <div className=\"task_description\">\n                                    {TaskInfo.comment}\n                                </div>\n                                <div style={userElements}>\n                                    <TaskNewFiles />\n                                    {TaskFiles ? <div className=\"files-list\"><TaskFilesBlock /></div> : <p className=\"files-message\">Teacher hasn't attached any files yet...</p>}\n                                </div>\n                            </div>\n\n                            <div className=\"side-r\" style={userElements}>\n                                {UserHomework ? (\n                                    <React.Fragment>\n                                        <div className=\"task_heading\" id=\"yourwork-scroll\">Your work</div>\n                                        {MyFiles ? (\n                                            <div className=\"task_deadline\">Mark {UserHomework.teacher_mark}/{TaskInfo.max_mark}</div>\n                                        ) : (\n                                                <div className=\"homework-info-line\">\n                                                    <div className=\"blue\">Step 2/2</div>\n                                                    <div className=\"gray\">Mark 0/{TaskInfo.max_mark}</div>\n                                                </div>\n                                            )}\n                                        {/* <div className=\"task_deadline\">Mark {UserHomework.teacher_mark}/{TaskInfo.max_mark}</div> */}\n                                        <div className=\"homework-post\">\n                                            <img src={userIcon} alt=\"User Pic\" />\n                                            <div className=\"user-text\">\n                                                <span>{userName}</span>\n                                                <p>{UserHomework.comment}</p>\n                                            </div>\n                                        </div>\n\n                                        {UserRole === \"student\" && UserHomework.teacher_message ? (\n                                            <div className=\"homework-post\">\n                                                <img src={serverUrl + UserHomework.teachers.teacherMessageSender.picture} />\n                                                <div className=\"user-text\">\n                                                    <span>{UserHomework.teachers.teacherMessageSender.name}</span>\n                                                    <p>{UserHomework.teacher_message}</p>\n                                                </div>\n                                            </div>\n                                        ) : null}\n\n                                        {UserRole === \"student\" && UserHomework.teacher_comment ? (\n                                            <div className=\"homework-post\">\n                                                <img src={serverUrl + UserHomework.teachers.teacherCommentSender.picture} />\n                                                <div className=\"user-text\">\n                                                    <span>{UserHomework.teachers.teacherCommentSender.name}</span>\n                                                    <p>{UserHomework.teacher_comment}</p>\n                                                </div>\n                                            </div>\n                                        ) : null}\n                                        {/* <div className=\"step\">Step 2/2</div> */}\n                                        <MyTaskNewFiles />\n                                        {MyFiles ? <div className=\"files-list\"><MyTasksFilesBlock /></div> : <div className=\"step margin\">Attach files to continue...</div>}\n                                        <br /><br />\n                                        {MyFiles ? <button className=\"main gray send-work\">Already Sent</button> : <button className=\"main gray send-work\">Needs Attachment</button>}\n                                    </React.Fragment>\n                                ) : (\n                                        <form onSubmit={this.onNewHomework}>\n                                            <div className=\"task_heading\">Send your work</div>\n                                            <div className=\"homework-info-line\">\n                                                <div className=\"blue\">Step 1/2</div>\n                                                <div className=\"gray\">Mark 0/{TaskInfo.max_mark}</div>\n                                            </div>\n                                            {/* <div className=\"task_deadline\">Mark 0/{TaskInfo.max_mark}</div>\n                                            <div className=\"step\">Step 1/2</div> */}\n                                            <textarea name=\"comment\" className=\"work\" placeholder=\"Attach a comment to your work...\"></textarea>\n                                            <input type=\"hidden\" name=\"taskLink\" value={TaskInfo.task_link} />\n                                            <br /><br />\n                                            <button type=\"submit\" className=\"main send-work\">Next</button>\n                                        </form>\n                                    )}\n                            </div>\n\n                            <div className=\"side-r\" style={adminElements}>\n                                <TaskNewFiles />\n                                {TaskFiles ? <div className=\"files-list\"><TaskFilesBlock /></div> : <p className=\"files-message-admin\">You haven't attached any files yet...</p>}\n                            </div>\n                        </div>\n\n                        <div className=\"homeworks-all\" id=\"studentswork-scroll\" style={adminElements}>\n                            <div className=\"blue-heading\" >Students homework</div>\n                            {AllHomeWorks ? <AllHomeWorksBlock /> : \"No homeworks yet...\"}\n                        </div>\n                    </div>\n                    {UserRole === \"admin\" || UserRole === \"teacher\" ? <MobileMenuTask isTeacher=\"true\" /> : <MobileMenuTask />}\n                </React.Fragment>\n            );\n        } else {\n            return (\n                <div className=\"grouppage\">\n                    {/* Loading... */}\n                </div>\n            );\n        }\n    }\n}\n\nTaskPage.contextType = PopUpContext;","import TaskPage from './task-page';\n\nexport default TaskPage;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './all-tasks-page.css';\n\nimport TopMenu from '../../top-menu';\n\nimport TaskService from '../../../services/task-service';\nimport GroupService from '../../../services/group-service';\n\nimport PopUpContext from '../../context/popup-context';\n\n\n// import { useParams } from \"react-router-dom\";\n\n\nexport default class TaskPage extends Component {\n\n    state = {\n        TaskService: new TaskService(),\n        GroupService: new GroupService(),\n        UserRole: null,\n        GroupInfo: null,\n        GroupLink: null,\n        TasksList: null,\n        UnDoneTasks: null\n    }\n\n    componentDidMount() {\n        const groupLink = this.props.match.params.link;\n\n        // if (this.context.currentGroupLink !== groupLink) {\n        //     this.context.updateCurrentGroupLink(groupLink);\n        // }\n\n        this.state.GroupService.getGroupData(groupLink).then(\n            res => {\n                console.log(res);\n                if (res[\"response\"] !== false ) {\n                    this.state.TaskService.getTasksWithMyHomework(groupLink).then(\n                        taskRes => {\n                            console.log(taskRes[\"response\"]);\n\n                            this.state.TaskService.getAdminRole(groupLink).then(\n                                roleRes => {\n                                    console.log(roleRes);\n                                    this.setState({\n                                        GroupInfo: res[\"response\"][0],\n                                        TasksList: taskRes[\"response\"],\n                                        UserRole: roleRes[\"response\"],\n                                        GroupLink: res[\"response\"][0][\"link\"]\n                                    });\n                                });\n                            // this.setState({\n                            //                 GroupInfo: res[\"response\"][0],\n                            //                 TasksList: taskRes[\"response\"]\n                            //             });\n                        });\n                } else {\n                    window.location = \"/\";\n                }\n            });\n\n    }\n\n    componentDidUpdate(){\n        console.log(\"Update\");\n\n        const { TasksList, UnDoneTasks } = this.state;\n\n        if(UnDoneTasks === null){\n            if(TasksList){\n            const unDone = TasksList.filter(task => task.homework === undefined);\n\n            this.setState({\n                UnDoneTasks: unDone.length\n            })\n        } else {\n            this.setState({\n                UnDoneTasks: 0\n            })\n        }\n        }\n    }\n\n    // componentDidUpdate(prevProps, prevState) {\n    //     if (this.state.UserRole === \"admin\") {\n    //         if (prevState.AllHomeWorks === this.state.AllHomeWorks) {\n    //             this.state.TaskService.getAllHomework(this.state.TaskInfo.task_link, this.state.TaskInfo.group_link).then(\n    //                 res => {\n    //                     console.log(res);\n    //                     this.setState({\n    //                         AllHomeWorks: res[\"response\"]\n    //                     });\n    //                 }\n    //             );\n    //         }\n    //     }\n    // }\n\n\n    render() {\n\n        const { GroupInfo, UserRole, TasksList, UnDoneTasks, GroupLink } = this.state;\n\n        const { reformatDate, handlePopUpContent } = this.context;\n\n        const userElements = {\n            display: UserRole === \"student\" ? 'block' : 'none'\n        }\n\n        const adminElements = {\n            display: UserRole === \"admin\" || UserRole === \"teacher\" ? 'block' : 'none'\n        }\n\n        const columnStyle = {\n            gridTemplateColumns: UserRole === \"admin\" || UserRole === \"teacher\" ? '30% 25% 14% 16% 15% 7%' : '25% 25% 14% 16% 10% 10%'\n        }\n\n\n        if (GroupInfo !== null) {\n\n            // console.log(GroupInfo);\n\n            const TaskStatusOptions = (status) => {\n                switch(status){\n                    case \"open\":\n                        return <div style={userElements} className=\"td status blue\">Sent</div>\n                    case \"checked\":\n                        return <div style={userElements} className=\"td status green\">Done</div>\n                }\n            }\n\n            const TaskStatusOptionsMobile = (status) => {\n                switch(status){\n                    case \"open\":\n                        // return <div style={userElements} className=\"td status-m blue\">Sent</div>\n                        return <div style={userElements} className=\"td status-m blue\">Sent</div>\n                    case \"checked\":\n                        return <div style={userElements} className=\"td status-m green\">Done</div>\n                }\n            }\n\n            const AllTasksBlock = () => TasksList.map((task) =>\n                <Link to={\"/task/\" + task.task_link} key={task.task_link}>\n                <div className={\"tasks-row \" + task.color} style={columnStyle}>\n                    <div className=\"td name\">{task.name.length > 34 ? task.name.substring(0, 34) + \"...\" : task.name}</div>\n                    {/* <div className=\"table_space\" style={adminElements}></div> */}\n                    <div className=\"td topic\">{task.topic}</div>\n                    <div className=\"td deadline\">{reformatDate(task.deadline.substr(0, 10))}</div>\n                    {task.homework ? TaskStatusOptions(task.homework.status) : <div style={userElements} className=\"td status red\"> Not sent </div> } \n                    {task.homework ? <div style={userElements} className=\"td mark\">{task.homework.teacher_mark}</div> : <div style={userElements} className=\"td mark\"> — </div> } \n                    <div className=\"table_space\" style={adminElements}></div>\n                    <div className=\"td published\">{reformatDate(task.created_date.substr(0, 10))}</div>\n\n        {task.homework ? TaskStatusOptionsMobile(task.homework.status) : <div className=\"td published-m\">{reformatDate(task.created_date.substr(0, 10))}</div> }\n                    <div className=\"td short_description_mobile\">{task.comment.substr(0, 50)}</div>\n                    <Link to=\"#tasks\">\n                    <div className=\"td delete-action\" onClick={() => handlePopUpContent(\"deleteTask\", {smallPopUp: true, link: GroupInfo.link, taskLink: task.task_link}) } style={adminElements}>\n                        <img className=\"delete_icon\" src=\"/assets/svg/delete.svg\" alt=\"Delete\" />\n                    </div>\n                    </Link>\n                </div>\n                </Link>\n            )\n\n\n            const ErrorScreen = (props) => {\n                return(\n                    <div className=\"error-screen\">\n                        <img src=\"/assets/illustration/desk.svg\" alt=\"Desk\" />\n                        <p>The teacher hasn't posted any tasks yet. You can rest!</p>\n                    </div>\n                );\n            }\n\n            return (\n                <React.Fragment>\n                    {UserRole === \"admin\" ? <TopMenu currentGroupLink={GroupLink} isAdmin /> : <TopMenu currentGroupLink={GroupLink} /> }\n\n                    <div className=\"goback_button\" onClick={() => window.history.back()}>\n                        <img className=\"back_icon\" src=\"/assets/svg/back.svg\" alt=\"Back\" />\n                        Go back\n                    </div>\n                    \n                    <div className=\"alltasks-page action-space\">\n                        <div className=\"page_heading space\">Tasks</div>\n                        {UnDoneTasks ? <div className=\"undone\" style={userElements}>Undone tasks: {UnDoneTasks}</div> : null}\n                        <div className=\"tasks-column-names\" style={columnStyle}>\n                            <span>Name</span>\n                            {/* <div className=\"table_space\" style={adminElements}></div> */}\n                            <span>Topic</span>\n                            <span>Deadline</span>\n                            <span style={userElements}>Status</span>\n                            <span style={userElements}>Mark</span>\n                            <div className=\"table_space\" style={adminElements}></div>\n                            <span>Created</span>\n                            {/* <span style={adminElements}>Action</span> */}\n                        </div>\n                        <div className=\"tasks-column-rows\">\n                        {TasksList ? <AllTasksBlock /> : <ErrorScreen />}\n                        </div>\n                    </div>\n\n                    <div className=\"button_new\" style={adminElements} onClick={() => handlePopUpContent(\"newTask\", GroupInfo.link)}>\n                        <img src=\"/assets/svg/blue-plus.svg\" alt=\"New\" />\n                    </div>\n\n                </React.Fragment>\n            );\n        } else {\n            return (\n                <div className=\"grouppage\">\n                    {/* Loading... */}\n                </div>\n            );\n        }\n    }\n}\n\nTaskPage.contextType = PopUpContext;","import AllTasksPage from './all-tasks-page';\n\nexport default AllTasksPage;","import React, { Component } from 'react';\n\nimport './admin.css';\nimport TopMenu from '../../top-menu';\n\nimport GroupService from '../../../services/group-service';\nimport PopUpContext from '../../context/popup-context';\n\n\n// import { useParams } from \"react-router-dom\";\n\n\nexport default class GroupSettingsPage extends Component {\n\n    state = {\n        GroupService: new GroupService(),\n        GroupLink: null,\n        GroupInfo: null,\n        UserRole: null,\n    }\n\n    componentDidMount() {\n        this.componentDidUpdate()\n    }\n\n    componentDidUpdate() {\n        let link = this.props.match.params.link;\n        if (this.state.GroupLink !== link) {\n            console.log(\"Update\")\n            this.setState({\n                GroupLink: link\n            });\n            this.state.GroupService.getGroupDataAdmin(link).then(\n                res => {\n                    console.log(res);\n                    if (res[\"response\"] !== false) {\n                        this.state.GroupService.getRole(link).then(\n                            roleRes => {\n                                // console.log(roleRes);\n                                if (roleRes[\"response\"] === \"admin\") {\n                                    this.setState({\n                                        UserRole: roleRes[\"response\"]\n                                    });\n                                    this.setState({\n                                        GroupInfo: res[\"response\"][0]\n                                    });\n                                } else {\n                                    window.location = \"/\";\n                                }\n                            }\n                        );\n                        // this.setState({\n                        //     GroupInfo: res[\"response\"][0]\n                        // });\n                    } else {\n                        console.log(\"Not found\");\n                        window.location = \"/\";\n                    }\n                }\n            );\n        }\n    }\n\n    onGroupEdit = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n\n        // console.log(e.target);\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n\n        this.state.GroupService.editGroup(formData).then(\n            res => {\n                console.log(res);\n                if (res[\"response\"][\"code\"] === \"100\") {\n                    // console.log(\"/class/\" + this.state.GroupLink)\n                    window.location = \"/admin/settings/\" + this.state.GroupLink;\n                } else {\n                    alert(res);\n                }\n            }\n        );\n    }\n\n    copyToClipboard = (e) => {\n        this.groupLinkField.select();\n        document.execCommand('copy');\n        // This is just personal preference.\n        // I prefer to not show the whole text area selected.\n        e.target.focus();\n        alert('Copied!');\n      };\n\n\n    render() {\n        const { GroupInfo, UserRole, GroupLink } = this.state;\n        const { handlePopUpContent, serverUrl } = this.context;\n\n        const generateGroupShortName = (data) => {\n            let name;\n            if (data.split(' ').length >= 2) {\n                let twoWords = data.split(' ').slice(0, 2).join(' ')\n                let matches = twoWords.match(/\\b(\\w)/g);\n                let acronym = matches.join('');\n                name = acronym.substring(0, 2);\n            } else {\n                name = data.substring(0, 2);\n            }\n            return name;\n        }\n\n\n        if (GroupInfo !== null) {\n            console.log(\"GroupInfo.picture: \" + GroupInfo.picture)\n            return (\n                <React.Fragment>\n                    {UserRole === \"admin\" ? <TopMenu currentGroupLink={GroupLink} isAdmin /> : <TopMenu currentGroupLink={GroupLink} /> }\n\n                    <div className=\"goback_button\" onClick={() => window.history.back()}>\n                        <img className=\"back_icon\" src=\"/assets/svg/back.svg\" alt=\"Back\" />\n                        Go back\n                    </div>\n                    <div className=\"group_settings_page action-space\">\n                        <div className=\"page_heading space\">Class Settings</div>\n                        <div className=\"profile_picture\">\n                            <span>Class picture</span>\n                            <div className=\"profile_picture_line\">\n            {GroupInfo.picture === \"data/uploads/images/default/group.png\" ? <div className=\"logo-circle\">{generateGroupShortName(GroupInfo.name)}</div> : <img src={serverUrl + GroupInfo.picture} alt=\"Picture\" /> }\n                                <span className=\"upload\" onClick={() => handlePopUpContent(\"groupPicture\", GroupInfo.link)}>Upload class picture</span>\n                            </div>\n                        </div>\n                        <form onSubmit={this.onGroupEdit} className=\"mid-size main_form\">\n                            <div className=\"input_block_section\">\n                                <span>Class name</span>\n                                <input type=\"text\" name=\"name\" defaultValue={GroupInfo.name} required/>\n                            </div>\n                            <div className=\"input_block_section\">\n                                <span>School name</span>\n                                <input type=\"text\" name=\"schoolName\" defaultValue={GroupInfo.school_name} required/>\n                            </div>\n                            <div className=\"input_block_section\">\n                                <span>Invitation pass</span>\n                                <span className=\"info\">(Secret pass that will allow people to join). <br/>Note: Keep it empty to make the class open to anyone.</span>\n                                <input type=\"text\" name=\"code\" defaultValue={GroupInfo.code} />\n                            </div>\n                            <input type=\"hidden\" name=\"link\" value={GroupInfo.link} />\n                            <button className=\"main\" type=\"submit\">Save</button>\n                        </form>\n                        <br/><br/>\n                        <form onSubmit={(e) => e.preventDefault()} className=\"mid-size main_form\">\n                            <div className=\"input_block_section\">\n                                <span>Class ID</span>\n                                <input type=\"text\" defaultValue={GroupInfo.link} readonly=\"readonly\"/>\n                            </div>\n                            <div className=\"input_block_section\">\n                                <span>Invitation link</span>\n                                <input type=\"text\" onClick={this.copyToClipboard} ref={(groupLinkField) => this.groupLinkField = groupLinkField} defaultValue={\"https://my.jetdesk.app/join/\" + GroupInfo.link} readonly=\"readonly\"/>\n                            </div>\n                        </form> \n                        <br/>\n                        <div className=\"leave\" onClick={() => handlePopUpContent(\"leaveGroup\", { smallPopUp: true, GroupLink: GroupLink })}>Leave class</div>\n                    </div>\n                </React.Fragment>\n            );\n        } else {\n            return (\n                <div className=\"group_settings_page\">\n                    {/* Loading... */}\n                </div>\n            );\n        }\n    }\n}\n\nGroupSettingsPage.contextType = PopUpContext;","import React, { Component } from 'react';\n\nimport TaskService from '../../../services/task-service';\n\nimport PopUpContext from '../../context/popup-context';\n\n\nimport './admin.css';\n\n// import { useParams } from \"react-router-dom\";\n\n\nexport default class HomeWorkPage extends Component {\n    state = {\n        TaskService: new TaskService(),\n        TaskInfo: null,\n        UserHomework: null,\n        HomeworkFiles: null,\n    }\n\n\n    componentDidMount() {\n        const homeworkLink = this.props.match.params.link\n        this.state.TaskService.getSingleHomeworkAdmin(homeworkLink).then(\n            res => {\n                console.log(res);\n                if (res[\"response\"] !== undefined) {\n                    this.state.TaskService.getSingleTask(res[\"response\"][0][\"task_link\"]).then(\n                        taskRes => {\n                            console.log(taskRes);\n                            this.state.TaskService.getStudentTaskFiles(res[\"response\"][0][\"group_link\"], homeworkLink).then(\n                                homeworkFilesRes => {\n                                    console.log(homeworkFilesRes);\n                                    this.setState({\n                                        TaskInfo: taskRes[\"response\"][0],\n                                        UserHomework: res[\"response\"][0],\n                                        HomeworkFiles: homeworkFilesRes[\"response\"],\n                                    });\n                                }\n                            )\n                        }\n                    )\n                } else {\n                    window.location = \"/\";\n                }\n            });\n    }\n\n\n    onNewHomework = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n\n        // console.log(e.target);\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n\n        console.log(formData);\n\n        this.state.TaskService.newHomework(formData).then(\n            res => {\n                console.log(res);\n                if (res[\"response\"][\"code\"] === \"100\") {\n                    window.location.reload();\n                } else {\n                    alert(\"Error! Check console\");\n                }\n            }\n        );\n    }\n\n    attachTeacherMessage = () => {\n        let comment = document.getElementById(\"teacherComment\").value;\n\n        this.state.TaskService.commentHomeworkAdmin(this.state.UserHomework.homework_link, comment).then(\n            res => {\n                console.log(res);\n                if (res[\"response\"][\"code\"] === \"100\") {\n                    window.location.reload();\n                } else {\n                    alert(\"Error! Check console\");\n                }\n            }\n        )\n    }\n\n    render() {\n\n        const { TaskInfo, UserHomework, HomeworkFiles } = this.state;\n\n        const { handlePopUpContent, serverUrl } = this.context;\n\n        if (TaskInfo !== null) {\n\n            const senderIcon = serverUrl + UserHomework.user.picture;\n            const senderName = UserHomework.user.name;\n\n            const TaskFiles = () => {\n                return (\n                    <h4>Attached files:</h4>\n                )\n            }\n\n            const StudentTaskFiles = () => {\n                return (\n                    <h4 className=\"student-files-heading\">Student files:</h4>\n                )\n            }\n\n            const HomeworkFilesBlock = () => HomeworkFiles.map((file) =>\n                <div key={file.id} className=\"file-line\">\n                    <span className=\"name\">{file.file_name}</span>\n                    <div className=\"right-side\">\n                        <span className=\"type\">{file.type}</span>\n                        <a target='_blank' rel=\"noopener noreferrer\" href={file.file_link}><img src=\"/assets/svg/download.svg\" alt=\"Open\" /></a>\n                    </div>\n                </div>\n            );\n\n            return (\n                <React.Fragment>\n                    <div className=\"goback_button\" onClick={() => window.history.back()}>\n                        <img className=\"back_icon\" src=\"/assets/svg/back.svg\" alt=\"Back\" />\n                        Go back\n                    </div>\n                    <div className=\"taskpage homework\">\n                        <div className=\"page_heading\">Work</div>\n                        <div className=\"header-user-line\">\n                            <img src={senderIcon} alt=\"User Pic\" />\n                            <span>{senderName}</span>\n                        </div>\n                        {/* {UserHomework ? <div className=\"task_status blue\">Sent</div> : <div className=\"task_status red\">To be done</div>} */}\n                        <div className=\"wrapper\">\n                            <div className=\"side-l\">\n                                <div className=\"task_heading\">\n                                    <div className={\"task_circle small_circle \" + TaskInfo.color}></div>\n                                    {TaskInfo.name}\n                                </div>\n                                <div className=\"task_deadline\">\n                                    Untill {TaskInfo.deadline.substr(0, 10)}\n                                </div>\n                                <div className=\"task_description\">\n                                    {TaskInfo.comment}\n                                </div>\n                                <TaskFiles />\n                            </div>\n\n                            <div className=\"side-r\">\n                                <div className=\"task_heading\">Student work</div>\n                                <div className=\"task_deadline second\">Sent: {UserHomework.created_date.substr(0, 10)}</div>\n                                <div className=\"homework-post\">\n                                    <img src={senderIcon} alt=\"User Pic\" />\n                                    <div className=\"user-text\">\n                                        <span>{senderName}</span>\n                                        <p>{UserHomework.comment}</p>\n                                    </div>\n                                </div>\n\n                                {UserHomework.teacher_message ? (\n                                    <div className=\"homework-post\">\n                                        <img src={serverUrl + UserHomework.teachers.teacherMessageSender.picture} />\n                                        <div className=\"user-text\">\n                                            <span>{UserHomework.teachers.teacherMessageSender.name}</span>\n                                            <p>{UserHomework.teacher_message}</p>\n                                        </div>\n                                    </div>\n                                ) : null}\n\n                                {UserHomework.teacher_comment ? (\n                                    <div className=\"homework-post\">\n                                        <img src={serverUrl + UserHomework.teachers.teacherCommentSender.picture} />\n                                        <div className=\"user-text\">\n                                            <span>{UserHomework.teachers.teacherCommentSender.name}</span>\n                                            <p>{UserHomework.teacher_comment}</p>\n                                        </div>\n                                    </div>\n                                ) : null}\n\n                                <div className=\"stroke\"></div>\n                                {UserHomework.teacher_message === null ? (\n                                    <div className=\"teacher-comment\">\n                                        <textarea id=\"teacherComment\" name=\"comment\" placeholder=\"Attach a comment...\"></textarea>\n                                        <img onClick={this.attachTeacherMessage} className=\"teacher-comment-button\" src=\"/assets/svg/send.svg\" />\n                                    </div>\n                                ) : null}\n                                <StudentTaskFiles />\n                                {HomeworkFiles ? <div className=\"files-list\"><HomeworkFilesBlock /></div> : <p className=\"files-message\">Student hasn't attached any files yet...</p>}\n                                <br /><br />\n                                {UserHomework.teacher_comment ? (\n                                    <button className=\"main gray send-work\">Already Rated</button>\n                                ) : (\n                                        <button onClick={() => handlePopUpContent(\"rateHomework\", { task_link: TaskInfo.task_link, homework_link: UserHomework.homework_link, max_mark: TaskInfo.max_mark })} className=\"main send-work\">Rate the work</button>\n                                    )}\n                            </div>\n                        </div>\n                    </div>\n                </React.Fragment>\n            );\n        } else {\n            return (\n                <div className=\"grouppage\">\n                    {/* Loading... */}\n                </div>\n            );\n        }\n    }\n}\n\nHomeWorkPage.contextType = PopUpContext;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './../all-tasks/all-tasks-page.css';\nimport './admin.css';\nimport TopMenu from '../../top-menu';\n\nimport GroupService from '../../../services/group-service';\nimport PopUpContext from '../../context/popup-context';\n\n\n// import { useParams } from \"react-router-dom\";\n\n\nexport default class ManageLessonsPage extends Component {\n\n    state = {\n        GroupService: new GroupService(),\n        UserRole: null,\n        GroupInfo: null,\n        GroupLink: null,\n        LessonsList: null,\n    }\n\n    componentDidMount() {\n        const groupLink = this.props.match.params.link;\n        this.state.GroupService.getGroupData(groupLink).then(\n            res => {\n                console.log(res);\n                if (res[\"response\"] !== false) {\n                    this.state.GroupService.getRole(groupLink).then(\n                        roleRes => {\n                            // console.log(roleRes);\n                            if (roleRes[\"response\"] === \"admin\" || roleRes[\"response\"] === \"teacher\") {\n                                this.state.GroupService.getLessons(groupLink).then(\n                                    lessonsRes => {\n                                        console.log(lessonsRes);\n                                        this.setState({\n                                            UserRole: roleRes,\n                                            GroupInfo: res[\"response\"][0],\n                                            LessonsList: lessonsRes[\"response\"],\n                                            GroupLink: res[\"response\"][0][\"link\"],\n                                        });\n                                    });\n                            } else {\n                                window.location = \"/\";\n                            }\n                        });\n                } else {\n                    window.location = \"/\";\n                }\n            });\n\n    }\n\n\n// deleteLesson = (lessonId) => {\n//     this.state.GroupService.deleteLesson(this.state.GroupInfo.link, lessonId).then(\n//         res => {\n//             console.log(res);\n//             window.location.reload();\n//         }\n//     );\n// }\n\n    // componentDidUpdate(prevProps, prevState) {\n    //     if (this.state.UserRole === \"admin\") {\n    //         if (prevState.AllHomeWorks === this.state.AllHomeWorks) {\n    //             this.state.TaskService.getAllHomework(this.state.TaskInfo.task_link, this.state.TaskInfo.group_link).then(\n    //                 res => {\n    //                     console.log(res);\n    //                     this.setState({\n    //                         AllHomeWorks: res[\"response\"]\n    //                     });\n    //                 }\n    //             );\n    //         }\n    //     }\n    // }\n\n\n    render() {\n\n        const { GroupInfo, UserRole, LessonsList, GroupLink } = this.state;\n        const { handlePopUpContent, reformatDate } = this.context;\n\n        if (GroupInfo !== null) {\n\n\n            const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n\n            const AllLessonsBlock = () => LessonsList.map((event) =>\n                <div className=\"tasks-row blue lessons-row\" key={event.id}>\n                    <div className=\"td name\">{event.title}</div>\n                    <div className=\"td delete-action-mobile\">\n                        <img onClick={() => handlePopUpContent(\"deleteLesson\", {smallPopUp: true, link: GroupInfo.link, eventId: event.id})} className=\"delete_icon\" src=\"/assets/svg/delete.svg\" alt=\"Delete\" />\n                    </div>\n                    {/* <div className=\"table_space\" style={adminElements}></div> */}\n                    {event.recurring === 0 ? <div className=\"td pc-line\">{reformatDate(event.eventDate.substr(0, 10))}</div> : <div className=\"td pc-line\">{days[event.days_of_week]}</div>}\n                    <div className=\"td blue-text-mobile\">{event.start_time.substr(0, 5)} {days[event.days_of_week]}</div>\n                    <div className=\"td blue-text\">{event.start_time.substr(0, 5)}</div>\n                    {event.recurring === 0 ? <React.Fragment> <div className=\"td recurring-status pc\">No</div> <div className=\"td recurring-status mobile\">{reformatDate(event.eventDate.substr(0, 10))} </div> </React.Fragment>: <div className=\"td recurring-status\">Weekly</div>}\n                    {/* <div className=\"table_space\"></div> */}\n                    <div className=\"td delete-action-pc\">\n                        <img onClick={() => handlePopUpContent(\"deleteLesson\", {smallPopUp: true, link: GroupInfo.link, eventId: event.id})} className=\"delete_icon\" src=\"/assets/svg/delete.svg\" alt=\"Delete\" />\n                    </div>\n                    <div className=\"td short_description_mobile\">{event.description.substr(0, 100)}</div>\n\n                    {/* {task.homework ? TaskStatusOptions(task.homework.status) : <div style={userElements} className=\"td status red\"> Not sent </div> } \n                {task.homework ? <div style={userElements} className=\"td mark\">{task.homework.teacher_mark}</div> : <div style={userElements} className=\"td mark\"> — </div> } \n                <div className=\"table_space\" style={adminElements}></div>\n                {task.homework ? TaskStatusOptionsMobile(task.homework.status) : <div className=\"td published-m\">{reformatDate(task.created_date.substr(0, 10))}</div> } */}\n                </div>\n            )\n\n            const ErrorScreen = (props) => {\n                return(\n                    <div className=\"error-screen\">\n                        <img src=\"/assets/illustration/desk-gray.svg\" alt=\"Empty\" />\n                        <p>No lessons (events) yet...</p>\n                    </div>\n                );\n            }\n\n            return (\n                <React.Fragment>\n                    {UserRole === \"admin\" ? <TopMenu currentGroupLink={GroupLink} isAdmin /> : <TopMenu currentGroupLink={GroupLink} /> }\n\n                    <div className=\"goback_button\" onClick={() => window.history.back()}>\n                        <img className=\"back_icon\" src=\"/assets/svg/back.svg\" alt=\"Back\" />\n                        Go back\n                    </div>\n\n                    <div className=\"alltasks-page action-space admin-lessons\">\n                        <div className=\"page_heading space\">Lessons</div>\n                        <div className=\"tasks-column-names lessons-row\">\n                            <span>Name</span>\n                            <span>Date/Day</span>\n                            <span>Time</span>\n                            <span>Recurring</span>\n                            {/* <div className=\"table_space\"></div>\n                            <span>Action</span> */}\n                        </div>\n                        <div className=\"tasks-column-rows\">\n                            {LessonsList ? <AllLessonsBlock /> : <ErrorScreen />}\n                        </div>\n                    </div>\n\n                    <div className=\"button_new\" onClick={() => handlePopUpContent(\"newLesson\", GroupInfo.link)}>\n                        <img src=\"/assets/svg/blue-plus.svg\" alt=\"New\" />\n                    </div>\n                </React.Fragment>\n            );\n        } else {\n            return (\n                <div className=\"grouppage\">\n                    {/* Loading... */}\n                </div>\n            );\n        }\n    }\n}\n\nManageLessonsPage.contextType = PopUpContext;","import React, { Component } from \"react\";\n\nimport './join-class.css';\n\nimport GroupService from '../../../services/group-service';\n\nimport PopUpContext from '../../context/popup-context';\n\nexport default class JoinClassPage extends Component {\n\n    state = {\n        GroupLink: null,\n        GroupService: new GroupService(),\n    }\n\n    componentDidMount() {\n        this.componentDidUpdate();\n    }\n\n    componentDidUpdate() {\n        let link = this.props.match.params.link;\n        if (this.state.GroupLink !== link) {\n            this.setState({\n                GroupLink: link,\n            });\n\n        }\n    }\n\n    onGroupJoin = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n\n        // console.log(e.target);\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n\n        this.state.GroupService.joinGroup(formData).then(\n            res => {\n                console.log(res);\n                if (res[\"response\"][\"code\"] === \"100\") {\n                    window.location = \"/class/\" + res[\"response\"][\"link\"];\n                } else {\n                    // alert(res[\"response\"][\"message\"]);\n                    this.context.updateErrorMessage(res[\"response\"][\"message\"]);\n                    this.context.handlePopUpContent(\"error\");\n                }\n            }\n        );\n    }\n\n    render() {\n\n        const { GroupLink } = this.state;\n\n        return (\n            <div className=\"join-class\">\n                <div className=\"page_heading\">Join group via link</div>\n                <div className=\"two-sides\">\n                    <div className=\"left-page\">\n                        <form onSubmit={this.onGroupJoin}>\n                            <div className=\"margin-top\"></div>\n                            <div className=\"profile_settings_input_block\">\n                                <span>Group ID</span>\n                                <input type=\"text\" defaultValue={GroupLink} readonly=\"readonly\" />\n                            </div>\n                            <div className=\"profile_settings_input_block\">\n                                <span>Enter invitation pass (if required)</span>\n                                <input type=\"text\" name=\"code\" placeholder=\"Invitation pass\" />\n                            </div>\n\n                            <input type=\"hidden\" name=\"link\" defaultValue={GroupLink} />\n                            <div className=\"margin-top-small\"></div>\n                            <div className=\"form_action\">\n                                <button className=\"main\" type=\"submit\">Join</button>\n                            </div>\n                        </form>\n                    </div>\n                    <div className=\"right-page flex-center\">\n                        <img src=\"/assets/illustration/enter.svg\" className=\"join-illustration\" alt=\"Enter\" />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nJoinClassPage.contextType = PopUpContext;","import JoinClassPage from './join-class';\n\nexport default JoinClassPage;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport './../all-tasks/all-tasks-page.css';\nimport './admin.css';\n\nimport TopMenu from '../../top-menu';\nimport GroupService from '../../../services/group-service';\nimport PopUpContext from '../../context/popup-context';\n\n\n// import { useParams } from \"react-router-dom\";\n\n\nexport default class ManageMembersPage extends Component {\n\n    state = {\n        GroupService: new GroupService(),\n        UserRole: null,\n        GroupInfo: null,\n        GroupLink: null,\n        MembersList: null,\n        TotalMembers: null,\n        CurrentRoleMenu: null,\n    }\n\n    componentDidMount() {\n        const groupLink = this.props.match.params.link;\n        this.state.GroupService.getGroupData(groupLink).then(\n            res => {\n                console.log(res);\n                if (res[\"response\"] !== false) {\n                    this.state.GroupService.getRole(groupLink).then(\n                        roleRes => {\n                            // console.log(roleRes);\n                            if (roleRes[\"response\"] === \"admin\" || roleRes[\"response\"] === \"teacher\") {\n                                this.state.GroupService.getGroupMembersAdmin(groupLink).then(\n                                    membersRes => {\n                                        console.log(membersRes);\n                                        this.setState({\n                                            UserRole: roleRes[\"response\"],\n                                            GroupInfo: res[\"response\"][0],\n                                            MembersList: membersRes[\"response\"][\"allUsers\"],\n                                            TotalMembers: membersRes[\"response\"][\"totalMembers\"],\n                                            GroupLink: res[\"response\"][0][\"link\"],\n                                        });\n                                    });\n                            } else {\n                                window.location = \"/\";\n                            }\n                        });\n                } else {\n                    window.location = \"/\";\n                }\n            });\n\n    }\n\n    showRoleMenu = (num) => {\n        document.getElementById(\"roleMenu\" + num).style.display = \"block\";\n\n        function checkForClick(event) {\n            let isClickInside = document.getElementById(\"roleMenu\" + num).contains(event.target);\n\n            if (!isClickInside) {\n                document.getElementById(\"roleMenu\" + num).style.display = \"none\";\n                document.removeEventListener(\"click\", checkForClick, false);\n            }\n        }\n\n        document.addEventListener('click', checkForClick);\n    }\n\n    setTeacher = (userId) => {\n        this.state.GroupService.setTeacher(this.state.GroupInfo.link, userId).then(\n            res => {\n                console.log(res);\n            if(res[\"response\"][\"code\"] !== \"100\"){\n                    alert(\"To many teachers for this group...\");\n                } else{\n                    window.location.reload(); \n                }\n            });\n    }\n\n    setTeacherToStudent = (userId) => {\n        this.state.GroupService.setTeacherToStudent(this.state.GroupInfo.link, userId).then(\n            res => {\n                console.log(res);\n                window.location.reload();\n            });\n    }\n\n\n\n    render() {\n\n        const { GroupInfo, UserRole, MembersList, TotalMembers, GroupLink } = this.state;\n        const { handlePopUpContent, reformatDate, serverUrl } = this.context;\n\n        if (GroupInfo !== null) {\n\n            const AllMembersBlock = () => MembersList.map((member, key) =>\n                <div className=\"tasks-row members blue members-row\" key={key}>\n                    <div className=\"td number\">{key + 1}</div>\n                    <div className=\"td user-picture\">\n                        <img src={serverUrl + member.userData.picture} alt={member.userData.name} />\n                    </div>\n                    <div className=\"td user-line\">\n                        {member.userData.name} {member.role === \"teacher\" ? <img className=\"teacher-icon\" src=\"/assets/svg/hat.svg\" alt=\"Teacher\" /> : null}\n                    </div>\n                    <div className=\"td role pc-only\">\n                        <span onClick={() => this.showRoleMenu(key)} className=\"member-role\">{member.role}</span> {member.role !== \"admin\" ? <img onClick={() => this.showRoleMenu(key)} className=\"down-icon\" src=\"/assets/svg/down.svg\" alt=\"Select\" /> : null}\n\n                        <div className=\"role-menu\" id={\"roleMenu\" + key}>\n                            {member.role === \"teacher\" ? <React.Fragment><div className=\"line blue\"><img src=\"/assets/svg/check.svg\" alt=\"Check\" /> Teacher</div><div className=\"line\" onClick={() => this.setTeacherToStudent(member.id)}>Student</div></React.Fragment> : <React.Fragment><div className=\"line blue\"><img src=\"/assets/svg/check.svg\" alt=\"Check\" /> Student</div><div className=\"line\" onClick={() => this.setTeacher(member.id)}>Teacher</div></React.Fragment>}\n                        </div>\n                    </div>\n\n                    <div className=\"td rating pc-only\">\n                        {member.totalUserMark}\n                    </div>\n                    <div className=\"td delete pc-only\">\n                        {/* <img src=\"/assets/svg/trash.svg\" alt=\"Delete\" /> */}\n                        {member.role !== \"admin\" ? <img className=\"delete_icon\" src=\"/assets/svg/delete.svg\" alt=\"Delete\" onClick={() => handlePopUpContent(\"deleteMember\", { smallPopUp: true, GroupLink: GroupInfo.link, UserId: member.id })} /> : null}\n                    </div>\n                    <div className=\"td rating more\">\n                    <img className=\"more_icon\" src=\"/assets/svg/more.svg\"  alt=\"More\" onClick={() => handlePopUpContent(\"memberInfo\", {GroupLink: GroupInfo.link, UserId: member.id}) } />\n                    </div>\n                </div>\n            )\n\n\n            return (\n                <React.Fragment>\n                    {UserRole === \"admin\" ? <TopMenu currentGroupLink={GroupLink} isAdmin /> : <TopMenu currentGroupLink={GroupLink} /> }\n\n                    <div className=\"goback_button\" onClick={() => window.history.back()}>\n                        <img className=\"back_icon\" src=\"/assets/svg/back.svg\" alt=\"Back\" />\n                        Go back\n                    </div>\n\n                    <div className=\"alltasks-page action-space admin-lessons\">\n                        <div className=\"page_heading\">Group Members</div>\n                        {TotalMembers ? <div className=\"undone\">Total members: {TotalMembers}</div> : null}\n                        <div className=\"tasks-column-names members-row\">\n                            <span>Number</span>\n                            <span></span>\n                            <span>Full Name</span>\n                            <span>Role</span>\n                            <span>Rating</span>\n                            <span></span>\n                            {/* <div className=\"table_space\"></div>\n                            <span>Action</span> */}\n                        </div>\n                        <div className=\"tasks-column-rows\">\n                            {MembersList ? <AllMembersBlock /> : <p className=\"info_message\">No members yet...</p>}\n                        </div>\n                    </div>\n                </React.Fragment>\n            );\n        } else {\n            return (\n                <div className=\"grouppage\">\n                    {/* Loading... */}\n                </div>\n            );\n        }\n    }\n}\n\nManageMembersPage.contextType = PopUpContext;","import React, { Component } from 'react';\nimport '../auth/auth.css';\n\nimport AuthService from '../../../../services/auth-service';\n\nclass Restore extends Component {\n\n    state = {\n        AuthService: new AuthService(),\n        showingButton: false,\n        message: null,\n        sMessage: null\n    };\n\n\n    onRestoreFormSubmit = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n        this.state.AuthService.sendFormRequest(formData, '/auth/restore').then(\n            res => {\n                if (res[\"response\"][\"message\"] !== undefined) {\n                    this.setState({\n                        message: res[\"response\"][\"message\"]\n                    });\n                } else{\n                    this.setState({\n                        sMessage: res[\"response\"]\n                    });\n                }\n            }\n        );\n    }\n\n    render() {\n        const { showingButton, message, sMessage } = this.state;\n\n        const buttonStyle = {\n            display: showingButton ? 'block' : 'none'\n        }\n\n        const messageStyle = {\n            display: message ? 'flex' : 'none'\n        }\n\n        const sMessageStyle = { //success message\n            display: sMessage ? 'flex' : 'none'\n        }\n\n        return (\n            <div className=\"auth\">\n                <div className=\"header\">\n                    <img className=\"logo\" src=\"/assets/svg/logo.svg\" alt=\"JetDesk\" />\n                    <a href=\"https://jetdesk.app/\">\n                        <span>JetDesk</span>\n                    </a>\n                </div>\n                <div style={messageStyle} className=\"message\">{message}</div>\n                <div style={sMessageStyle} className=\"message s\">{sMessage}</div>\n                <div className=\"page-content\">\n                    <form id=\"restore\" onSubmit={this.onRestoreFormSubmit}>\n                        <h1>Restore</h1>\n                        <div className=\"input_block_section\">\n                            <span>Email</span>\n                            <input type=\"email\" name=\"email\" id=\"email\" placeholder=\"Enter your email here\" required />\n                        </div>\n                        <div className=\"actions absolute-on-mobile\">\n                            <button type=\"submit\">Restore</button>\n                            <a href=\"/signin\">Go back</a>\n                        </div>\n                    </form>\n                    <img className=\"illustration\" src=\"/assets/illustration/enter.svg\" alt=\"Door\" />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Restore; ","import React, { Component } from 'react';\nimport '../auth/auth.css';\n\n// import { withRouter } from 'react-router-dom';\nimport queryString from 'query-string';\n\nimport AuthService from '../../../../services/auth-service';\n\nclass Password extends Component {\n\n    state = {\n        AuthService: new AuthService(),\n        showingButton: false,\n        userPass: '',\n        message: null,\n        sMessage: null,\n        userToken: null,\n    };\n\n    componentDidMount(){\n        const parsed = queryString.parse(window.location.search);\n        console.log(parsed);\n\n        if(parsed.t !== undefined){\n            this.setState({userToken: parsed.t})\n        } else{\n            window.location = \"/\";\n        }\n    }\n\n    onPasswordFill = (e) => {\n        this.setState({\n            userPass: e.target.value\n        });\n    }\n\n    onPasswordCheck = (e) => {\n        if (e.target.value === this.state.userPass) {\n            this.setState({\n                showingButton: true\n            });\n        }\n    }\n\n    onNewPassFormSubmit = (e) => {\n        e.preventDefault(); // avoid to execute the actual submit of the form.\n        let formData = [];\n        for (let i = 0; i < e.target.length - 1; i++) {\n            formData[e.target[i].name] = e.target[i].value;\n        }\n        this.state.AuthService.sendFormRequest(formData, '/auth/password').then(\n            res => {\n                console.log(res[\"response\"]);\n                if (res[\"response\"][\"code\"] !== undefined) {\n                    this.setState({\n                        sMessage: res[\"response\"][\"message\"]\n                    });\n\n                    function redirectToLogin() {\n                        window.location = \"/signin\";\n                      }\n                      \n                      setTimeout(redirectToLogin, 2000);\n                } else{\n                    this.setState({\n                        message: res[\"response\"][\"message\"]\n                    });\n                }\n            }\n        );\n    }\n\n    render() {\n\n        const { showingButton, message, sMessage, userToken } = this.state;\n\n        const buttonStyle = {\n            display: showingButton ? 'block' : 'none'\n        }\n\n        const messageStyle = {\n            display: message ? 'flex' : 'none'\n        }\n\n        const sMessageStyle = { //success message\n            display: sMessage ? 'flex' : 'none'\n        }\n\n        return (\n            <div className=\"auth\">\n                <div className=\"header\">\n                    <img className=\"logo\" src=\"/assets/svg/logo.svg\" alt=\"JetDesk\" />\n                    <a href=\"https://jetdesk.app/\">\n                        <span>JetDesk</span>\n                    </a>\n                </div>\n                <div style={messageStyle} className=\"message\">{message}</div>\n                <div style={sMessageStyle} className=\"message s\">{sMessage}</div>\n                <div className=\"page-content\">\n                    <form id=\"restore\" onSubmit={this.onNewPassFormSubmit}>\n                        <h1>New Password</h1>\n                        <div className=\"input_block_section\">\n                            <span>Pick a password</span>\n                            <input type=\"password\" onChange={this.onPasswordFill} name=\"password\" id=\"passR\" placeholder=\"Enter your password here\" required />\n                        </div>\n                        <div className=\"input_block_section\">\n                            <span>Repeat password</span>\n                            <input type=\"password\" onChange={this.onPasswordCheck} name=\"password2\" id=\"confirmpassR\" placeholder=\"Repeat your password here\" required />\n                        </div>\n                        <input type=\"hidden\" name=\"userToken\" defaultValue={userToken} />\n                        <div className=\"actions absolute-on-mobile\">\n                        <button type=\"submit\" style={buttonStyle}>Update</button>\n                            {/* <a href=\"/signin\">Go back</a> */}\n                        </div>\n                    </form>\n                    <img className=\"illustration\" src=\"/assets/illustration/enter.svg\" alt=\"Door\" />\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Password; ","import App from './app';\n\nexport default App;","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from \"react-router-dom\";\n\n\nimport './app.css';\n\n//context\nimport PopUpContext from '../context/popup-context';\n\n//layouts\n// import PopUp from '../popup';\nimport Auth from '../pages/layouts/auth';\nimport SignIn from '../pages/layouts/signin';\nimport SignUp from '../pages/layouts/signup';\nimport DefaultLayout from '../pages/layouts/default';\n\n//pages\nimport HomePage from '../pages/home';\nimport UserProfile from '../pages/user';\nimport GroupPage from '../pages/group';\nimport TaskPage from '../pages/task';\nimport AllTasksPage from '../pages/all-tasks';\nimport GroupSettingsPage from '../pages/admin/group-settings-page';\nimport HomeWorkPage from '../pages/admin/homework-page';\nimport ManageLessonsPage from '../pages/admin/manage-lessons';\nimport JoinClassPage from '../pages/join';\nimport ManageMembersPage from '../pages/admin/manage-members';\nimport Restore from '../pages/layouts/restore/restore';\nimport Password from '../pages/layouts/restore/pass';\n\nexport default class App extends Component {\n\n  state = {\n    isLogedIn: false,\n    token: null,\n    showingPopUp: false,\n    popUpContent: null,\n    errorMessage: null,\n    currentGroupLink: null,\n    // serverUrl: 'http://localhost:5000/',\n    serverUrl: 'https://api.jetdesk.app/',\n  };\n\n\n  componentDidMount() {\n    if (localStorage.getItem('token') !== null) {\n      this.logIn();\n    }\n  }\n\n\n  logOut = () => {\n    localStorage.clear();\n    this.setState({\n      token: null,\n      isLogedIn: false\n    });\n  }\n\n  logIn = () => {\n    this.setState({\n      token: localStorage.getItem('token'),\n      isLogedIn: true\n    });\n  }\n\n  updateErrorMessage = (msg) => {\n    this.setState({\n      errorMessage: msg\n    });\n  }\n\n  changePopUpState = () => {\n    this.setState({\n      showingPopUp: !this.state.showingPopUp\n    });\n    document.body.style.overflow = 'unset';\n    document.querySelector('body').style.touchAction = \"auto\"; //enable scroll\n  }\n\n  handleTouchMove(e) {\n    e.preventDefault();\n  }\n\n\n  handlePopUpContent = (name, currentGroupLink) => {\n    console.log(\"handlePopUpContent: \" + name);\n\n    if (currentGroupLink === undefined) {\n      currentGroupLink = null;\n    }\n    console.log(\"currentGroupLink: \" + currentGroupLink);\n\n    document.body.style.overflow = 'hidden';\n\n  //   window.addEventListener(\"scroll\", (e) => {\n  //     e.preventDefault();\n  //     window.scrollTo(0, 0);\n  // });\n\n  document.querySelector('body').style.touchAction = \"none\";  //disable scroll\n\n\n    const { showingPopUp, popUpContent } = this.state;\n    if (popUpContent === name) {\n      if (!showingPopUp) {\n        this.setState({ showingPopUp: true, popUpContent: name, currentGroupLink: currentGroupLink });\n      } else {\n        this.setState({ showingPopUp: false, popUpContent: null, currentGroupLink: null });\n      }\n    } else {\n      this.setState({ showingPopUp: true, popUpContent: name, currentGroupLink: currentGroupLink });\n    }\n\n  };\n\n  reformatDate = (dateStr) => {\n    let dArr = dateStr.split(\"-\");  // ex input \"2010-01-18\"\n    // return dArr[2] + \"/\" + dArr[1] + \"/\" + dArr[0].substring(2); //ex out: \"18/01/10\"\n    return dArr[1] + \"/\" + dArr[2] + \"/\" + dArr[0]; //ex out: 04/23/20\n  }\n\n\n  updateCurrentGroupLink = (link) => {\n    console.log(\"updateCurrentGroupLink: \" + link);\n    // if(this.state.currentGroupLink !== link){\n    this.setState({\n      currentGroupLink: link\n    });\n    // } \n  }\n\n\n  render() {\n    const { isLogedIn, showingPopUp, popUpContent, errorMessage, currentGroupLink, serverUrl } = this.state;\n    const { logOut, changePopUpState, handlePopUpContent, updateErrorMessage, updateCurrentGroupLink, reformatDate } = this;\n\n    const PopUpProviderProps = {\n      logOut,\n      showingPopUp,\n      popUpContent,\n      changePopUpState,\n      handlePopUpContent,\n      errorMessage,\n      updateErrorMessage,\n      currentGroupLink,\n      updateCurrentGroupLink,\n      reformatDate,\n      serverUrl,\n    }\n\n\n    function RouteWrapper({\n      component: Component,\n      layout: Layout,\n      ...rest\n    }) {\n      return (\n        <Route {...rest} render={(props) =>\n          <PopUpContext.Provider value={PopUpProviderProps}>\n            <Layout {...props}>\n              <Component {...props} />\n            </Layout>\n            {/* {showingPopUp ? <PopUp /> : null} */}\n          </PopUpContext.Provider>\n        } />\n      );\n    }\n\n\n    {/* <Route path=\"/\" exact>\n              <PopUpContext.Provider value={PopUpProviderProps}>\n                <DefaultLayout>\n                  <HomePage />\n                </DefaultLayout>\n              </PopUpContext.Provider>\n    </Route> */}\n\n    {/* <Route path=\"/class/:link\" render={(props) => <PopUpContext.Provider value={PopUpProviderProps}><DefaultLayout><GroupPage {...props} /> </DefaultLayout></PopUpContext.Provider>} exact></Route> */ }\n\n    if (isLogedIn) {\n      // if(localStorage.getItem('token') !== null){\n      return (\n        <Router>\n          <Switch>\n            <RouteWrapper path=\"/\" exact component={HomePage} layout={DefaultLayout} />\n            <RouteWrapper path=\"/profile\" exact component={UserProfile} layout={DefaultLayout} />\n            <RouteWrapper path=\"/class/:link\" exact component={GroupPage} layout={DefaultLayout} />\n            <RouteWrapper path=\"/task/:link\" exact component={TaskPage} layout={DefaultLayout} />\n            <RouteWrapper path=\"/tasks/:link\" exact component={AllTasksPage} layout={DefaultLayout} />\n            <RouteWrapper path=\"/join/:link\" exact component={JoinClassPage} layout={DefaultLayout} />\n\n            <RouteWrapper path=\"/admin/settings/:link\" exact component={GroupSettingsPage} layout={DefaultLayout} />\n            <RouteWrapper path=\"/admin/homework/:link\" exact component={HomeWorkPage} layout={DefaultLayout} />\n            <RouteWrapper path=\"/admin/manage-lessons/:link\" exact component={ManageLessonsPage} layout={DefaultLayout} />\n            <RouteWrapper path=\"/admin/manage-members/:link\" exact component={ManageMembersPage} layout={DefaultLayout} />\n            <Redirect to=\"/\" />\n            {localStorage.getItem('token') !== null ? <Redirect to=\"/\" /> : null }\n          </Switch>\n        </Router>\n      );\n    } else {\n      return (\n        <Router>\n          <Switch>\n            <Route path=\"/signin\" exact>\n              <SignIn logIn={this.logIn} />\n            </Route>\n            <Route path=\"/signup\" exact>\n              <SignUp logIn={this.logIn} />\n            </Route>\n            <Route path=\"/restore\" exact>\n              <Restore />\n            </Route>\n            <Route path=\"/pass\" exact>\n              <Password />\n            </Route>\n            {localStorage.getItem('token') === null ? <Redirect to=\"/signin\" /> : null }\n            {/* <Redirect to=\"/signin\" /> */}\n          </Switch>\n        </Router>\n      );\n\n      // return <Auth logIn={this.logIn} />\n    }\n\n\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\n// import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}